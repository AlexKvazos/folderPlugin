{"version":3,"sources":["../../../scripts/buildfire.js","../../../scripts/owlCarousel/owlCarousel.js","../../../scripts/buildfire/components/carousel/carousel.js","../../../scripts/buildfire/components/pluginInstance/sortableList.js","../../../scripts/angular/ng-infinite-scroll.custom.js","src/widget.controller.js"],"names":["Packet","id","cmd","data","this","Date","toISOString","Math","random","instanceId","CustomEvent","event","params","bubbles","cancelable","detail","undefined","evt","document","createEvent","initCustomEvent","buildfire","isFileServer","url","indexOf","isWeb","window","location","protocol","logger","_suppress","href","attachRemoteLogger","tag","getElementById","alert","prompt","header","querySelector","script","createElement","src","appendChild","logMaxLength","clearHistory","_getLogContainerDIV","innerHTML","_logContainerDIV","_createLogContainerDIV","filterOutLogs","className","styleBlock","head","logClassTypes","index","splice","join","createFilterOption","text","toggleClass","option","value","select","div","style","position","left","top","width","backgroundColor","opacity","display","zIndex","onchange","options","selectedIndex","hideHistory","pushHistory","showHistory","parentNode","body","element","d","childNodes","length","removeChild","init","qs","parseQueryString","fid","console","log","message","dv","apply","arguments","debug","e","error","w","warn","i","info","show","hide","_callbacks","query","search","substring","vars","split","obj","Object","pair","decodeURIComponent","parseMetaOptions","tags","content","sections","forEach","section","s","eventManager","events","add","handler","allowMultipleHandlers","clear","push","eh","trigger","_context","context","removeEventListener","_postMessageHandler","addEventListener","appearance","insertHTMLAttributes","disableTheme","attachCSSFiles","disableSelect","mBody","getElementsByTagName","addClass","_whitelistedCommands","source","packet","JSON","parse","sequence","parent","_resendAttempts","_sendPacket","callback","err","result","stringify","timeout","setTimeout","rerun","wrapper","clearTimeout","p","angular","toJson","_parentPost","postMessage","getContext","navigation","navigateTo","pluginData","pluginId","folderName","title","navigateHome","scrollTop","openWindow","target","actionItem","action","openIn","_goBackOne","onBackButtonClick","restoreBackButtonClick","goBack","makeSafeLinks","t","anchors","querySelectorAll","setAttribute","preventDefault","navigateEmulator","getFrameType","PLUGIN_STRING_ENUM","LAUNCHER_PLUGIN","CONTROL_FRAME","PLUGIN_TYPE_ENUM","UNKNOWN","_forceCSSRender","html","type","nameOffset","verOffset","ix","nAgt","navigator","appVersion","userAgent","browserName","appName","fullVersion","parseFloat","majorVersion","parseInt","os","lastIndexOf","toLowerCase","toUpperCase","isNaN","getCSSFiles","files","pathname","base","scripts","replace","write","attachAppThemeCSSFiles","appId","liveMode","appHost","linkElement","CSSBusterCounter","_resizedTo","autosizeContainer","height","max","documentElement","clientHeight","scrollHeight","offsetHeight","setHeaderVisibility","triggerOnUpdate","appThemeCSSElement","titlebar","analytics","trackAction","actionName","metadata","trackView","datastore","get","tagType","getWithDynamicData","withDynamicData","getById","idType","save","insert","checkDuplicate","checkDuplicateType","bulkInsert","arrayObj","constructor","Array","code","update","delete","filter","onUpdate","onRefresh","triggerOnRefresh","disableRefresh","userData","userToken","userTokenType","imageLib","showDialog","isProdImageServer","resizeImage","ratio","disablePixelRation","devicePixelRatio","innerWidth","innerHeight","root","floor","cropImage","disablePixelRatio","local","_parser","localImageLibPath","parseFileFromUrl","toLocalPath","localURL","img","Image","onload","canvas","ctx","drawImage","toDataURL","onerror","onLine","dim","offset","x","y","notifications","confirm","beep","vibrate","actionItems","execute","list","create","iconUrl","history","label","onPop","triggerOnPop","pop","messaging","sendMessageToControl","sendMessageToWidget","onReceivedMessage","pluginInstance","ids","showCreatePluginInstancesDialog","skipPluginInstances","deeplink","getData","dld","template","setData","createLink","spinner","auth","login","logout","getCurrentUser","onLogin","triggerOnLogin","user","onLogout","triggerOnLogout","openProfile","userId","getUserProfile","device","calendar","addEvent","share","messageObj","onAppBackgrounded","onAppResumed","triggerOnAppBackgrounded","triggerOnAppResumed","geo","getCurrentPosition","watchPosition","onPositionChange","clearWatch","watchId","localStorage","setItem","key","getItem","removeItem","debugTag","endPoints","disableExternalLinkOverride","onclick","srcElement","getAttribute","inAppBrowser","tagName","regexp","RegExp","test","errorMsg","lineNumber","column","errorObj","prototype","Event","a","b","c","settings","extend","Defaults","$element","drag","m","state","n","o","_plugins","_supress","_current","_speed","_coordinates","_breakpoint","_width","_items","_clones","_mergers","_invalidated","_pipe","each","Plugins","proxy","slice","Pipe","run","setup","initialize","f","touches","pageX","pageY","clientX","clientY","g","h","j","k","msMaxTouchPoints","l","msPointerEnabled","start","startX","startY","current","currentX","currentY","offsetX","offsetY","distance","startTime","endTime","updatedX","targetEl","isTouch","isScrolling","isSwiping","direction","inMotion","_onDragStart","_onDragMove","_onDragEnd","_transitionEnd","_resizer","_responsiveCall","_goToLoop","_checkVisibile","items","loop","center","mouseDrag","touchDrag","pullDrag","freeDrag","margin","stagePadding","merge","mergeFit","autoWidth","startPosition","rtl","smartSpeed","fluidSpeed","dragEndSpeed","responsive","responsiveRefreshRate","responsiveBaseElement","responsiveClass","fallbackEasing","nestedItemSelector","itemElement","stageElement","themeClass","baseClass","itemClass","centerClass","activeClass","Width","Default","Inner","Outer","relative","$stage","children","remove","abs","eq","append","clone","prepend","toFixed","min","padding-left","padding-right","css","grep","reset","animate","coordinates","op","removeClass","browserSupport","imagesLoaded","find","preloadAutoWidthImages","wrap","not","refresh","eventsCall","internalEvents","addTriggerableEvents","viewport","Number","attr","property","name","invalidate","optionsLogic","prepare","all","getTime","orientation","watchVisibility","onDragStart","onDragMove","onDragEnd","_onResize","onResize","transitionEnd","_preventClick","preventClick","onThrottledResize","resizeTimer","isDefaultPrevented","eventsRouter","on","onselectstart","transitionEndVendor","originalEvent","which","speed","support3d","getTransformProperty","draggable","minimum","maximum","returnValue","removeAttribute","removeClick","closest","off","stopPropagation","getComputedStyle","getPropertyValue","vendorName","transform","transition","normalize","suppress","release","isNumeric","revert","mergers","clones","map","duration","to","next","prev","originalTarget","clientWidth","empty","jQuery","nodeType","andSelf","before","relatedTarget","call","destroy","offsetWidth","clearInterval","setInterval","hasClass","removeData","contents","unwrap","attachEvent","detachEvent","item","count","camelCase","onTrigger","transformVendor","fn","owlCarousel","Constructor","Zepto","_core","_loaded","_handlers","initialized.owl.carousel change.owl.carousel","namespace","lazyLoad","ceil","load","inArray","is","one","background-image","handlers","getOwnPropertyNames","Lazy","initialized.owl.carousel","autoHeight","changed.owl.carousel","loaded.owl.lazy","autoHeightClass","AutoHeight","_videos","_playing","_fullscreen","resize.owl.carousel","video","isInFullScreen","refresh.owl.carousel changed.owl.carousel","stop","prepared.owl.carousel","fetch","play","videoHeight","videoWidth","Error","match","thumbnail","after","ajax","jsonp","dataType","success","thumbnail_large","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","Video","core","swapping","previous","change.owl.carousel","drag.owl.carousel dragged.owl.carousel translated.owl.carousel","translate.owl.carousel","animateOut","animateIn","swap","Animate","translated.owl.carousel refreshed.owl.carousel","autoplay","play.owl.autoplay","stop.owl.autoplay","mouseover.owl.autoplay","autoplayHoverPause","pause","mouseleave.owl.autoplay","autoplayTimeout","autoplaySpeed","videoPlay","interval","hidden","_initialized","_pages","_controls","_templates","_overrides","dotsData","add.owl.carousel","remove.owl.carousel prepared.owl.carousel","navRewind","draw","refreshed.owl.carousel","nav","navText","navSpeed","navElement","navContainer","navContainerClass","navClass","slideBy","dotClass","dotsClass","dots","dotsEach","dotData","dotsSpeed","dotsContainer","controlsClass","prop","$container","appendTo","$indicators","prependTo","$next","$previous","overides","end","toggle","page","size","getPosition","Navigation","_hashes","hash","URLhashListener","Hash","components","carousel","_resizeImage","_cropImage","_getDomSelector","selector","editor","loadItems","_renderTemplate","itemsContainer","_initEvents","onItemChange","onOrderChange","oldIndex","newIndex","onAddItems","onDeleteItem","appendItems","_removeAll","_appendItem","fc","firstChild","me","moveHandle","mediaHolder","image","details","actionsWrapper","editButton","deleteButton","itemIndex","_getItemIndex","currentTarget","parentElement","_openActionItem","componentContainer","componentName","contentContainer","buttonContainer","button","sliderContainer","_openImageLib","imageUrls","newItems","currentItem","sortableList","Sortable","animation","_getSortableItemIndex","tmp","onStart","showIcon","allowNoAction","multiSelect","showIcons","selectedFiles","previousSibling","view","layout","$","_initDimensions","_loadItems","dispatchEvent","_renderSlider","that","_loadImages","_applySlider","_hideSlider","$slider","_destroySlider","_showSlider","cssWidth","cssHeight","_minHeight","slider","sliderOptions","slideSpeed","paginationSpeed","singleItem","pagination","itemsMobile","sliderData","itemsLength","pending","getAllPlugins","pageIndex","pageSize","_mapFromSearch","total","totalRecord","dataResult","dataResultLength","currentPlugin","tempObj","_buildfire","pluginType","pluginTypeId","pluginTypeName","iconClassName","dialogOptions","loadAllItems","hideLoadButton","loadedInstances","checkId","loadAllSelector","_loadAllItems","confirmDeleteItem","onLoadAll","onUnloadAll","_toggleAddButton","showPlugin","media","buttonsWrapper","navigateButton","deleteItem","itemId","buttonLabels","bind","_getOffset","el","getBoundingClientRect","scrollX","scrollY","getAllContainer","getAllCheckbox","getAlllabel","_openPluginInstance","plugins","pluginsLength","newInstances","addedItems","checked","plugin","status","buttonSelector","mod","module","directive","$rootScope","$window","$timeout","link","scope","elem","attrs","checkWhenEnabled","scrollDistance","scrollEnabled","$parent","infiniteContainer","infiniteScrollDistance","$watch","infiniteScrollDisabled","elementBottom","remaining","shouldScroll","windowBottom","$$phase","$eval","infiniteScroll","$apply","$on","infiniteScrollImmediateCheck","folderPluginShared","getPluginDetails","pluginsInfo","pluginIds","returnPlugins","tempPlugin","token","getDefaultScopeData","carouselImages","loadAllPlugins","design","backgroundImage","selectedLayout","backgroundblur","hideText","default","getLayouts","digest","$scope","$root","folderPluginApp","restrict","replaceImg","finalSrc","loadImage","$observe","_img","cropType","cropWidth","cropHeight","imgUrl","background-size","ngSrc","newVal","$last","$emit","initCarousel","cancel","oldVal","controller","$sce","initDeviceSize","deviceHeight","deviceWidth","sliderHeight","preparePluginsData","temp","matrix","currentCount","layout12TotalItem","dataLoadedHandler","$digest","searchOptions","pluginsList","equals","res","imagesUpdated","pagesCount","loadingData","paging","loadData","resetPaging","currentPage","onDatastoreChange","hardRefresh","layout12Height","setWidth","safeHtml","$html","trustAsHtml","navigateToPlugin","loadMore","first","slides"],"mappings":"AAEA,QAASA,QAAOC,EAAIC,EAAKC,GACrBC,KAAKH,GAAKA,EAAKA,GAAK,GAAII,OAAOC,cAAgBC,KAAKC,SACpDJ,KAAKF,IAAMA,EACXE,KAAKD,KAAOA,EACZC,KAAKK,WAAa,KAuqDlB,QAASC,aAAYC,EAAOC,GACxBA,EAASA,IAAWC,SAAS,EAAOC,YAAY,EAAOC,OAAQC,OAC/D,IAAIC,GAAMC,SAASC,YAAY,cAE/B,OADAF,GAAIG,gBAAgBT,EAAOC,EAAOC,QAASD,EAAOE,WAAYF,EAAOG,QAC9DE,EAvqDf,GAAII,YACAC,aAAc,SAASC,GACnB,MAA4C,KAApCA,EAAIC,QAAQ,qBAEtBC,MAAO,WACL,MAAoD,IAA5CC,OAAOC,SAASC,SAASJ,QAAQ,SAE3CK,QACEC,UAAWJ,OAAOC,SAASI,KAAKP,QAAQ,aAAe,GAAKE,OAAOC,SAASI,KAAKP,QAAQ,aAAe,EACvGQ,mBAAmB,SAAUC,GAG1B,GAAGf,SAASgB,eAAe,8BAEvB,WADAC,OAAM,4BAOV,IAHIF,IACAA,EAAMG,OAAO,+CAEbH,EAAJ,CAEA,GAAII,GAASnB,SAASoB,cAAc,QAChCC,EAASrB,SAASsB,cAAc,SACpCD,GAAOE,IAAI,0DAA4DR,EACvEM,EAAOtC,GAAK,6BACZoC,EAAOK,YAAYH,KAGrBI,aAAc,IACdC,aAAc,WACZvB,UAAUQ,OAAOgB,sBAAsBC,UAAY,IAErDC,iBAAkB,KAClBF,oBAAqB,WACnB,MAAIxB,WAAUQ,OAAOkB,iBACV1B,UAAUQ,OAAOkB,iBAEjB1B,UAAUQ,OAAOmB,0BAE9BA,uBAAwB,WAelB,QAASC,GAAcC,GACnB,GAAIjD,GAAI,kBACJkD,EAAajC,SAASoB,cAAc,SAAWrC,EAC/CkD,KACAA,EAAajC,SAASsB,cAAc,SACpCW,EAAWlD,GAAKA,EAChBiB,SAASkC,KAAKV,YAAYS,GAG9B,IAAIE,IAAe,cAAc,aAAa,eAAe,cAAc,gBACvEC,EAAQD,EAAc7B,QAAQ,IAAM0B,EACrCI,IAAQ,GACPD,EAAcE,OAAOD,EAAM,GAC3BH,EAAWL,UAAUO,EAAcG,KAAK,OAAS,qBAGjDL,EAAWL,UAAU,GAgB7B,QAASW,GAAmBC,EAAKC,GAC7B,GAAIC,GAAS1C,SAASsB,cAAc,SACpCoB,GAAOF,KAAOA,EACdE,EAAOC,MAAQF,EACfG,EAAOpB,YAAYkB,GAlD3B,GAAIG,GAAM7C,SAASgB,eAAe,iBAClC,KAAK6B,EAAK,CACNA,EAAM7C,SAASsB,cAAc,OAC7BuB,EAAIC,MAAMC,SAAW,QACrBF,EAAIC,MAAME,KAAOH,EAAIC,MAAMG,IAAM,EACjCJ,EAAIC,MAAMI,MAAQ,OAClBL,EAAIC,MAAMK,gBAAkB,QAC5BN,EAAIC,MAAMM,QAAU,GACpBP,EAAIC,MAAMO,QAAU,OACpBR,EAAIC,MAAMQ,OAAS,KACnBnD,UAAUQ,OAAOkB,iBAAmBgB,CAwBpC,IAAID,GAAS5C,SAASsB,cAAc,SACpCsB,GAAOZ,UAAY,eACnBY,EAAOW,SAAW,WACd,GAAIZ,GAAMC,EAAOY,QAAQZ,EAAOa,eAAed,KACrC,UAAPA,GACCxC,UAAUQ,OAAO+C,cACjBd,EAAOa,cAAc,GAGrB1B,EAAcY,IAEtBxC,UAAUQ,OAAOgD,YAAYf,GAQ7BL,EAAmB,WAAW,IAC9BA,EAAmB,iBAAiB,cACpCA,EAAmB,YAAY,aAC/BA,EAAmB,kBAAkB,eACrCA,EAAmB,oBAAoB,cACvCA,EAAmB,kBAAkB,eACrCA,EAAmB,qBAAqB,SAG5C,MAAOM,IAETe,YAAa,WACX,GAAIf,GAAM1C,UAAUQ,OAAOgB,qBAC3BkB,GAAIC,MAAMO,QAAU,IACfR,EAAIgB,YAAc7D,SAAS8D,MAC5B9D,SAAS8D,KAAKtC,YAAYqB,IAEhCa,YAAa,WACX,GAAIb,GAAM1C,UAAUQ,OAAOgB,qBAC3BkB,GAAIC,MAAMO,QAAU,QAEtBM,YAAa,SAAUI,GACrB,GAAuB,gBAAb,GAAuB,CAC7B,GAAIC,GAAIhE,SAASsB,cAAc,MAC/B0C,GAAEpC,UAAYmC,EACdA,EAAUC,EAEd,GAAInB,GAAM1C,UAAUQ,OAAOgB,qBAC3BkB,GAAIrB,YAAYuC,GACZlB,EAAIoB,WAAWC,OAAS/D,UAAUQ,OAAOc,cACzCoB,EAAIsB,YAAYtB,EAAIoB,WAAW,KAErCG,KAAM,WAGJ,GAAIC,GAAKlE,UAAUmE,kBACnBnE,WAAUoE,IAAMF,EAAGE,IAEnBpE,UAAUQ,OAAOmB,wBAET0C,SAAQC,GAChBD,SAAQC,IAAM,SAAUC,GACpB,GAAIC,GAAK3E,SAASsB,cAAc,MAChCqD,GAAG/C,UAAY,MAAQ8C,EACvBC,EAAG3C,UAAY,YACf7B,UAAUQ,OAAOgD,YAAYgB,GAC7BX,EAAEY,MAAMJ,QAASK,WAGrB,IAAIb,GAAIQ,QAAQM,KAChBN,SAAQM,MAAQ,SAAUJ,GACtB,GAAIC,GAAK3E,SAASsB,cAAc,MAChCqD,GAAG/C,UAAY,MAAQ8C,EACvBC,EAAG3C,UAAY,sBACf7B,UAAUQ,OAAOgD,YAAYgB,GAC7BX,EAAEY,MAAMJ,QAASK,WAGrB,IAAIE,GAAIP,QAAQQ,KAChBR,SAAQQ,MAAQ,SAAUN,GACtB,GAAIC,GAAK3E,SAASsB,cAAc,MAChCqD,GAAG/C,UAAY,MAAQ8C,EACvBC,EAAG3C,UAAY,uBACf7B,UAAUQ,OAAOgD,YAAYgB,GAC7BI,EAAEH,MAAMJ,QAASK,WAGrB,IAAII,GAAIT,QAAQU,IAChBV,SAAQU,KAAO,SAAUR,GACrB,GAAIC,GAAK3E,SAASsB,cAAc,MAChCqD,GAAG/C,UAAY,MAAQ8C,EACvBC,EAAG3C,UAAY,wBACf7B,UAAUQ,OAAOgD,YAAYgB,GAC7BM,EAAEL,MAAMJ,QAASK,WAGrB,IAAIM,GAAIX,QAAQY,IAChBZ,SAAQY,KAAO,SAAUV,GACrB,GAAIC,GAAK3E,SAASsB,cAAc,MAChCqD,GAAG/C,UAAY,MAAQ8C,EACvBC,EAAG3C,UAAY,qBACf7B,UAAUQ,OAAOgD,YAAYgB,GAC7BQ,EAAEP,MAAMJ,QAASK,aAGvBQ,KAAM,WACJnG,KAAK0B,WAAY,GAEnB0E,KAAM,WACJpG,KAAK0B,WAAY,GAEnBoE,MAAO,WACA9F,KAAK0B,WACN4D,QAAQQ,MAAMJ,MAAMJ,QAASK,YAEnCJ,IAAK,WACEvF,KAAK0B,WACN4D,QAAQC,IAAIG,MAAMJ,QAASK,YAEjCK,KAAM,WACChG,KAAK0B,WACN4D,QAAQU,KAAKN,MAAMJ,QAASK,YAElCC,MAAO,WACA5F,KAAK0B,WACN4D,QAAQM,MAAMF,MAAMJ,QAASK,aAGvCU,cACAjB,iBAAkB,WAIhB,IAAK,GAHDkB,GAAQhF,OAAOC,SAASgF,OAAOC,UAAU,GACzCC,EAAOH,EAAMI,MAAM,KACnBC,EAAM,GAAIC,QACLX,EAAI,EAAGA,EAAIQ,EAAKzB,OAAQiB,IAAK,CAClC,GAAIY,GAAOJ,EAAKR,GAAGS,MAAM,IACzBC,GAAIG,mBAAmBD,EAAK,KAAOC,mBAAmBD,EAAK,IAE/D,MAAOF,IAETrC,WACAyC,iBAAkB,WAChB,GAAIzC,MAEA0C,EAAOlG,SAASkC,KAAKd,cAAc,uBACvC,IAAG8E,GAAQA,EAAKC,QAAS,CACrB,GAAIC,GAAWF,EAAKC,QAAQP,MAAM,IAClCQ,GAASC,QAAQ,SAASC,GACvB,GAAIC,GAAID,EAAQV,MAAM,IACrBpC,GAAQ+C,EAAE,IAAMA,EAAErC,OAAO,EAAEqC,EAAE,IAAG,IAIxC,MAAO/C,IAGTgD,cACEC,UACEC,IAAK,SAAUjH,EAAOkH,EAASC,GAC7B,GAAuB,kBAAb,GAAwB,KAAM,uBAEnCA,IAAuB1H,KAAK2H,MAAMpH,GAElCP,KAAKuH,OAAOhH,GAGbP,KAAKuH,OAAOhH,GAAOqH,KAAKH,GAFxBzH,KAAKuH,OAAOhH,IAAUkH,EAI1B,IAAII,GAAK7H,KAAKuH,OAAOhH,EACrB,QACIoH,MAAO,WACH,IAAK,GAAI1B,GAAI,EAAGA,EAAI4B,EAAG7C,OAAQiB,IACvB4B,EAAG5B,KAAOwB,GACVI,EAAG1E,OAAO8C,EAAG,MAI/B0B,MAAO,SAAUpH,GACfP,KAAKuH,OAAOhH,OAEduH,QAAS,SAAUvH,EAAOR,GACxB,GAAIC,KAAKuH,OAAOhH,GACZ,IAAK,GAAI0F,GAAI,EAAGA,EAAIjG,KAAKuH,OAAOhH,GAAOyE,OAAQiB,IAC3C,IACIjG,KAAKuH,OAAOhH,GAAO0F,GAAGlG,GAE1B,MAAO8F,GACHP,QAAQQ,MAAMD,MAKhCkC,SAAU,KACVC,GAAIA,WAEF,MADA1C,SAAQU,KAAK,0DACN/E,UAAU8G,UAEnBC,GAAIA,SAAQrB,GACV1F,UAAU8G,SAAWpB,GAEvBzB,KAAM,WAgBJ,GAdA5D,OAAO2G,oBAAoB,UAAWhH,UAAUiH,qBAAqB,GACrE5G,OAAO6G,iBAAiB,UAAWlH,UAAUiH,qBAAqB,GAElEjH,UAAUqD,QAAUrD,UAAU8F,mBAE9B9F,UAAUQ,OAAOyD,OAIjBjE,UAAUmH,WAAWC,uBAEjBpH,UAAUqD,QAAQgE,cAClBrH,UAAUmH,WAAWG,kBAErBtH,UAAUqD,QAAQkE,cAAc,CAChC,GAAIC,GAAQ3H,SAAS4H,qBAAqB,OAC1CD,GAAME,SAAS,cAIrBC,sBAAuB,4BACnB,6BACA,2BACA,4BACA,8BACA,uBACA,+BACA,4CACA,sBACA,uBACA,qBACA,4BACA,6BACA,mCACA,sCACA,0CACA,kCACA,6BACA,0CACD,wBAEHV,oBAAqB,SAAUrC,GAC7B,GAAIA,EAAEgD,SAAWvH,OAEb,WADAgE,SAAQC,IAAI,6BAGhBD,SAAQY,KAAK,4BAA8BL,EAAE9F,KAAMuB,OAAOC,SAASI,KACnE,IAAImH,GAASC,KAAKC,MAAMnD,EAAE9F,KAE1B,IAAI+I,EAAOjJ,IAAMoB,UAAUoF,WAAWyC,EAAOjJ,IACzCoB,UAAUoF,WAAWyC,EAAOjJ,IAAIiJ,EAAOhD,MAAOgD,EAAO/I,YAC9CkB,WAAUoF,WAAWyC,EAAOjJ,QAElC,IAAIoB,UAAU2H,qBAAqBxH,QAAQ0H,EAAOhJ,KAAO,EAAG,CAK7D,IAAK,GAJDmJ,GAAWH,EAAOhJ,IAAI4G,MAAM,KAE5BC,EAAM1F,UACNiI,EAASjI,UACJgF,EAAI,EAAGA,EAAIgD,EAASjE,OAAQiB,IAAK,CAEtC,GADIA,EAAI,IAAEiD,EAASvC,IACfA,EAAIsC,EAAShD,IAGb,MAFAU,GAAMA,EAAIsC,EAAShD,IAI3BU,EAAIjB,MAAMwD,GAASJ,EAAO/I,WAI1BuF,SAAQU,KAAK1E,OAAOC,SAASI,KAAO,oBAAqBmH,IAI/DK,gBAAgB,EAChBC,YAAa,SAAUN,EAAQO,GACJ,kBAAd,KACPA,EAAW,SAAUC,EAAKC,GACtBjE,QAAQY,KAAK,iCAAmC6C,KAAKS,UAAU7D,aAMvE,IAAI8D,GAAUC,WAAW,WAErB,GAAGzI,UAAUkI,gBAAkB,GAAI,CAC/B,GAAIQ,EAEmC,IAAnCb,EAAOhJ,IAAIsB,QAAQ,cAC0B,GAA1C0H,EAAOhJ,IAAIsB,QAAQ,qBAC2B,GAA9C0H,EAAOhJ,IAAIsB,QAAQ,yBAC+B,GAAlD0H,EAAOhJ,IAAIsB,QAAQ,4BAEtBuI,GAAM,EACmC,GAApCb,EAAOhJ,IAAIsB,QAAQ,gBACxBuI,GAAM,GAEPA,IAECrE,QAAQU,KAAK,UAAY8C,EAAOhJ,IAAM,yCAA2CmB,UAAUkI,iBAC3FlI,UAAUmI,YAAYN,EAAQ,SAAUjD,EAAGf,GACvC7D,UAAUkI,kBACVE,EAASxD,EAAGf,KAEhB7D,UAAUkI,qBAGiB,GAApCL,EAAOhJ,IAAIsB,QAAQ,cAAoB,IAAM,KAE5CwI,EAAU,SAAUN,EAAKvJ,GACzB8J,aAAaJ,GACbJ,EAASC,EAAKvJ,GAGlBkB,WAAUoF,WAAWyC,EAAOjJ,IAAM+J,EAClCd,EAAOzD,IAAKpE,UAAUoE,GACtB,IAAIyE,EAEAA,GADmB,mBAAb,SACFC,QAAQC,OAAOlB,GAEfC,KAAKS,UAAUV,GAGvBxD,QAAQY,KAAK,wBAA0B4D,EAAGxI,OAAOC,SAASI,MAC1DV,UAAUgJ,YAAYH,EAAET,IAE3BY,YAAa,SAAUnB,GAChBI,QAAOA,OAAOgB,YAAYpB,EAAQ,MAExCqB,WAAY,SAAUd,GACpB,GAAIpI,UAAU8G,SACVsB,EAAS,KAAMpI,UAAU8G,cACxB,CACD,GAAI+B,GAAI,GAAIlK,QAAO,KAAM,aACzBqB,WAAUmI,YAAYU,EAAG,SAAUR,EAAKvJ,GAChCA,IACAkB,UAAU8G,SAAWhI,GACzBsJ,EAASC,EAAKvJ,OAKxBqK,YAKEC,WAAY,SAAUC,GAElB,GAAIA,EAAWC,UACRD,EAAWjK,YACXiK,EAAWE,WAAY,CAE1B,GAAIV,GAAI,GAAIlK,QAAO,KAAM,yBACrB2K,SAAUD,EAAWC,SACrBlK,WAAYiK,EAAWjK,WACvBoK,MAAOH,EAAWG,MAClBD,WAAYF,EAAWE,YAE3BvJ,WAAUmI,YAAYU,OAGtBxE,SAAQQ,MAAM,8BAA+BwE,IAEnDI,aAAc,WACZ,GAAIZ,GAAI,GAAIlK,QAAO,KAAM,0BACzBqB,WAAUmI,YAAYU,IAExBa,UAAW,SAAStB,GAClB,GAAIS,GAAI,GAAIlK,QAAO,KAAM,uBACzBqB,WAAUmI,YAAYU,EAAET,IAE1BuB,WAAY,SAAUzJ,EAAK0J,EAAQxB,GAC5BwB,IAAQA,EAAS,UACjBxB,IAAUA,EAAW,WACtB/D,QAAQY,KAAK,2BAEjB,IAAI4E,IACAC,OAAQ,YACN5J,IAAKA,EACL6J,OAAQH,GAGVf,EAAI,GAAIlK,QAAO,KAAM,sBAAuBkL,EAAYzB,EAC5DpI,WAAUmI,YAAYU,IAExBmB,WAAY,WACVhK,UAAUmI,YAAY,GAAIxJ,QAAO,KAAM,6BAEzCsL,kBAAmB,WACjBlL,KAAKiL,cAEPE,uBAAwB,WACtBlK,UAAUmJ,WAAWc,kBAAoB,WACrCjK,UAAUmJ,WAAWa,eAG3BG,OAAQ,WACNnK,UAAUmJ,WAAWc,qBAEvBG,cAAe,SAAUxG,GACvB,GAAIyG,GAAItL,IACe,iBAAb,KACN6E,EAAU/D,SAASgB,eAAe+C,GAGtC,KAAK,GADD0G,GAAU1G,EAAQ2G,iBAAiB,8CAC9BvF,EAAI,EAAGA,EAAIsF,EAAQvG,OAAQiB,IAChCsF,EAAQtF,GAAGwF,aAAa,gBAAe,GACvCF,EAAQtF,GAAGkC,iBAAiB,QAAS,SAAUtH,GAC3CA,EAAI6K,iBACJJ,EAAEV,WAAW5K,KAAK2B,KAAM3B,KAAK6K,OAAQ,QACtC,IAGTc,iBAAkB,WAChB1K,UAAUmI,YAAY,GAAIxJ,QAAO,KAAM,kCAK/CgM,aAAc,WACV,GAAIC,IACAC,gBAAkB,kBAClBC,cAAgB,iBAGhBC,GACAF,gBAAkB,kBAClBC,cAAgB,gBAChBE,QAAU,WAEV5G,EAAKpE,UAAUoE,GACnB,OAAIA,IAAOwG,EAAmBC,gBACnBE,EAAiBF,gBACnBzG,GAAOwG,EAAmBE,cACvBC,EAAiBD,cAElBC,EAAiBC,SAI9B7D,YACJ8D,gBAAiB,WAEhB,GAAG5K,OAAOC,SAASI,KAAKP,QAAQ,UAAY,EAAE,CAC7C,GAAI+K,GAAOrL,SAAS4H,qBAAqB,QAAQ,GAC7C9E,EAAQ9C,SAASsB,cAAc,QACnCwB,GAAMwI,KAAO,WACbxI,EAAMlB,UAAY,+KAClByJ,EAAK7J,YAAYsB,KAGbyE,qBAAsB,WAClB,GAAI8D,GAAOrL,SAAS4H,qBAAqB,QAAQ,EAE9CpH,QAAOC,SAASI,KAAKP,QAAQ,UAAY,GACxC+K,EAAKV,aAAa,YAAa,UAC3CU,EAAKV,aAAa,OAAQ,QAEdU,EAAKV,aAAa,YAAa,UAGnC,IAKIY,GAAYC,EAAWC,EAJvBC,GADOC,UAAUC,WACVD,UAAUE,WACjBC,EAAcH,UAAUI,QACxBC,EAAc,GAAKC,WAAWN,UAAUC,YACxCM,EAAeC,SAASR,UAAUC,WAAY,IAE9CQ,EAAK,YAEkC,MAAtCZ,EAAYE,EAAKpL,QAAQ,WAC1BwL,EAAc,QACdE,EAAcN,EAAKhG,UAAU8F,EAAY,GACI,KAAxCA,EAAYE,EAAKpL,QAAQ,cAC1B0L,EAAcN,EAAKhG,UAAU8F,EAAY,KAGF,KAArCA,EAAYE,EAAKpL,QAAQ,UAC/BwL,EAAc,8BACdE,EAAcN,EAAKhG,UAAU8F,EAAY,IAGI,KAAvCA,EAAYE,EAAKpL,QAAQ,YAC/BwL,EAAc,SACdE,EAAcN,EAAKhG,UAAU8F,EAAY,IAGI,KAAvCA,EAAYE,EAAKpL,QAAQ,YAC/BwL,EAAc,SACdE,EAAcN,EAAKhG,UAAU8F,EAAY,GACI,KAAxCA,EAAYE,EAAKpL,QAAQ,cAC1B0L,EAAcN,EAAKhG,UAAU8F,EAAY,KAGC,KAAxCA,EAAYE,EAAKpL,QAAQ,aAC/BwL,EAAc,UACdE,EAAcN,EAAKhG,UAAU8F,EAAY,KAGnCD,EAAaG,EAAKW,YAAY,KAAO,IAC1Cb,EAAYE,EAAKW,YAAY,QAC9BP,EAAcJ,EAAKhG,UAAU6F,EAAYC,GACzCQ,EAAcN,EAAKhG,UAAU8F,EAAY,GACrCM,EAAYQ,eAAiBR,EAAYS,gBACzCT,EAAcH,UAAUI,UAIO,KAAlCN,EAAKO,EAAY1L,QAAQ,QAC1B0L,EAAcA,EAAYtG,UAAU,EAAG+F,IACJ,KAAlCA,EAAKO,EAAY1L,QAAQ,QAC1B0L,EAAcA,EAAYtG,UAAU,EAAG+F,IAE3CS,EAAeC,SAAS,GAAKH,EAAa,IACtCQ,MAAMN,KACNF,EAAc,GAAKC,WAAWN,UAAUC,YACxCM,EAAeC,SAASR,UAAUC,WAAY,KAIP,IAAvCD,UAAUC,WAAWtL,QAAQ,SAAc8L,EAAK,WACT,IAAvCT,UAAUC,WAAWtL,QAAQ,SAAc8L,EAAK,SACT,IAAvCT,UAAUC,WAAWtL,QAAQ,SAAc8L,EAAK,QACP,IAAzCT,UAAUC,WAAWtL,QAAQ,WAAe8L,EAAK,SAErDf,EAAKV,aAAa,KAAMyB,GACxBf,EAAKV,aAAa,UAAWmB,GAC7BT,EAAKV,aAAa,eAAgBuB,GAClCb,EAAKV,aAAa,cAAeqB,IAGnCS,YAAa,SAAUlE,GACrB,GAAIS,GAAI,GAAIlK,QAAO,KAAM,yBACzBqB,WAAUmI,YAAYU,EAAGT,IAE3Bd,eAAgB,WACd,GAAIiF,IAAS,uBACTlM,QAAOC,SAASkM,SAASrM,QAAQ,aAAe,EAChDoM,EAAM5F,KAAK,yBACX4F,EAAM5F,KAAK,2BAEX4F,EAAM5F,KAAK,sBAIf,KAAK,GAFD8F,GACAC,EAAU7M,SAAS4H,qBAAqB,UACnCzC,EAAI,EAAGA,EAAI0H,EAAQ3I,OAAQiB,IAChC,GAAI0H,EAAQ1H,GAAG5D,IAAIjB,QAAQ,gBAAkB,EAAG,CAC5CsM,EAAOC,EAAQ1H,GAAG5D,IAAIuL,QAAQ,wBAAyB,GACvD,OAIqB,KAAzBF,EAAKA,EAAK1I,OAAS,KAAW0I,GAAQ,IAE1C,KAAK,GAAIzH,GAAI,EAAGA,EAAIuH,EAAMxI,OAAQiB,IAC9BnF,SAAS+M,MAAM,gCAAkCH,EAAOF,EAAMvH,GAAK,QAyCzE6H,uBAAwB,SAAUC,EAAOC,EAAUC,GACjD,GAAIC,GAAcpN,SAASsB,cAAc,OACzCnB,WAAUmH,WAAW+F,iBAAmB,EACxCD,EAAYzC,aAAa,MAAO,cAChCyC,EAAYzC,aAAa,OAAQ,YACjCyC,EAAYzC,aAAa,KAAM,eAC/ByC,EAAYzC,aAAa,OAAQwC,EAAU,sCAAwCF,EAAQ,aAAeC,EAAW,MAAQ/M,UAAUmH,WAAW+F,kBAClJrN,SAAS4H,qBAAqB,QAAQ,GAAGpG,YAAY4L,IAEvDE,WAAY,EACZC,kBAAmB,WACjB,GAAIC,EACJ,KACIA,EAASnO,KAAKoO,IACVzN,SAAS0N,gBAAgBC,aACzB3N,SAAS8D,KAAK8J,aACd5N,SAAS0N,gBAAgBE,aACzB5N,SAAS8D,KAAK+J,aACd7N,SAAS0N,gBAAgBG,cAGjC,MAAM9I,IACN,GAAKyI,GAAUrN,UAAUmH,WAAWgG,YAAcE,KAAmB,IAATA,GAA5D,CACA,GAAIxE,GAAI,GAAIlK,QAAO,KAAM,gCAAiC0O,OAAQA,GAClErN,WAAUmI,YAAYU,GACtB7I,UAAUmH,WAAWgG,WAAaE,IAEpCM,oBAAqB,SAAUnL,GAC7B,GAAIqG,GAAI,GAAIlK,QAAO,KAAM,iCAAkC6D,EAC3DxC,WAAUmI,YAAYU,IAExB+E,gBAAiB,WACf,GAAIC,GAAqBhO,SAASgB,eAAe,cAC9CgN,KACCA,EAAmBnN,KAAOmN,EAAmBnN,KAAKiM,QAAQ,MAAQ3M,UAAUmH,WAAW+F,iBAAkB,SAAUlN,UAAUmH,WAAW+F,oBAE7IY,UACC5I,KAAM,WACF,GAAI2D,GAAI,GAAIlK,QAAO,KAAM,2BACzBqB,WAAUmI,YAAYU,IAE1B1D,KAAM,WACF,GAAI0D,GAAI,GAAIlK,QAAO,KAAM,2BACzBqB,WAAUmI,YAAYU,MAKhCkF,WACEC,YAAa,SAAUC,EAAYC,GAC/B,GAAIrF,GAAI,GAAIlK,QAAO,KAAM,gCACrB6D,MAAOyL,EACPC,SAAUA,GAEdlO,WAAUmI,YAAYU,IAG1BsF,UAAW,SAAUF,EAAYC,GAC7B,GAAIrF,GAAI,GAAIlK,QAAO,KAAM,8BACrB6D,MAAOyL,EACPC,SAAUA,GAEdlO,WAAUmI,YAAYU,KAI5BuF,WAEEC,IAAK,SAAUzN,EAAKwH,GAEhB,GAAIkG,SAAgB,EACL,cAAXA,EACA1N,EAAM,GACU,YAAX0N,GAA6C,mBAAd,KACpClG,EAAWxH,EACXA,EAAM,GAEV,IAAI8E,IAAO9E,IAAKA,GACZiI,EAAI,GAAIlK,QAAO,KAAM,gBAAiB+G,EAC1C1F,WAAUmI,YAAYU,EAAGT,IAG7BmG,mBAAoB,SAAU3N,EAAKwH,GAE/B,GAAIkG,SAAgB,EACL,cAAXA,EACA1N,EAAM,GACU,YAAX0N,GAA6C,mBAAd,KACpClG,EAAWxH,EACXA,EAAM,GAEV,IAAI8E,IAAO9E,IAAKA,EAAK4N,iBAAiB,GAClC3F,EAAI,GAAIlK,QAAO,KAAM,gBAAiB+G,EAC1C1F,WAAUmI,YAAYU,EAAGT,IAI7BqG,QAAS,SAAU7P,EAAIgC,EAAKwH,GAExB,GAAIsG,SAAe,EACL,aAAVA,GAA4C,mBAAd,KAC9BtG,EAAWxJ,EACXA,EAAK,GAGT,IAAI0P,SAAgB,EACL,cAAXA,EACA1N,EAAM,GACU,YAAX0N,GAA6C,mBAAd,KACpClG,EAAWxH,EACXA,EAAM,GAEV,IAAI8E,IAAO9E,IAAKA,EAAKhC,GAAIA,GACrBiK,EAAI,GAAIlK,QAAO,KAAM,gBAAiB+G,EAC1C1F,WAAUmI,YAAYU,EAAGT,IAI3BuG,KAAM,SAAUjJ,EAAK9E,EAAKwH,GAExB,GAAIkG,SAAgB,EACL,cAAXA,EACA1N,EAAM,GACU,YAAX0N,GAA6C,mBAAd,KACpClG,EAAWxH,EACXA,EAAM,GAGV,IAAIiI,GAAI,GAAIlK,QAAO,KAAM,kBAAmBiC,IAAKA,EAAK8E,IAAKA,GAC3D1F,WAAUmI,YAAYU,EAAG,SAAUR,EAAKC,GAChCA,GAAOtI,UAAUoO,UAAUR,gBAAgBtF,GAC3CF,GAASA,EAASC,EAAKC,MAIjCsG,OAAQ,SAAUlJ,EAAK9E,EAAKiO,EAAgBzG,GAE1C,GAAI0G,SAA2B,EACL,cAAtBA,EACAD,GAAiB,EACU,YAAtBC,GAAwD,mBAAd,KAC/C1G,EAAWyG,EACXA,GAAiB,EAErB,IAAIP,SAAgB,EACL,cAAXA,EACA1N,EAAM,GACU,YAAX0N,GAA6C,mBAAd,KACpClG,EAAWxH,EACXA,EAAM,GAGV,IAAIiI,GAAI,GAAIlK,QAAO,KAAM,oBAAqBiC,IAAKA,EAAK8E,IAAKA,EAAKmJ,eAAgBA,GAClF7O,WAAUmI,YAAYU,EAAG,SAAUR,EAAKC,GAChCA,GAAOtI,UAAUoO,UAAUR,gBAAgBtF,GAC/CF,EAASC,EAAKC,MAIpByG,WAAY,SAAUC,EAAUpO,EAAKwH,GAEnC,GAAI4G,EAASC,cAAgBC,MAGzB,WADA9G,IAAU+G,KAAQ,QAAS5K,QAAW,+BAAgC,KAI1E,IAAI+J,SAAgB,EACL,cAAXA,EACA1N,EAAM,GACU,YAAX0N,GAA6C,mBAAd,KACpClG,EAAWxH,EACXA,EAAM,GAGV,IAAIiI,GAAI,GAAIlK,QAAO,KAAM,wBAAyBiC,IAAKA,EAAK8E,IAAKsJ,GACjEhP,WAAUmI,YAAYU,EAAG,SAAUR,EAAKC,GAChCA,GAAOtI,UAAUoO,UAAUR,gBAAgBtF,GAC/CF,EAASC,EAAKC,MAIpB8G,OAAQ,SAAUxQ,EAAI8G,EAAK9E,EAAKwH,GAC9B,GAAIkG,SAAgB,EACL,cAAXA,EACA1N,EAAM,GACU,YAAX0N,GAA6C,mBAAd,KACpClG,EAAWxH,EACXA,EAAM,GAGV,IAAIiI,GAAI,GAAIlK,QAAO,KAAM,oBAAqBiC,IAAKA,EAAKhC,GAAIA,EAAI8G,IAAKA,GACrE1F,WAAUmI,YAAYU,EAAG,SAAUR,EAAKC,GAChCA,GAAOtI,UAAUoO,UAAUR,gBAAgBtF,GAC3CF,GAASA,EAASC,EAAKC,MAIjC+G,SAAQ,SAAUzQ,EAAIgC,EAAKwH,GACzB,GAAIkG,SAAgB,EACL,cAAXA,EACA1N,EAAM,GACU,YAAX0N,GAA6C,mBAAd,KACpClG,EAAWxH,EACXA,EAAM,GAGV,IAAIiI,GAAI,GAAIlK,QAAO,KAAM,oBAAqBiC,IAAKA,EAAKhC,GAAIA,GAC5DoB,WAAUmI,YAAYU,EAAG,SAAUR,EAAKC,GAChCA,GAAOtI,UAAUoO,UAAUR,gBAAgBtF,GAC3CF,GAASA,EAASC,EAAKC,MAIjChD,OAAQ,SAAUjC,EAASzC,EAAKwH,GAE9B,GAAIkG,SAAgB,EACL,cAAXA,EACA1N,EAAM,GACU,YAAX0N,GAA6C,mBAAd,KACpClG,EAAWxH,EACXA,EAAM,IAIa,mBAAb,KAA0ByC,GAAWiM,YAC1CjM,EAAQiM,SAAQjM,EAAQiM,UAE7B,IAAIzG,GAAI,GAAIlK,QAAO,KAAM,oBAAqBiC,IAAKA,EAAK8E,IAAKrC,GAC7DrD,WAAUmI,YAAYU,EAAG,SAAUR,EAAKC,GACpCF,EAASC,EAAKC,MAIpBiH,SAAU,SAAUnH,EAAU3B,GAC5B,MAAOzG,WAAUqG,aAAaE,IAAI,oBAAqB6B,EAAU3B,IAEnEmH,gBAAiB,SAAUlI,GACzB1F,UAAUqG,aAAaQ,QAAQ,oBAAqBnB,IAGtD8J,UAAW,SAAUpH,EAAU3B,GAC7B,MAAOzG,WAAUqG,aAAaE,IAAI,qBAAsB6B,EAAU3B,IAEpEgJ,iBAAkB,SAAU/J,GAC1B1F,UAAUqG,aAAaQ,QAAQ,qBAAsBnB,IAGvDgK,eAAgB,WACd,GAAI7G,GAAI,GAAIlK,QAAO,KAAM,2BACzBqB,WAAUmI,YAAYU,KAG7B8G,UAEGtB,IAAK,SAAUzN,EAAKwH,GAEhB,GAAIkG,SAAiB,EACN,cAAXA,EACA1N,EAAM,GACU,YAAX0N,GAA8C,mBAAd,KACrClG,EAAWxH,EACXA,EAAM,GAEV,IAAI8E,IAAQ9E,IAAKA,GACbiI,EAAI,GAAIlK,QAAO,KAAM,eAAgB+G,EACzC1F,WAAUmI,YAAYU,EAAGT,IAI5BqG,QAAS,SAAU7P,EAAIgC,EAAKwH,GAEzB,GAAIsG,SAAgB,EACN,aAAVA,GAA6C,mBAAd,KAC/BtG,EAAWxJ,EACXA,EAAK,GAGT,IAAI0P,SAAiB,EACN,cAAXA,EACA1N,EAAM,GACU,YAAX0N,GAA8C,mBAAd,KACrClG,EAAWxH,EACXA,EAAM,GAEV,IAAI8E,IAAQ9E,IAAKA,EAAKhC,GAAIA,GACtBiK,EAAI,GAAIlK,QAAO,KAAM,eAAgB+G,EACzC1F,WAAUmI,YAAYU,EAAGT,IAI3BuG,KAAM,SAAUjJ,EAAK9E,EAAIgP,EAAWxH,GAElC,GAAIkG,SAAiB,EACN,cAAXA,EACA1N,EAAM,GACU,YAAX0N,GAA8C,mBAAd,KACrClG,EAAWxH,EACXA,EAAM,GAEV,IAAIiP,SAAuB,EACN,cAAjBA,EACAD,EAAY,GACU,YAAjBC,GAAoD,mBAAd,KAC3CzH,EAAWwH,EACXA,EAAY,GAGhB,IAAI/G,GAAI,GAAIlK,QAAO,KAAM,iBAAmBiC,IAAKA,EAAIgP,UAAWA,EAAWlK,IAAKA,GAChF1F,WAAUmI,YAAYU,EAAG,SAAUR,EAAKC,GAEhCF,GAAUA,EAASC,EAAKC,MAIlCsG,OAAQ,SAAUlJ,EAAK9E,EAAKgP,EAAWf,EAAgBzG,GAErD,GAAIyH,SAAuB,EACN,cAAjBA,EACAD,EAAY,GACU,YAAjBC,GAAoD,mBAAd,KAC3CzH,EAAWwH,EACXA,EAAY,GAEhB,IAAId,SAA4B,EACN,cAAtBA,EACAD,GAAiB,EACU,YAAtBC,GAAyD,mBAAd,KAChD1G,EAAWyG,EACXA,GAAiB,EAErB,IAAIgB,SAAuB,EACN,cAAjBA,EACAD,EAAY,GACU,YAAjBC,GAAoD,mBAAd,KAC3CzH,EAAWwH,EACXA,EAAY,GAGhB,IAAItB,SAAiB,EACN,cAAXA,EACA1N,EAAM,GACU,YAAX0N,GAA8C,mBAAd,KACrClG,EAAWxH,EACXA,EAAM,GAGV,IAAIiI,GAAI,GAAIlK,QAAO,KAAM,mBAAqBiC,IAAKA,EAAKgP,UAAWA,EAAWlK,IAAKA,EAAKmJ,eAAgBA,GACxG7O,WAAUmI,YAAYU,EAAG,SAAUR,EAAKC,GAEpCF,EAASC,EAAKC,MAIpByG,WAAY,SAAUC,EAAUpO,EAAKgP,EAAWxH,GAE9C,GAAI4G,EAASC,cAAgBC,MAGzB,WADA9G,IAAW+G,KAAQ,QAAS5K,QAAW,+BAAiC,KAG5E,IAAIsL,SAAuB,EACN,cAAjBA,EACAD,EAAY,GACU,YAAjBC,GAAoD,mBAAd,KAC3CzH,EAAWwH,EACXA,EAAY,GAEhB,IAAItB,SAAiB,EACN,cAAXA,EACA1N,EAAM,GACU,YAAX0N,GAA8C,mBAAd,KACrClG,EAAWxH,EACXA,EAAM,GAGV,IAAIiI,GAAI,GAAIlK,QAAO,KAAM,uBAAyBiC,IAAKA,EAAKgP,UAAWA,EAAWlK,IAAKsJ,GACvFhP,WAAUmI,YAAYU,EAAG,SAAUR,EAAKC,GAEpCF,EAASC,EAAKC,MAIpB8G,OAAQ,SAAUxQ,EAAI8G,EAAK9E,EAAKgP,EAAWxH,GACzC,GAAIyH,SAAuB,EACN,cAAjBA,EACAD,EAAY,GACU,YAAjBC,GAAoD,mBAAd,KAC3CzH,EAAWwH,EACXA,EAAY,GAGhB,IAAItB,SAAiB,EACN,cAAXA,EACA1N,EAAM,GACU,YAAX0N,GAA8C,mBAAd,KACrClG,EAAWxH,EACXA,EAAM,GAGV,IAAIiI,GAAI,GAAIlK,QAAO,KAAM,mBAAqBiC,IAAKA,EAAKgP,UAAWA,EAAWhR,GAAIA,EAAI8G,IAAKA,GAC3F1F,WAAUmI,YAAYU,EAAG,SAAUR,EAAKC,GAEhCF,GAAUA,EAASC,EAAKC,MAIlC+G,SAAQ,SAAUzQ,EAAIgC,EAAKgP,EAAWxH,GAEpC,GAAIyH,SAAuB,EACN,cAAjBA,EACAD,EAAY,GACU,YAAjBC,GAAoD,mBAAd,KAC3CzH,EAAWwH,EACXA,EAAY,GAEhB,IAAItB,SAAiB,EACN,cAAXA,EACA1N,EAAM,GACU,YAAX0N,GAA8C,mBAAd,KACrClG,EAAWxH,EACXA,EAAM,GAGV,IAAIiI,GAAI,GAAIlK,QAAO,KAAM,mBAAqBiC,IAAKA,EAAKgP,UAAWA,EAAWhR,GAAIA,GAClFoB,WAAUmI,YAAYU,EAAG,SAAUR,EAAKC,GAEhCF,GAAUA,EAASC,EAAKC,MAIlChD,OAAQ,SAAUjC,EAASzC,EAAKwH,GAE9B,GAAIkG,SAAiB,EACN,cAAXA,EACA1N,EAAM,GACU,YAAX0N,GAA8C,mBAAd,KACrClG,EAAWxH,EACXA,EAAM,IAIc,mBAAb,KAA0ByC,GAAYiM,YAC5CjM,EAAQiM,SAAQjM,EAAQiM,UAE7B,IAAIzG,GAAI,GAAIlK,QAAO,KAAM,mBAAqBiC,IAAKA,EAAK8E,IAAKrC,GAC7DrD,WAAUmI,YAAYU,EAAG,SAAUR,EAAKC,GACpCF,EAASC,EAAKC,MAIpBiH,SAAU,SAAUnH,EAAU3B,GAC5B,MAAOzG,WAAUqG,aAAaE,IAAI,mBAAoB6B,EAAU3B,IAElEmH,gBAAiB,SAAUlI,GACzB1F,UAAUqG,aAAaQ,QAAQ,mBAAoBnB,IAGrD8J,UAAW,SAAUpH,EAAU3B,GAC7B,MAAOzG,WAAUqG,aAAaE,IAAI,oBAAqB6B,EAAU3B,IAEnEgJ,iBAAkB,SAAU/J,GAC1B1F,UAAUqG,aAAaQ,QAAQ,oBAAqBnB,IAGtDgK,eAAgB,WACd,GAAI7G,GAAI,GAAIlK,QAAO,KAAM,0BACzBqB,WAAUmI,YAAYU,KAI5BiH,UAEEC,WAAY,SAAU1M,EAAS+E,GAC3B,GAAIS,GAAI,GAAIlK,QAAO,KAAM,sBAAuB0E,EAChDrD,WAAUmI,YAAYU,EAAGT,IAE5B4H,kBAAmB,SAAS9P,GACzB,MAAoE,IAA3DA,EAAIC,QAAQ,6CAC0C,GAA5DD,EAAIC,QAAQ,8CAOjB8P,YAAa,SAAU/P,EAAKmD,GAE1B,GAAI6M,GAAQ7M,EAAQ8M,mBAAmB,EAAE9P,OAAO+P,gBAGzD,IAAW,EAARF,EACF,GAAIA,GAAQ,CAGJ,IAAK7M,GAEA,GAAuB,gBAAb,GACX,KAAM,4BAFNA,IAAWN,MAAO1C,OAAOgQ,WAIR,SAAjBhN,EAAQN,QAAiBM,EAAQN,MAAQ1C,OAAOgQ,YAC9B,QAAlBhN,EAAQgK,SAAkBhK,EAAQgK,OAAShN,OAAOiQ,YAEtD,IAAIC,EAwBA,OAtBDvQ,WAAU8P,SAASE,kBAAkB9P,IACpCA,EAAMA,EAAIyM,QAAQ,eAAgB,WAClC4D,EAAM,6BAA+BrQ,EAAIqF,UAAU,KAE9CrF,EAAIC,QAAQ,oBAAsB,IACvCoQ,EAAM,6BAA+BrQ,EAAIuF,MAAM,oBAAoB,IAgBnE8K,EAAO,iCACHlN,EAAQN,QAAUM,EAAQgK,OACnBkD,EAAO,SAAWrR,KAAKsR,MAAMnN,EAAQN,MAAQmN,GAAS,IAAMhQ,GAC7DmD,EAAQN,OAASM,EAAQgK,OACxBkD,EAAO,UAAYrR,KAAKsR,MAAMnN,EAAQgK,OAAS6C,GAAS,IAAMhQ,EAChEmD,EAAQN,OAASM,EAAQgK,OACvBkD,EAAO,YAAcrR,KAAKsR,MAAMnN,EAAQN,MAAQmN,GAAS,IAAMhR,KAAKsR,MAAMnN,EAAQgK,OAAS6C,GAAS,IAAMhQ,EAE1GA,GAIjBuQ,UAAW,SAAUvQ,EAAKmD,GAExB,GAAI6M,GAAQ7M,EAAQqN,kBAAmB,EAAErQ,OAAO+P,gBAEhD,IAAuB,gBAAb,GACN,KAAM,uBAQV,IANK/M,EAAQN,OAAUM,EAAQgK,SAC3BhK,GAAWN,MAAO,OAAQsK,OAAQ,SAEjB,QAAjBhK,EAAQN,QAAiBM,EAAQN,MAAQ1C,OAAOgQ,YAC9B,QAAlBhN,EAAQgK,SAAkBhK,EAAQgK,OAAShN,OAAOiQ,cAElDjN,EAAQN,QAAUM,EAAQgK,OAE1B,MADAhJ,SAAQU,KAAK,4EACN7E,CAIX,IAAIqQ,EAkBA,OAhBDvQ,WAAU8P,SAASE,kBAAkB9P,IACpCA,EAAMA,EAAIyM,QAAQ,eAAgB,WAClC4D,EAAM,6BAA+BrQ,EAAIqF,UAAU,KAE9CrF,EAAIC,QAAQ,oBAAsB,IACvCoQ,EAAM,6BAA+BrQ,EAAIuF,MAAM,oBAAoB,IAUnE8K,EAAO,sCACAA,EAAOrR,KAAKsR,MAAMnN,EAAQN,MAAQmN,GAAS,IAAMhR,KAAKsR,MAAMnN,EAAQgK,OAAS6C,GAAS,IAAMhQ,GAI1GyQ,OACGC,QAAS/Q,SAASsB,cAAc,KAC9B0P,kBAAmBxQ,OAAOC,SAASI,KAAK+E,MAAM,mBAAmB,GAAK,YACtEqL,iBAAkB,SAAU5Q,GAC1BF,UAAU8P,SAASa,MAAMC,QAAQlQ,KAAOR,CACxC,IAAI+F,GAAWjG,UAAU8P,SAASa,MAAMC,QAAQpE,SAAS/G,MAAM,IAC/D,OAAuB,IAAnBQ,EAASlC,OACF,KAEAkC,EAASA,EAASlC,OAAS,IAExCgN,YAAa,SAAU7Q,GACrB,GAAIF,UAAUC,aAAaC,GAAM,CAC7B,GAAI8Q,GAAWjS,KAAK8R,kBAAoB9R,KAAK+R,iBAAiB5Q,EAE9D,OAAO8Q,GAGP,MAAO,OAEbf,YAAa,SAAU/P,EAAKmD,EAAS+E,GAGnC,GAAK/E,GAEA,GAAuB,gBAAb,GACX,KAAM,4BAFNA,IAAWN,MAAO1C,OAAOgQ,WAIR,SAAjBhN,EAAQN,QAAiBM,EAAQN,MAAQ1C,OAAOgQ,YAC9B,QAAlBhN,EAAQgK,SAAkBhK,EAAQgK,OAAShN,OAAOiQ,YAEtD,IAAIU,GAAWhR,UAAU8P,SAASa,MAAMI,YAAY7Q,EACpD,IAAI8Q,EAAU,CACV,GAAIC,GAAM,GAAIC,MACdD,GAAI7P,IAAM4P,EACVC,EAAIE,OAAS,WAEL9N,EAAQN,QAAUM,EAAQgK,OAC1BhK,EAAQgK,OAAU4D,EAAI5D,OAAShK,EAAQN,MAASkO,EAAIlO,OAC9CM,EAAQN,OAASM,EAAQgK,SAC/BhK,EAAQN,MAASkO,EAAIlO,MAAQM,EAAQgK,OAAU4D,EAAIlO,MAEvD,IAAIqO,GAASvR,SAASsB,cAAc,UAChCkQ,EAAMD,EAAOlI,WAAW,KAC5BkI,GAAOrO,MAAQM,EAAQN,MACvBqO,EAAO/D,OAAShK,EAAQgK,OAGxBgE,EAAIC,UAAUL,EAAK,EAAG,EAAG5N,EAAQN,MAAOM,EAAQgK,QAEhDjF,EAAS,KAAMgJ,EAAOG,cAE1BN,EAAIO,QAAU,WACVpJ,EAAS,KAAMpI,UAAU8P,SAASG,YAAY/P,EAAKmD,SAIvD+E,GAAS,KAAMpI,UAAU8P,SAASG,YAAY/P,EAAKmD,KAIzDoN,UAAW,SAAUvQ,EAAKmD,EAAS+E,GAGjC,GAAI/H,OAAOmL,UAAUiG,OAEjB,WADArJ,GAAS,KAAMpI,UAAU8P,SAASW,UAAUvQ,EAAKmD,GAIrD,IAAI6M,GAAQ7M,EAAQqN,kBAAoB,EAAIrQ,OAAO+P,gBAEnD,IAAK/M,GAEA,GAAuB,gBAAb,GACX,KAAM,4BAFNA,IAAWN,MAAO1C,OAAOgQ,WAIR,SAAjBhN,EAAQN,QAAiBM,EAAQN,MAAQ1C,OAAOgQ,YAC9B,QAAlBhN,EAAQgK,SAAkBhK,EAAQgK,OAAShN,OAAOiQ,YAEtD,IAAIU,GAAWhR,UAAU8P,SAASa,MAAMI,YAAY7Q,EACpD,IAAI8Q,EAAU,CACV,GAAIC,GAAM,GAAIC,MACdD,GAAI7P,IAAM4P,EACVC,EAAIE,OAAS,WACT,GAAIC,GAASvR,SAASsB,cAAc,UAChCkQ,EAAMD,EAAOlI,WAAW,MACxBwI,GACA3O,MAAM,EACNsK,OAAO,GAEPsE,GACAC,EAAE,EACFC,EAAE,EAEFxO,GAAQN,QAAUM,EAAQgK,OACtBhK,EAAQN,MAAQM,EAAQgK,QACxBqE,EAAI3O,MAAQM,EAAQN,MACpB2O,EAAIrE,OAAU4D,EAAI5D,OAAShK,EAAQN,MAASkO,EAAIlO,MAChD4O,EAAOE,GAAKxO,EAAQgK,OAAOqE,EAAIrE,QAAQ,IAEvCqE,EAAI3O,MAASkO,EAAIlO,MAAQM,EAAQgK,OAAU4D,EAAI5D,OAC/CqE,EAAIrE,OAAShK,EAAQgK,OACrBsE,EAAOC,GAAKvO,EAAQN,MAAM2O,EAAI3O,OAAO,GAGrCkO,EAAIlO,MAAQkO,EAAI5D,QAChBqE,EAAI3O,MAAQM,EAAQN,MACpB2O,EAAIrE,OAAU4D,EAAI5D,OAAShK,EAAQN,MAASkO,EAAIlO,MAChD4O,EAAOE,GAAKxO,EAAQgK,OAAOqE,EAAIrE,QAAQ,IAEvCqE,EAAI3O,MAASkO,EAAIlO,MAAQM,EAAQgK,OAAU4D,EAAI5D,OAC/CqE,EAAIrE,OAAShK,EAAQgK,OACrBsE,EAAOC,GAAKvO,EAAQN,MAAM2O,EAAI3O,OAAO,GAG7C2O,EAAI3O,OAAcmN,EAClBwB,EAAIrE,QAAc6C,EAClB7M,EAAQN,OAAUmN,EAClB7M,EAAQgK,QAAU6C,EAElBkB,EAAOrO,MAAQM,EAAQN,MACvBqO,EAAO/D,OAAShK,EAAQgK,OACxBgE,EAAIC,UAAUL,EAAKU,EAAOC,EAAGD,EAAOE,EAAGH,EAAI3O,MAAO2O,EAAIrE,QACtDjF,EAAS,KAAMgJ,EAAOG,cAE1BN,EAAIO,QAAU,WACVpJ,EAAS,KAAMpI,UAAU8P,SAASW,UAAUvQ,EAAKmD,SAGrD+E,GAAS,KAAMpI,UAAU8P,SAASW,UAAUvQ,EAAKmD,OAQ/DyO,eACEhR,MAAO,SAAUuC,EAAS+E,GACtB,GAAIS,GAAI,GAAIlK,QAAO,KAAM,yBAA0B0E,EACnDrD,WAAUmI,YAAYU,EAAGT,IAE3B2J,QAAS,SAAU1O,EAAS+E,GAC1B,GAAIS,GAAI,GAAIlK,QAAO,KAAM,2BAA4B0E,EACrDrD,WAAUmI,YAAYU,EAAGT,IAE3BrH,OAAQ,SAAUsC,EAAS+E,GACzB,GAAIS,GAAI,GAAIlK,QAAO,KAAM,0BAA2B0E,EACpDrD,WAAUmI,YAAYU,EAAGT,IAE3B4J,KAAM,SAAU3O,GACd,GAAIwF,GAAI,GAAIlK,QAAO,KAAM,wBAAyB0E,EAClDrD,WAAUmI,YAAYU,EAAGT,WAE3B6J,QAAS,SAAU5O,GACjB,GAAIwF,GAAI,GAAIlK,QAAO,KAAM,2BAA4B0E,EACrDrD,WAAUmI,YAAYU,EAAGT,YAK/B8J,aACEnC,WAAY,SAAUlG,EAAYxG,EAAS+E,GACvC,GAAIS,GAAI,GAAIlK,QAAO,KAAM,0BAA2BkL,WAAYA,EAAYxG,QAASA,GACrFrD,WAAUmI,YAAYU,EAAGT,IAE7B+J,QAAS,SAAUtI,EAAYxG,EAAS+E,GACpC,GAAIS,GAAI,GAAIlK,QAAO,KAAM,sBAAuBkL,EAChD7J,WAAUmI,YAAYU,EAAGT,IAE7BgK,KAAM,SAAUF,EAAa7O,EAAS+E,GAClC,GAAIS,GAAI,GAAIlK,QAAO,KAAM,oBAAqBuT,YAAaA,EAAa7O,QAASA,GACjFrD,WAAUmI,YAAYU,EAAGT,IAE7BiK,OAAQ,SAAUvI,EAAQwI,EAAS9I,GAC/B,GAAIK,IACAC,OAAQA,EACRwI,QAASA,EACT9I,MAAOA,EAGX,OAAOK,KAIb0I,SACE5L,KAAM,SAAU6L,EAAOnP,EAAS+E,GAC5B,GAAIS,GAAI,GAAIlK,QAAO,KAAM,gBAAiB6T,MAAOA,EAAOnP,QAASA,EAASuE,OAAQ,UAClF5H,WAAUmI,YAAYU,EAAGT,IAE7BqK,MAAO,SAAUrK,EAAU3B,GACvB,MAAOzG,WAAUqG,aAAaE,IAAI,eAAgB6B,EAAU3B,IAEhEiM,aAAc,SAAUhN,GACpB1F,UAAUqG,aAAaQ,QAAQ,eAAgBnB,IAEnDiN,IAAK,SAAUvK,GACX,GAAIS,GAAI,GAAIlK,QAAO,KAAM,cACzBqB,WAAUmI,YAAYU,EAAGT,IAE7BiG,IAAK,SAAUhL,EAAS+E,GACpB,GAAIS,GAAI,GAAIlK,QAAO,KAAM,cAAe0E,EACxCrD,WAAUmI,YAAYU,EAAGT,KAI/BwK,WACEC,qBAAsB,SAAU/T,GAC5B,GAAI+J,GAAI,GAAIlK,QAAO,KAAM,uCAAwCG,EACjEkB,WAAUmI,YAAYU,IAExBiK,oBAAqB,SAAUhU,GAC7B,GAAI+J,GAAI,GAAIlK,QAAO,KAAM,sCAAuCG,EAChEkB,WAAUmI,YAAYU,IAExBkK,kBAAmB,SAAUxO,GAC3BF,QAAQY,KAAK,4BAA6B5E,OAAOC,YAIvD0S,gBACEjD,WAAY,SAAU1M,EAAS+E,GAC3B,GAAIS,GAAI,GAAIlK,QAAO,KAAM,8BAA+B0E,QAASA,GACjErD,WAAUmI,YAAYU,EAAGT,IAE3BiG,IAAK,SAAU4E,EAAK7K,GAClB,GAAIS,GAAI,GAAIlK,QAAO,KAAM,sBAAuBsU,EAChDjT,WAAUmI,YAAYU,EAAGT,IAS3B9C,OAAQ,SAAUjC,EAAS+E,GACzB,GAAIS,GAAI,GAAIlK,QAAO,KAAM,yBAA0B0E,EACnDrD,WAAUmI,YAAYU,EAAGT,IAE3B8K,gCAAiC,SAAU7P,EAAS+E,GAC5B,kBAAb,IAA4BA,EAG5B/E,IACLA,EAAQ8P,qBAAsB,IAH9B/K,EAAW/E,EACXA,GAAW8P,qBAAsB,IAIrCnT,UAAUgT,eAAejD,WAAW1M,EAAQ+E,KAIlDgL,UACEC,QAAS,SAAUjL,GACf,GAAIlE,GAAKlE,UAAUmE,kBAEfiE,GADDlE,EAAGoP,IACOxL,KAAKC,MAAM7D,EAAGoP,KAEd,OAEjBC,UACIlF,IAAK,SAAUjG,GACX,GAAIS,GAAI,GAAIlK,QAAO,KAAM,0BACzBqB,WAAUmI,YAAYU,EAAGT,KAGjCoL,QAAS,SAAU9N,EAAKrC,EAAS+E,GAC7B,GAAIS,GAAI,GAAIlK,QAAO,KAAM,oBAAqBG,KAAO4G,EAAKrC,QAASA,GACnErD,WAAUmI,YAAYU,EAAGT,IAG7BqL,WAAY,SAAU/N,GAClBrB,QAAQC,IAAI,oHACZ,IAAIiM,GAAO,MAAQvQ,UAAU8G,SAASgG,MAAQ,WAC9C,OAAKpH,GAGM6K,EAAO,QAAUzI,KAAKS,UAAU7C,GAFhC6K,IAMjBmD,SACExO,KAAM,WACFlF,UAAUmI,YAAY,GAAIxJ,QAAO,KAAM,kBAEzCwG,KAAM,WACJnF,UAAUmI,YAAY,GAAIxJ,QAAO,KAAM,mBAI7CgV,MACEC,MAAO,SAAUvQ,EAAS+E,GACtB,GAAIS,GAAI,GAAIlK,QAAO,KAAM,aAAc0E,EACvCrD,WAAUmI,YAAYU,EAAGT,IAE7ByL,OAAQ,WACJ,GAAIhL,GAAI,GAAIlK,QAAO,KAAM,cACzBqB,WAAUmI,YAAYU,IAE1BiL,eAAgB,SAAU1L,GACtB,GAAIS,GAAI,GAAIlK,QAAO,KAAM,sBACzBqB,WAAUmI,YAAYU,EAAGT,IAE7B2L,QAAS,SAAU3L,EAAU3B,GACzB,MAAOzG,WAAUqG,aAAaE,IAAI,cAAe6B,EAAU3B,IAE/DuN,eAAgB,SAAUC,GACtBjU,UAAUqG,aAAaQ,QAAQ,cAAeoN,IAElDC,SAAU,SAAU9L,EAAU3B,GAC1B,MAAOzG,WAAUqG,aAAaE,IAAI,eAAgB6B,EAAU3B,IAE9D0N,gBAAiB,SAAUrV,GACzB,MAAOkB,WAAUqG,aAAaQ,QAAQ,eAAgB/H,IAE1DsV,YAAa,SAAUC,GACnB,GAAIxL,GAAI,GAAIlK,QAAO,KAAM,mBAAoB0V,EAC7CrU,WAAUmI,YAAYU,IAE1ByL,eAAgB,SAAUjR,EAAS+E,GAC/B,GAAIS,GAAI,GAAIlK,QAAO,KAAM,sBAAuB0E,EAChDrD,WAAUmI,YAAYU,EAAGT,KAI/BmM,QACEC,UACIC,SAAU,SAAUnV,EAAO8I,GACvBpI,UAAUmI,YAAY,GAAIxJ,QAAO,KAAM,2BAA4BW,GAAQ8I,KAGnFsM,MAAO,SAAUC,EAAYvM,GACzBpI,UAAUmI,YAAY,GAAIxJ,QAAO,KAAM,eAAgBgW,GAAavM,IAExEwM,kBAAmB,SAAUxM,EAAU3B,GACnC,MAAOzG,WAAUqG,aAAaE,IAAI,wBAAyB6B,EAAU3B,IAEzEoO,aAAc,SAAUzM,EAAU3B,GAC9B,MAAOzG,WAAUqG,aAAaE,IAAI,mBAAoB6B,EAAU3B,IAEpEqO,yBAA0B,SAAUhW,GAChC,MAAOkB,WAAUqG,aAAaQ,QAAQ,wBAAyB/H,IAEnEiW,oBAAqB,SAAUjW,GAC3B,MAAOkB,WAAUqG,aAAaQ,QAAQ,mBAAoB/H,KAIhEkW,KACEC,mBAAmB,SAAS5R,EAAS+E,GACjCpI,UAAUmI,YAAY,GAAIxJ,QAAO,KAAK,yBAAyB0E,GAAS+E,IAE3E8M,cAAc,SAAS7R,EAAS+E,GAC7BpI,UAAUmI,YAAY,GAAIxJ,QAAO,KAAK,oBAAoB0E,IAC1DtE,KAAKoW,iBAAmB/M,GAG3B+M,iBAAkB,SAAS9M,EAAIzF,KAG/BwS,WAAW,SAASC,EAASjN,GAC1BpI,UAAUmI,YAAY,GAAIxJ,QAAO,KAAK,iBAAiB0W,GAASjN,KAGtEkN,cACEC,QAAS,SAASC,EAAIhT,EAAM4F,GACpBA,IAASA,EAAW,cAEJ,gBAAX,KACL5F,EAAQsF,KAAKS,UAAU/F,IAE3BxC,UAAUmI,YAAY,GAAIxJ,QAAO,KAAM,wBAAyB6W,IAAIA,EAAIhT,MAAMA,IAAS4F,IAE1FqN,QAAS,SAASD,EAAIpN,GACnB,IAAIA,EAAS,KAAM,oDACnBpI,WAAUmI,YAAY,GAAIxJ,QAAO,KAAM,uBAAwB6W,GAAMpN,IAExEsN,WAAY,SAASF,EAAIpN,GACtB,IAAIA,EAAS,KAAM,uDACnBpI,WAAUmI,YAAY,GAAIxJ,QAAO,KAAM,0BAA2B6W,GAAMpN,KAKpFpI,WAAUiE,OAGVpE,SAASqH,iBAAiB,mBAAoB,SAAU5H,GAEpD+E,QAAQY,KAAK,oBAEbjF,UAAUkJ,WAAW,SAAUb,EAAKtB,GAEhC,GADA1C,QAAQC,IAAI,0BACR+D,EACAhE,QAAQQ,MAAMwD,OAKd,IAFItB,EAAQ4O,UACR3V,UAAUQ,OAAOG,mBAAmBoG,EAAQ4O,UAC5CtV,OAAOC,SAASkM,SAASrM,QAAQ,YAAc,EAAG,CAClD,GAAIkH,GAAgBrH,UAAUqD,SAAWrD,UAAUqD,QAAQgE,aAAgBrH,UAAUqD,QAAQgE,cAAe,CAExGA,IACArH,UAAUmH,WAAW0F,uBAAuB9F,EAAQ+F,MAAO/F,EAAQgG,SAAUhG,EAAQ6O,UAAU5I,YAa3GhN,UAAUqD,QAAQwS,8BAClBhW,SAASiW,QAAU,SAAUlR,GACzBA,EAAIA,GAAMvE,OAAOf,KACjB,IAAIsE,GAAUgB,EAAEgF,QAAUhF,EAAEmR,WACxBrV,EAAOkD,EAAQoS,aAAa,QAC5BC,EAAgBrS,EAAQoS,aAAa,eACzC,IAAsB,KAAnBpS,EAAQsS,SAA0B,MAARxV,GAAwB,IAARA,GAA8B,MAAhBuV,EAAqB,CAC5E,GAAIE,GAAS,GAAIC,QAAO,kDACxB,IAAuB,KAAnBxS,EAAQsS,SAAkBC,EAAOE,KAAK3V,GAAO,CAC7CkE,EAAE6F,gBACF,IAAIb,GAAShG,EAAQoS,aAAa,iBAAmB,QACrDhW,WAAUmJ,WAAWQ,WAAWjJ,EAAMkJ,EAAQ,UAKjEnB,WAAW,WACAzI,UAAUqD,QAAQgE,cACxBrH,UAAUmH,WAAW8D,mBACvB,QAGJpL,SAASqH,iBAAiB,SAAU,SAAU5H,GAC1CU,UAAUmH,WAAWiG,sBAGzB/M,OAAOmR,QAAU,SAAU8E,EAAUpW,EAAKqW,EAAYC,EAAQC,GAC1DpS,QAAQQ,MAAM,UAAYyR,EAAU,YAAcpW,EAAK,UAAYqW,EAC7D,YAAcC,EAAQ,gBAAkBC,IAKxB,kBAAjB,eAQLpX,YAAYqX,UAAYrW,OAAOsW,MAAMD,UACrCrW,OAAOhB,YAAcA;CCrrDxB,SAASuX,EAAEC,EAAEC,EAAEjT,GAAG,QAASe,GAAEiS,EAAEC,GAAG/X,KAAKgY,SAAS,KAAKhY,KAAKsE,QAAQuT,EAAEI,UAAUpS,EAAEqS,SAASH,GAAG/X,KAAKmY,SAASN,EAAEC,GAAG9X,KAAKoY,KAAKP,EAAEI,UAAUI,GAAGrY,KAAKsY,MAAMT,EAAEI,UAAUM,GAAGvY,KAAK6F,EAAEgS,EAAEI,UAAUO,GAAGxY,KAAKyY,YAAYzY,KAAK0Y,YAAY1Y,KAAK2Y,SAAS,KAAK3Y,KAAK4Y,OAAO,KAAK5Y,KAAK6Y,gBAAgB7Y,KAAK8Y,YAAY,KAAK9Y,KAAK+Y,OAAO,KAAK/Y,KAAKgZ,UAAUhZ,KAAKiZ,WAAWjZ,KAAKkZ,YAAYlZ,KAAKmZ,gBAAgBnZ,KAAKoZ,SAASvB,EAAEwB,KAAKxT,EAAEyT,QAAQzB,EAAE0B,MAAM,SAAS1B,EAAEC,GAAG9X,KAAKyY,SAASZ,EAAE,GAAGzK,cAAcyK,EAAE2B,MAAM,IAAI,GAAI1B,GAAE9X,OAAOA,OAAO6X,EAAEwB,KAAKxT,EAAE4T,KAAK5B,EAAE0B,MAAM,SAASzB,EAAEC,GAAG/X,KAAKoZ,MAAMxR,MAAM2I,OAAOwH,EAAExH,OAAOmJ,IAAI7B,EAAE0B,MAAMxB,EAAE2B,IAAI1Z,SAASA,OAAOA,KAAK2Z,QAAQ3Z,KAAK4Z,aAAa,QAASC,GAAEhC,GAAG,GAAGA,EAAEiC,UAAUhV,EAAE,OAAO+N,EAAEgF,EAAEiC,QAAQ,GAAGC,MAAMjH,EAAE+E,EAAEiC,QAAQ,GAAGE,MAAO,IAAGnC,EAAEiC,UAAUhV,EAAE,CAAC,GAAG+S,EAAEkC,QAAQjV,EAAE,OAAO+N,EAAEgF,EAAEkC,MAAMjH,EAAE+E,EAAEmC,MAAO,IAAGnC,EAAEkC,QAAQjV,EAAE,OAAO+N,EAAEgF,EAAEoC,QAAQnH,EAAE+E,EAAEqC,UAAU,QAASC,GAAEtC,GAAG,GAAIC,GAAEhT,EAAEe,EAAEkS,EAAE3V,cAAc,OAAOyX,EAAEhC,CAAE,KAAIC,IAAK+B,GAAE,GAAG/U,EAAE+U,EAAE/B,GAAG,mBAAoBjS,GAAEjC,MAAMkB,GAAG,MAAOe,GAAE,MAAMf,EAAEgT,EAAG,SAAO,GAAI,QAASsC,KAAI,MAAOD,IAAG,aAAa,mBAAmB,gBAAgB,gBAAgB,GAAG,QAASlU,KAAI,MAAOkU,IAAG,YAAY,kBAAkB,eAAe,aAAa,gBAAgB,GAAG,QAASE,KAAI,MAAOF,IAAG,cAAc,oBAAoB,iBAAiB,eAAe,kBAAkB,GAAG,QAASG,KAAI,MAAM,gBAAiBxC,MAAKrL,UAAU8N,iBAAiB,QAASC,KAAI,MAAO1C,GAAErL,UAAUgO,iBAAiB,GAAIpC,GAAEE,EAAEC,CAAEH,IAAGqC,MAAM,EAAEC,OAAO,EAAEC,OAAO,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,SAAS,KAAKC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,SAAS,MAAM/C,GAAGgD,SAAQ,EAAGC,aAAY,EAAGC,WAAU,EAAGC,WAAU,EAAGC,UAAS,GAAInD,GAAGoD,aAAa,KAAKC,YAAY,KAAKC,WAAW,KAAKC,eAAe,KAAKC,SAAS,KAAKC,gBAAgB,KAAKC,UAAU,KAAKC,eAAe,MAAMtW,EAAEqS,UAAUkE,MAAM,EAAEC,MAAK,EAAGC,QAAO,EAAGC,WAAU,EAAGC,WAAU,EAAGC,UAAS,EAAGC,UAAS,EAAGC,OAAO,EAAEC,aAAa,EAAEC,OAAM,EAAGC,UAAS,EAAGC,WAAU,EAAGC,cAAc,EAAEC,KAAI,EAAGC,WAAW,IAAIC,YAAW,EAAGC,cAAa,EAAGC,cAAcC,sBAAsB,IAAIC,sBAAsBzF,EAAE0F,iBAAgB,EAAGC,eAAe,QAAQvX,MAAK,EAAGwX,oBAAmB,EAAGC,YAAY,MAAMC,aAAa,MAAMC,WAAW,YAAYC,UAAU,eAAeC,UAAU,WAAWC,YAAY,SAASC,YAAY,UAAUpY,EAAEqY,OAAOC,QAAQ,UAAUC,MAAM,QAAQC,MAAM,SAASxY,EAAEyT,WAAWzT,EAAE4T,OAAOlJ,QAAQ,QAAQ,QAAQ,YAAYmJ,IAAI,SAAS7B,GAAGA,EAAEgD,QAAQ7a,KAAKgZ,QAAQhZ,KAAKgZ,OAAOhZ,KAAKse,SAASte,KAAK2Y,cAAcpI,QAAQ,QAAQ,YAAYmJ,IAAI,WAAW,GAAI7B,GAAE7X,KAAKiZ,QAAQnB,EAAE9X,KAAKue,OAAOC,SAAS,YAAY1G,EAAE9S,SAAS6S,EAAE7S,SAAShF,KAAKgY,SAASqE,MAAMxE,EAAE7S,OAAO,KAAKhF,KAAKue,OAAOC,SAAS,WAAWC,SAASze,KAAKiZ,eAAe1I,QAAQ,QAAQ,YAAYmJ,IAAI,WAAW,GAAI7B,GAAEC,EAAEC,EAAE/X,KAAKiZ,QAAQnU,EAAE9E,KAAKgZ,OAAOnT,EAAE7F,KAAKgY,SAASqE,KAAKtE,EAAE/S,OAAO7E,KAAKoO,IAAI,EAAEvO,KAAKgY,SAASoE,MAAM,GAAG,CAAE,KAAIvE,EAAE,EAAEC,EAAE3X,KAAKue,IAAI7Y,EAAE,GAAGiS,EAAED,EAAEA,IAAIhS,EAAE,GAAG7F,KAAKue,OAAOC,WAAWG,GAAG7Z,EAAEE,OAAO+S,EAAE/S,OAAO,GAAGyZ,SAAS1G,EAAEnE,MAAM5T,KAAKue,OAAOC,WAAWG,GAAG,GAAGF,SAAS1G,EAAEnE,QAAQmE,EAAEnQ,KAAKmQ,EAAE/S,OAAO,GAAGhF,KAAKue,OAAOK,OAAO9Z,EAAEiT,EAAEA,EAAE/S,OAAO,IAAI6Z,QAAQlW,SAAS,WAAWoP,EAAEnQ,KAAK9C,EAAEE,OAAO,GAAG+S,EAAE/S,OAAO,GAAG,GAAGhF,KAAKue,OAAOO,QAAQha,EAAEiT,EAAEA,EAAE/S,OAAO,IAAI6Z,QAAQlW,SAAS,eAAe4H,QAAQ,QAAQ,QAAQ,YAAYmJ,IAAI,WAAW,GAAI7B,GAAEC,EAAEC,EAAEjT,EAAE9E,KAAKgY,SAASiF,IAAI,EAAE,GAAGpX,GAAG7F,KAAKgE,QAAQhE,KAAKgY,SAASoE,OAAO2C,QAAQ,GAAGlF,EAAE,CAAE,KAAI7Z,KAAK6Y,gBAAgBf,EAAE,EAAEC,EAAE/X,KAAKiZ,QAAQjU,OAAOhF,KAAKgZ,OAAOhU,OAAO+S,EAAED,EAAEA,IAAID,EAAE7X,KAAKkZ,SAASlZ,KAAKse,SAASxG,IAAID,EAAE7X,KAAKgY,SAAS8E,UAAU3c,KAAK6e,IAAInH,EAAE7X,KAAKgY,SAASoE,QAAQvE,EAAEgC,IAAI7Z,KAAKgY,SAAS+E,UAAU/c,KAAKgZ,OAAOhZ,KAAKse,SAASxG,IAAI9T,QAAQhE,KAAKgY,SAAS2E,OAAO9W,EAAEgS,GAAG/S,EAAE9E,KAAK6Y,aAAajR,KAAKiS,MAAMtJ,QAAQ,QAAQ,QAAQ,YAAYmJ,IAAI,WAAW,GAAI5B,GAAEC,EAAEjT,GAAG9E,KAAKgE,QAAQhE,KAAKgY,SAASoE,OAAO2C,QAAQ,GAAGlZ,GAAG7B,MAAM7D,KAAKue,IAAI1e,KAAK6Y,aAAa7Y,KAAK6Y,aAAa7T,OAAO,IAAI,EAAEhF,KAAKgY,SAAS4E,aAAaqC,eAAejf,KAAKgY,SAAS4E,cAAc,GAAGsC,gBAAgBlf,KAAKgY,SAAS4E,cAAc,GAAI,IAAG5c,KAAKue,OAAOY,IAAItZ,GAAGA,GAAG7B,MAAMhE,KAAKgY,SAAS+E,UAAU,OAAOjY,EAAE9E,KAAKgY,SAAS2E,QAAQ9W,EAAE7F,KAAKgY,SAASiF,IAAI,cAAc,gBAAgBjd,KAAKgY,SAAS2E,QAAQ3c,KAAKgY,SAAS+E,WAAWlF,EAAEuH,KAAKpf,KAAKkZ,SAAS,SAASrB,GAAG,MAAOA,GAAE,IAAI7S,OAAO,EAAE,IAAI8S,EAAE,EAAEC,EAAE/X,KAAK6Y,aAAa7T,OAAO+S,EAAED,EAAEA,IAAIjS,EAAE7B,MAAM7D,KAAKue,IAAI1e,KAAK6Y,aAAaf,IAAI3X,KAAKue,IAAI1e,KAAK6Y,aAAaf,EAAE,IAAI,GAAG9X,KAAKgY,SAAS2E,OAAO3c,KAAKue,OAAOC,WAAWG,GAAG7G,GAAGqH,IAAItZ,OAAQ7F,MAAKue,OAAOC,WAAWW,IAAItZ,MAAM0K,QAAQ,QAAQ,QAAQ,YAAYmJ,IAAI,SAAS7B,GAAGA,EAAEgD,SAAS7a,KAAKqf,MAAMrf,KAAKue,OAAOC,WAAWtb,MAAM2U,EAAEgD,aAAatK,QAAQ,YAAYmJ,IAAI,WAAW1Z,KAAKsf,QAAQtf,KAAKuf,YAAYvf,KAAK2Y,cAAcpI,QAAQ,QAAQ,WAAW,QAAQ,YAAYmJ,IAAI,WAAW,GAAI7B,GAAEC,EAAEC,EAAEjT,EAAEe,EAAE7F,KAAKgY,SAASiF,IAAI,EAAE,GAAGpD,EAAE,EAAE7Z,KAAKgY,SAAS4E,aAAazC,EAAEna,KAAKuf,YAAYvf,KAAK6a,WAAWhB,EAAEO,EAAED,EAAEna,KAAKgE,QAAQ6B,EAAEI,IAAK,KAAI8R,EAAE,EAAEjT,EAAE9E,KAAK6Y,aAAa7T,OAAOF,EAAEiT,EAAEA,IAAIF,EAAE7X,KAAK6Y,aAAad,EAAE,IAAI,EAAED,EAAE3X,KAAKue,IAAI1e,KAAK6Y,aAAad,IAAI8B,EAAEhU,GAAG7F,KAAKwf,GAAG3H,EAAE,KAAKsC,IAAIna,KAAKwf,GAAG3H,EAAE,IAAIuC,IAAIpa,KAAKwf,GAAG1H,EAAE,IAAIqC,IAAIna,KAAKwf,GAAG1H,EAAE,IAAIsC,KAAKnU,EAAE2B,KAAKmQ,EAAG/X,MAAKue,OAAOC,SAAS,IAAIxe,KAAKgY,SAASiG,aAAawB,YAAYzf,KAAKgY,SAASiG,aAAaje,KAAKue,OAAOC,SAAS,OAAOvY,EAAE7C,KAAK,WAAW,KAAKuF,SAAS3I,KAAKgY,SAASiG,aAAaje,KAAKgY,SAASsE,SAAStc,KAAKue,OAAOC,SAAS,IAAIxe,KAAKgY,SAASgG,aAAayB,YAAYzf,KAAKgY,SAASgG,aAAahe,KAAKue,OAAOC,WAAWG,GAAG3e,KAAK6a,WAAWlS,SAAS3I,KAAKgY,SAASgG,iBAAiBnY,EAAE8R,UAAUiC,WAAW,WAAW,GAAG5Z,KAAK8H,QAAQ,cAAc9H,KAAKmY,SAASxP,SAAS3I,KAAKgY,SAAS8F,WAAWnV,SAAS3I,KAAKgY,SAAS6F,YAAYta,YAAY,UAAUvD,KAAKgY,SAASiF,KAAKjd,KAAK0f,iBAAiB1f,KAAKgY,SAAS+E,WAAW/c,KAAKsY,MAAMqH,gBAAe,EAAG,CAAC,GAAI7H,GAAEC,EAAElS,CAAE,IAAGiS,EAAE9X,KAAKmY,SAASyH,KAAK,OAAO7H,EAAE/X,KAAKgY,SAAS0F,mBAAmB,IAAI1d,KAAKgY,SAAS0F,mBAAmB5Y,EAAEe,EAAE7F,KAAKmY,SAASqG,SAASzG,GAAG/T,QAAQ8T,EAAE9S,QAAQ,GAAGa,EAAE,MAAO7F,MAAK6f,uBAAuB/H,IAAG,EAAG9X,KAAKmY,SAASxP,SAAS,eAAe3I,KAAKue,OAAO1G,EAAE,IAAI7X,KAAKgY,SAAS4F,aAAa,wBAAwBkC,KAAK,iCAAiC9f,KAAKmY,SAASyG,OAAO5e,KAAKue,OAAOrV,UAAUlJ,KAAK4N,QAAQ5N,KAAKmY,SAASqG,WAAWuB,IAAI/f,KAAKue,OAAOrV,WAAWlJ,KAAK+Y,OAAO/Y,KAAKmY,SAASnU,QAAQhE,KAAKggB,UAAUhgB,KAAKmY,SAASsH,YAAY,eAAe9W,SAAS,cAAc3I,KAAKigB,aAAajgB,KAAKkgB,iBAAiBlgB,KAAKmgB,uBAAuBngB,KAAK8H,QAAQ,gBAAgBjC,EAAE8R,UAAUgC,MAAM,WAAW,GAAI7B,GAAE9X,KAAKogB,WAAWrI,EAAE/X,KAAKsE,QAAQ+Y,WAAWvY,EAAE,GAAGe,EAAE,IAAKkS,IAAGF,EAAEwB,KAAKtB,EAAE,SAASF,GAAGC,GAAGD,GAAGA,EAAE/S,IAAIA,EAAEub,OAAOxI,MAAMhS,EAAEgS,EAAEI,UAAUjY,KAAKsE,QAAQyT,EAAEjT,UAAWe,GAAEwX,WAAWxX,EAAE2X,iBAAiBxd,KAAKmY,SAASmI,KAAK,QAAQ,SAASzI,EAAEC,GAAG,MAAOA,GAAElK,QAAQ,yBAAyB,MAAMjF,SAAS,kBAAkB7D,IAAIe,EAAEgS,EAAEI,UAAUjY,KAAKsE,UAAU,OAAOtE,KAAKgY,UAAUhY,KAAK8Y,cAAchU,KAAK9E,KAAK8H,QAAQ,UAAUyY,UAAUC,KAAK,WAAW/c,MAAMoC,KAAK7F,KAAK8Y,YAAYhU,EAAE9E,KAAKgY,SAASnS,EAAE7F,KAAKygB,WAAW,YAAYzgB,KAAK8H,QAAQ,WAAWyY,UAAUC,KAAK,WAAW/c,MAAMzD,KAAKgY,cAAcnS,EAAE8R,UAAU+I,aAAa,WAAW1gB,KAAKmY,SAAS5U,YAAY,aAAavD,KAAKgY,SAASsE,QAAQtc,KAAKgY,SAASqE,MAAMrc,KAAKgZ,OAAOhU,OAAOhF,KAAKgY,SAASoE,QAAQpc,KAAKgY,SAASqE,MAAK,GAAIrc,KAAKgY,SAAS+E,YAAY/c,KAAKgY,SAAS4E,cAAa,EAAG5c,KAAKgY,SAAS6E,OAAM,IAAKhX,EAAE8R,UAAUgJ,QAAQ,SAAS7I,GAAG,GAAIC,GAAE/X,KAAK8H,QAAQ,WAAWb,QAAQ6Q,GAAI,OAAOC,GAAEhY,OAAOgY,EAAEhY,KAAK8X,EAAE,IAAI7X,KAAKgY,SAAS2F,YAAY,MAAMhV,SAAS3I,KAAKgY,SAAS+F,WAAWa,OAAO9G,IAAI9X,KAAK8H,QAAQ,YAAYb,QAAQ8Q,EAAEhY,OAAOgY,EAAEhY,MAAM8F,EAAE8R,UAAUtH,OAAO,WAAW,IAAI,GAAIyH,GAAE,EAAEC,EAAE/X,KAAKoZ,MAAMpU,OAAOF,EAAE+S,EAAE0B,MAAM,SAAS1B,GAAG,MAAO7X,MAAK6X,IAAI7X,KAAKmZ,cAActT,KAAKkS,EAAED,IAAI9X,KAAKmZ,aAAayH,KAAK/I,EAAEuH,KAAKpf,KAAKoZ,MAAMtB,GAAGvH,OAAOzL,GAAGE,OAAO,IAAIhF,KAAKoZ,MAAMtB,GAAG4B,IAAI7T,GAAGiS,GAAI9X,MAAKmZ,iBAAiBtT,EAAE8R,UAAU3T,MAAM,SAAS6T,GAAG,OAAOA,EAAEA,GAAGhS,EAAEqY,MAAMC,SAAS,IAAKtY,GAAEqY,MAAME,MAAM,IAAKvY,GAAEqY,MAAMG,MAAM,MAAOre,MAAK+Y,MAAO,SAAQ,MAAO/Y,MAAK+Y,OAAO,EAAE/Y,KAAKgY,SAAS4E,aAAa5c,KAAKgY,SAAS2E,SAAS9W,EAAE8R,UAAUqI,QAAQ,WAAW,MAAG,KAAIhgB,KAAKgZ,OAAOhU,QAAa,IAAG,GAAK/E,OAAM4gB,UAAU7gB,KAAK8H,QAAQ,WAAW9H,KAAK2Z,QAAQ3Z,KAAK0gB,eAAe1gB,KAAKue,OAAO5V,SAAS,eAAe3I,KAAKqQ,SAASrQ,KAAKue,OAAOkB,YAAY,eAAezf,KAAKsY,MAAMwI,YAAYhJ,EAAEgJ,YAAY9gB,KAAK+gB,kBAAkB/gB,KAAK8H,QAAQ,aAAhP,SAA8PjC,EAAE8R,UAAUsI,WAAW,WAAWjgB,KAAK6F,EAAE+V,aAAa/D,EAAE0B,MAAM,SAAS1B,GAAG7X,KAAKghB,YAAYnJ,IAAI7X,MAAMA,KAAK6F,EAAEgW,YAAYhE,EAAE0B,MAAM,SAAS1B,GAAG7X,KAAKihB,WAAWpJ,IAAI7X,MAAMA,KAAK6F,EAAEiW,WAAWjE,EAAE0B,MAAM,SAAS1B,GAAG7X,KAAKkhB,UAAUrJ,IAAI7X,MAAMA,KAAK6F,EAAEsb,UAAUtJ,EAAE0B,MAAM,SAAS1B,GAAG7X,KAAKohB,SAASvJ,IAAI7X,MAAMA,KAAK6F,EAAEkW,eAAelE,EAAE0B,MAAM,SAAS1B,GAAG7X,KAAKqhB,cAAcxJ,IAAI7X,MAAMA,KAAK6F,EAAEyb,cAAczJ,EAAE0B,MAAM,SAAS1B,GAAG7X,KAAKuhB,aAAa1J,IAAI7X,OAAO6F,EAAE8R,UAAU6J,kBAAkB,WAAW1J,EAAEjO,aAAa7J,KAAKyhB,aAAazhB,KAAKyhB,YAAY3J,EAAEpO,WAAW1J,KAAK6F,EAAEsb,UAAUnhB,KAAKgY,SAASsF,wBAAwBzX,EAAE8R,UAAUyJ,SAAS,WAAW,MAAOphB,MAAKgZ,OAAOhU,OAAOhF,KAAK+Y,SAAS/Y,KAAKmY,SAASnU,SAAQ,EAAGhE,KAAK8H,QAAQ,UAAU4Z,sBAAqB,GAAI1hB,KAAK+Y,OAAO/Y,KAAKmY,SAASnU,QAAQhE,KAAKygB,WAAW,SAASzgB,KAAKggB,cAAehgB,MAAK8H,QAAQ,aAAY,GAAIjC,EAAE8R,UAAUgK,aAAa,SAAS9J,GAAG,GAAIC,GAAED,EAAEzL,IAAK,eAAc0L,GAAG,eAAeA,EAAE9X,KAAKghB,YAAYnJ,GAAG,cAAcC,GAAG,cAAcA,EAAE9X,KAAKihB,WAAWpJ,GAAG,YAAYC,GAAG,aAAaA,EAAE9X,KAAKkhB,UAAUrJ,GAAG,gBAAgBC,GAAG9X,KAAKkhB,UAAUrJ,IAAIhS,EAAE8R,UAAUuI,eAAe,WAAW,GAAInI,IAAGuC,IAAIE,IAAKxa,MAAKgY,SAASuE,WAAWvc,KAAKue,OAAOqD,GAAG,YAAY/J,EAAE0B,MAAM,SAAS1B,GAAG7X,KAAK2hB,aAAa9J,IAAI7X,OAAOA,KAAKue,OAAOqD,GAAG,YAAY,WAAW,OAAM,IAAK5hB,KAAKue,OAAOjP,IAAI,GAAGuS,cAAc,WAAW,OAAM,IAAK7hB,KAAKmY,SAASxP,SAAS,sBAAsB3I,KAAKgY,SAASwE,YAAYzE,GAAG/X,KAAKue,OAAOqD,GAAG,yBAAyB/J,EAAE0B,MAAM,SAAS1B,GAAG7X,KAAK2hB,aAAa9J,IAAI7X,OAAOA,KAAK8hB,qBAAqB9hB,KAAK4hB,GAAG5hB,KAAKue,OAAOjP,IAAI,GAAGtP,KAAK8hB,oBAAoB9hB,KAAK6F,EAAEkW,gBAAe,GAAI/b,KAAKgY,SAASqF,cAAa,GAAIrd,KAAK4hB,GAAG9J,EAAE,SAASD,EAAE0B,MAAMvZ,KAAKwhB,kBAAkBxhB,QAAQ6F,EAAE8R,UAAUqJ,YAAY,SAASlc,GAAG,GAAIe,GAAEsU,EAAEC,EAAEnU,CAAE,IAAGJ,EAAEf,EAAEid,eAAejd,GAAGgT,EAAEvX,MAAM,IAAIsF,EAAEmc,OAAOhiB,KAAKsY,MAAMiD,QAAQ,OAAM,CAAG,IAAG,cAAc1V,EAAEuG,MAAMpM,KAAKue,OAAO5V,SAAS,YAAY3I,KAAK8H,QAAQ,QAAQ9H,KAAKoY,KAAK+C,WAAU,GAAKlb,OAAM4gB,UAAU7gB,KAAKiiB,MAAM,GAAGjiB,KAAKsY,MAAMiD,SAAQ,EAAGvb,KAAKsY,MAAMkD,aAAY,EAAGxb,KAAKsY,MAAMmD,WAAU,EAAGzb,KAAKoY,KAAK8C,SAAS,EAAEf,EAAEN,EAAEhU,GAAGgN,EAAEuH,EAAEP,EAAEhU,GAAGiN,EAAE9S,KAAKoY,KAAK4C,QAAQhb,KAAKue,OAAO1a,WAAWC,KAAK9D,KAAKoY,KAAK6C,QAAQjb,KAAKue,OAAO1a,WAAWE,IAAI/D,KAAKgY,SAASiF,MAAMjd,KAAKoY,KAAK4C,QAAQhb,KAAKue,OAAO1a,WAAWC,KAAK9D,KAAKue,OAAOva,QAAQhE,KAAKgE,QAAQhE,KAAKgY,SAAS2E,QAAQ3c,KAAKsY,MAAMqD,UAAU3b,KAAKkiB,UAAUjc,EAAEjG,KAAKmiB,uBAAuBniB,KAAKoY,KAAK4C,QAAQ/U,EAAEjG,KAAKsf,QAAQrZ,GAAGjG,KAAKsY,MAAMqD,UAAS,MAAQ,IAAG3b,KAAKsY,MAAMqD,WAAW3b,KAAKkiB,UAAU,MAAOliB,MAAKsY,MAAMqD,UAAS,GAAG,CAAG3b,MAAKoY,KAAKuC,OAAOR,EAAEna,KAAKoY,KAAK4C,QAAQhb,KAAKoY,KAAKwC,OAAOR,EAAEpa,KAAKoY,KAAK6C,QAAQjb,KAAKoY,KAAKsC,MAAMP,EAAEna,KAAKoY,KAAKuC,OAAO3a,KAAKoY,KAAKkD,SAASzV,EAAEgF,QAAQhF,EAAEmR,WAAWhX,KAAKoY,KAAKiD,SAASrb,KAAKoY,KAAKsC,OAAO,QAAQ1a,KAAKoY,KAAKkD,SAASnE,SAAS,MAAMnX,KAAKoY,KAAKkD,SAASnE,WAAWnX,KAAKoY,KAAKkD,SAAS8G,WAAU,GAAIvK,EAAEE,GAAG6J,GAAG,mGAAmG/J,EAAE0B,MAAM,SAAS1B,GAAG7X,KAAK2hB,aAAa9J,IAAI7X,QAAQ6F,EAAE8R,UAAUsJ,WAAW,SAASpJ,GAAG,GAAIE,GAAElS,EAAEsU,EAAEC,EAAEnU,EAAEoU,CAAEra,MAAKsY,MAAMiD,UAAUvb,KAAKsY,MAAMkD,cAAczD,EAAEF,EAAEkK,eAAelK,GAAGC,EAAEvX,MAAMsF,EAAEgU,EAAE9B,GAAGlF,EAAEsH,EAAEN,EAAE9B,GAAGjF,EAAE9S,KAAKoY,KAAK0C,SAASjV,EAAE7F,KAAKoY,KAAKuC,OAAO3a,KAAKoY,KAAK2C,SAASZ,EAAEna,KAAKoY,KAAKwC,OAAO5a,KAAKoY,KAAK8C,SAASlb,KAAKoY,KAAK0C,SAAS9a,KAAKoY,KAAK4C,QAAQhb,KAAKoY,KAAK8C,SAAS,EAAElb,KAAKsY,MAAMoD,UAAU1b,KAAKgY,SAASiF,IAAI,QAAQ,OAAOjd,KAAKoY,KAAK8C,SAAS,IAAIlb,KAAKsY,MAAMoD,UAAU1b,KAAKgY,SAASiF,IAAI,OAAO,SAASjd,KAAKgY,SAASqE,KAAKrc,KAAKwf,GAAGxf,KAAKoY,KAAK0C,SAAS,IAAI9a,KAAKuf,YAAYvf,KAAKqiB,aAAa,UAAUriB,KAAKsY,MAAMoD,UAAU1b,KAAKoY,KAAK0C,WAAW9a,KAAKgY,SAASsE,QAAQtc,KAAKuf,YAAY,IAAIvf,KAAKuf,YAAYvf,KAAKgZ,OAAOhU,QAAQhF,KAAKwf,GAAGxf,KAAKoY,KAAK0C,SAAS,IAAI9a,KAAKuf,YAAYvf,KAAKsiB,aAAa,SAAStiB,KAAKsY,MAAMoD,YAAY1b,KAAKoY,KAAK0C,WAAW9a,KAAKgY,SAASsE,QAAQtc,KAAKuf,YAAY,IAAIvf,KAAKuf,YAAYvf,KAAKgZ,OAAOhU,UAAUoV,EAAEpa,KAAKuf,YAAYvf,KAAKgY,SAASiF,IAAIjd,KAAKsiB,UAAUtiB,KAAKqiB,WAAWpc,EAAEjG,KAAKuf,YAAYvf,KAAKgY,SAASiF,IAAIjd,KAAKqiB,UAAUriB,KAAKsiB,WAAWjI,EAAEra,KAAKgY,SAASyE,SAASzc,KAAKoY,KAAK8C,SAAS,EAAE,EAAElb,KAAKoY,KAAK0C,SAAS3a,KAAKoO,IAAIpO,KAAK6e,IAAIhf,KAAKoY,KAAK0C,SAASV,EAAEC,GAAGpU,EAAEoU,KAAKra,KAAKoY,KAAK8C,SAAS,GAAGlb,KAAKoY,KAAK8C,SAAS,MAAMnD,EAAErM,iBAAiB5G,EAAEiT,EAAErM,iBAAiBqM,EAAEwK,aAAY,EAAGviB,KAAKsY,MAAMmD,WAAU,GAAIzb,KAAKoY,KAAKiD,SAASrb,KAAKoY,KAAK0C,UAAU9a,KAAKoY,KAAK2C,SAAS,IAAI/a,KAAKoY,KAAK2C,SAAS,MAAM/a,KAAKsY,MAAMmD,aAAY,IAAKzb,KAAKsY,MAAMkD,aAAY,EAAGxb,KAAKoY,KAAKiD,SAASrb,KAAKoY,KAAKsC,OAAO1a,KAAKsf,QAAQtf,KAAKoY,KAAKiD,aAAaxV,EAAE8R,UAAUuJ,UAAU,SAASpJ,GAAG,GAAIhT,GAAEe,EAAEgU,CAAE,IAAG7Z,KAAKsY,MAAMiD,QAAQ,CAAC,GAAG,YAAYzD,EAAE1L,MAAMpM,KAAKue,OAAOkB,YAAY,YAAYzf,KAAK8H,QAAQ,WAAW9H,KAAKoY,KAAKkD,SAASkH,gBAAgB,aAAaxiB,KAAKsY,MAAMiD,SAAQ,EAAGvb,KAAKsY,MAAMkD,aAAY,EAAGxb,KAAKsY,MAAMmD,WAAU,EAAG,IAAIzb,KAAKoY,KAAK8C,UAAUlb,KAAKsY,MAAMqD,YAAW,EAAG,MAAO3b,MAAKsY,MAAMqD,UAAS,GAAG,CAAG3b,MAAKoY,KAAKgD,SAAQ,GAAKnb,OAAM4gB,UAAU/b,EAAE9E,KAAKoY,KAAKgD,QAAQpb,KAAKoY,KAAK+C,UAAUtV,EAAE1F,KAAKue,IAAI1e,KAAKoY,KAAK8C,WAAWrV,EAAE,GAAGf,EAAE,MAAM9E,KAAKyiB,YAAYziB,KAAKoY,KAAKkD,UAAUzB,EAAE7Z,KAAK0iB,QAAQ1iB,KAAKoY,KAAKiD,UAAUrb,KAAKiiB,MAAMjiB,KAAKgY,SAASoF,cAAcpd,KAAKgY,SAASkF,YAAYld,KAAK6a,QAAQhB,GAAG7Z,KAAKygB,WAAW,YAAYzgB,KAAKqQ,SAASrQ,KAAKgY,SAASyE,UAAUzc,KAAKoY,KAAKiD,WAAWrb,KAAKuf,YAAY1F,IAAI7Z,KAAKqhB,gBAAgBrhB,KAAKoY,KAAK8C,SAAS,EAAErD,EAAEE,GAAG4K,IAAI,qBAAqB9c,EAAE8R,UAAU8K,YAAY,SAAS1K,GAAG/X,KAAKoY,KAAKkD,SAASvD,EAAEF,EAAEE,GAAG6J,GAAG,qBAAqB5hB,KAAK6F,EAAEyb,eAAexJ,EAAEpO,WAAW,WAAWmO,EAAEE,GAAG4K,IAAI,uBAAuB,MAAM9c,EAAE8R,UAAU4J,aAAa,SAASzJ,GAAGA,EAAEpM,eAAeoM,EAAEpM,iBAAiBoM,EAAEyK,aAAY,EAAGzK,EAAE8K,iBAAiB9K,EAAE8K,kBAAkB/K,EAAEC,EAAEjN,QAAQ8X,IAAI,uBAAuB9c,EAAE8R,UAAUwK,qBAAqB,WAAW,GAAItK,GAAEE,CAAE,OAAOF,GAAEC,EAAE+K,iBAAiB7iB,KAAKue,OAAOjP,IAAI,GAAG,MAAMwT,iBAAiB9iB,KAAK+iB,WAAW,aAAalL,EAAEA,EAAEjK,QAAQ,oBAAoB,IAAIlH,MAAM,KAAKqR,EAAE,KAAKF,EAAE7S,OAAO+S,KAAI,EAAGF,EAAE,GAAGA,EAAE,KAAKhS,EAAE8R,UAAU+K,QAAQ,SAAS5K,GAAG,GAAIC,GAAE,GAAGjT,EAAE,GAAGe,EAAE7F,KAAKgE,QAAQ6V,EAAE7Z,KAAKuf,aAAc,OAAOvf,MAAKgY,SAAS0E,UAAU7E,EAAEwB,KAAKQ,EAAEhC,EAAE0B,MAAM,SAAS1B,EAAEsC,GAAG,MAAOrC,GAAEqC,EAAErV,GAAGqV,EAAErV,EAAEgT,EAAEC,EAAEF,EAAE7X,KAAKwf,GAAG1H,EAAE,IAAIqC,IAAIna,KAAKwf,GAAG1H,EAAE,IAAI+B,EAAEhC,EAAE,IAAIsC,EAAEtU,KAAKkS,EAAE,SAAS/X,KAAKsY,MAAMoD,UAAU7D,EAAE,EAAEA,GAAG,KAAKE,GAAG/X,OAAOA,KAAKgY,SAASqE,OAAOrc,KAAKwf,GAAG1H,EAAE,IAAI+B,EAAE7Z,KAAKqiB,YAAYtK,EAAED,EAAE9X,KAAKqiB,UAAUriB,KAAKwf,GAAG1H,EAAE,IAAI+B,EAAE7Z,KAAKsiB,cAAcvK,EAAED,EAAE9X,KAAKsiB,YAAYvK,GAAGlS,EAAE8R,UAAU2H,QAAQ,SAASxH,GAAG9X,KAAK8H,QAAQ,aAAa9H,KAAKsY,MAAMqD,SAAS3b,KAAKiiB,QAAQ,EAAEjiB,KAAKkiB,UAAUliB,KAAKue,OAAOY,KAAK6D,UAAU,eAAelL,EAAE,eAAemL,WAAWjjB,KAAKiiB,QAAQ,IAAI,MAAMjiB,KAAKsY,MAAMiD,QAAQvb,KAAKue,OAAOY,KAAKrb,KAAKgU,EAAE,OAAO9X,KAAKue,OAAOe,SAASxb,KAAKgU,GAAG9X,KAAKiiB,QAAQ,IAAIjiB,KAAKgY,SAASyF,eAAe5F,EAAE0B,MAAM,WAAWvZ,KAAKsY,MAAMqD,UAAU3b,KAAKqhB,iBAAiBrhB,QAAQ6F,EAAE8R,UAAUkD,QAAQ,SAAShD,GAAG,GAAGA,IAAI/S,EAAE,MAAO9E,MAAK2Y,QAAS,IAAG,IAAI3Y,KAAKgZ,OAAOhU,OAAO,MAAOF,EAAE,IAAG+S,EAAE7X,KAAKkjB,UAAUrL,GAAG7X,KAAK2Y,WAAWd,EAAE,CAAC,GAAIC,GAAE9X,KAAK8H,QAAQ,UAAUyY,UAAUC,KAAK,WAAW/c,MAAMoU,IAAKC,GAAE/X,OAAO+E,IAAI+S,EAAE7X,KAAKkjB,UAAUpL,EAAE/X,OAAOC,KAAK2Y,SAASd,EAAE7X,KAAKygB,WAAW,YAAYzgB,KAAK8H,QAAQ,WAAWyY,UAAUC,KAAK,WAAW/c,MAAMzD,KAAK2Y,YAAY,MAAO3Y,MAAK2Y,UAAU9S,EAAE8R,UAAU8I,WAAW,SAAS5I,GAAG7X,KAAKmZ,aAAatB,IAAG,GAAIhS,EAAE8R,UAAU0H,MAAM,SAASxH,GAAGA,EAAE7X,KAAKkjB,UAAUrL,GAAGA,IAAI/S,IAAI9E,KAAK4Y,OAAO,EAAE5Y,KAAK2Y,SAASd,EAAE7X,KAAKmjB,UAAU,YAAY,eAAenjB,KAAKsf,QAAQtf,KAAKuf,YAAY1H,IAAI7X,KAAKojB,SAAS,YAAY,iBAAiBvd,EAAE8R,UAAUuL,UAAU,SAASpL,EAAEC,GAAG,GAAIlS,GAAEkS,EAAE/X,KAAKgZ,OAAOhU,OAAOhF,KAAKgZ,OAAOhU,OAAOhF,KAAKiZ,QAAQjU,MAAO,QAAO6S,EAAEwL,UAAUvL,IAAI,EAAEjS,EAAEf,EAAEgT,EAAE9X,KAAKiZ,QAAQjU,QAAQ8S,EAAEjS,EAAEA,GAAGA,EAAE1F,KAAKoO,IAAIvO,KAAKqiB,QAAQtK,GAAG5X,KAAK6e,IAAIhf,KAAKsiB,QAAQvK,GAAGD,KAAKjS,EAAE8R,UAAU2G,SAAS,SAASzG,GAAG,MAAOA,GAAE7X,KAAKkjB,UAAUrL,GAAGA,GAAG7X,KAAKiZ,QAAQjU,OAAO,EAAEhF,KAAKkjB,UAAUrL,GAAE,IAAKhS,EAAE8R,UAAU2K,QAAQ,SAASzK,GAAG,GAAIC,GAAEC,EAAEjT,EAAEe,EAAE,EAAEgU,EAAE7Z,KAAKgY,QAAS,IAAGH,EAAE,MAAO7X,MAAKgZ,OAAOhU,OAAO,CAAE,KAAI6U,EAAEwC,MAAMxC,EAAEyC,OAAOxE,EAAE9X,KAAKgZ,OAAOhU,OAAO,MAAO,IAAG6U,EAAEwC,MAAMxC,EAAEyC,OAAO,GAAGzC,EAAEwC,MAAMxC,EAAEyC,OAAOxE,EAAE9X,KAAKgZ,OAAOhU,OAAO6U,EAAEuC,UAAU,CAAC,IAAIvC,EAAEkD,YAAYlD,EAAEgD,MAAM,KAAK,2CAA4C,KAAIyG,OAAOzJ,EAAEoD,IAAI,EAAE,GAAGlF,EAAE/X,KAAKue,OAAOva,QAAQhE,KAAKmY,SAASnU,SAASc,EAAE9E,KAAKuf,YAAY1Z,OAAOf,EAAEwe,QAAQvL,IAAID,IAAIjS,MAAOiS,GAAE9X,KAAKgZ,OAAOhU,OAAO6U,EAAEuC,KAAM,OAAOtE,IAAGjS,EAAE8R,UAAU0K,QAAQ,SAASxK,GAAG,MAAOA,GAAE,EAAE7X,KAAKiZ,QAAQjU,OAAO,GAAGa,EAAE8R,UAAUyE,MAAM,SAASvE,GAAG,MAAOA,KAAI/S,EAAE9E,KAAKgZ,OAAOQ,SAAS3B,EAAE7X,KAAKkjB,UAAUrL,GAAE,GAAI7X,KAAKgZ,OAAOnB,KAAKhS,EAAE8R,UAAU4L,QAAQ,SAAS1L,GAAG,MAAOA,KAAI/S,EAAE9E,KAAKkZ,SAASM,SAAS3B,EAAE7X,KAAKkjB,UAAUrL,GAAE,GAAI7X,KAAKkZ,SAASrB,KAAKhS,EAAE8R,UAAU6L,OAAO,SAAS1L,GAAG,GAAIC,GAAE/X,KAAKiZ,QAAQjU,OAAO,EAAEa,EAAEkS,EAAE/X,KAAKgZ,OAAOhU,OAAO6U,EAAE,SAAShC,GAAG,MAAOA,GAAE,IAAI,EAAEhS,EAAEgS,EAAE,EAAEE,GAAGF,EAAE,GAAG,EAAG,OAAOC,KAAIhT,EAAE+S,EAAE4L,IAAIzjB,KAAKiZ,QAAQ,SAASpB,EAAEC,GAAG,MAAO+B,GAAE/B,KAAKD,EAAE4L,IAAIzjB,KAAKiZ,QAAQ,SAASpB,EAAEE,GAAG,MAAOF,KAAIC,EAAE+B,EAAE9B,GAAG,QAAQlS,EAAE8R,UAAUsK,MAAM,SAASpK,GAAG,MAAOA,KAAI/S,IAAI9E,KAAK4Y,OAAOf,GAAG7X,KAAK4Y,QAAQ/S,EAAE8R,UAAU4H,YAAY,SAASzH,GAAG,GAAIC,GAAE,IAAK,OAAOD,KAAIhT,EAAE+S,EAAE4L,IAAIzjB,KAAK6Y,aAAahB,EAAE0B,MAAM,SAAS1B,EAAEC,GAAG,MAAO9X,MAAKuf,YAAYzH,IAAI9X,QAAQA,KAAKgY,SAASsE,QAAQvE,EAAE/X,KAAK6Y,aAAaf,GAAGC,IAAI/X,KAAKgE,QAAQ+T,GAAG/X,KAAK6Y,aAAaf,EAAE,IAAI,IAAI,GAAG9X,KAAKgY,SAASiF,IAAI,GAAG,IAAIlF,EAAE/X,KAAK6Y,aAAaf,EAAE,IAAI,EAAEC,IAAIlS,EAAE8R,UAAU+L,SAAS,SAAS7L,EAAEC,EAAEC,GAAG,MAAO5X,MAAK6e,IAAI7e,KAAKoO,IAAIpO,KAAKue,IAAI5G,EAAED,GAAG,GAAG,GAAG1X,KAAKue,IAAI3G,GAAG/X,KAAKgY,SAASkF,aAAarX,EAAE8R,UAAUgM,GAAG,SAAS5L,EAAEjT,GAAG,GAAG9E,KAAKgY,SAASqE,KAAK,CAAC,GAAIxW,GAAEkS,EAAE/X,KAAKse,SAASte,KAAK6a,WAAWhB,EAAE7Z,KAAK6a,UAAUV,EAAEna,KAAK6a,UAAUT,EAAEpa,KAAK6a,UAAUhV,EAAEI,EAAE,EAAEkU,EAAEC,EAAQC,EAAEra,KAAKiZ,QAAQjU,OAAOhF,KAAKgZ,OAAOhU,MAAOoV,GAAEpa,KAAKgY,SAASoE,OAAOnW,KAAI,GAAI4T,EAAEM,EAAEna,KAAKgZ,OAAOhU,OAAOhF,KAAKqf,MAAMxF,IAAIO,GAAGC,EAAEra,KAAKgY,SAASoE,OAAOnW,KAAI,IAAK4T,EAAEM,EAAEna,KAAKgZ,OAAOhU,OAAOhF,KAAKqf,MAAMxF,IAAI/B,EAAEjO,aAAa7J,KAAK6F,EAAEqW,WAAWlc,KAAK6F,EAAEqW,UAAUpE,EAAEpO,WAAWmO,EAAE0B,MAAM,WAAWvZ,KAAKiiB,MAAMjiB,KAAK0jB,SAAS1jB,KAAK6a,UAAUhB,EAAEhU,EAAEf,IAAI9E,KAAK6a,QAAQhB,EAAEhU,GAAG7F,KAAKqQ,UAAUrQ,MAAM,QAASA,MAAKiiB,MAAMjiB,KAAK0jB,SAAS1jB,KAAK6a,UAAU9C,EAAEjT,IAAI9E,KAAK6a,QAAQ9C,GAAG/X,KAAKqQ,UAAUxK,EAAE8R,UAAUiM,KAAK,SAAS/L,GAAGA,EAAEA,IAAG,EAAG7X,KAAK2jB,GAAG3jB,KAAKse,SAASte,KAAK6a,WAAW,EAAEhD,IAAIhS,EAAE8R,UAAUkM,KAAK,SAAShM,GAAGA,EAAEA,IAAG,EAAG7X,KAAK2jB,GAAG3jB,KAAKse,SAASte,KAAK6a,WAAW,EAAEhD,IAAIhS,EAAE8R,UAAU0J,cAAc,SAASxJ,GAAG,MAAOA,KAAI/S,IAAI+S,EAAE+K,mBAAmB/K,EAAEhN,QAAQgN,EAAEb,YAAYa,EAAEiM,kBAAkB9jB,KAAKue,OAAOjP,IAAI,KAAI,GAAItP,KAAKsY,MAAMqD,UAAS,MAAQ3b,MAAK8H,QAAQ,gBAAgBjC,EAAE8R,UAAUyI,SAAS,WAAW,GAAItb,EAAE,IAAG9E,KAAKsE,QAAQiZ,wBAAwBzF,EAAEhT,EAAE+S,EAAE7X,KAAKsE,QAAQiZ,uBAAuBvZ,YAAa,IAAG8T,EAAExG,WAAWxM,EAAEgT,EAAExG,eAAe,CAAC,IAAIyG,EAAEvJ,kBAAkBuJ,EAAEvJ,gBAAgBuV,YAAY,KAAK,gCAAiCjf,GAAEiT,EAAEvJ,gBAAgBuV,YAAY,MAAOjf,IAAGe,EAAE8R,UAAU/J,QAAQ,SAASkK,GAAG9X,KAAKue,OAAOyF,QAAQhkB,KAAKgZ,UAAUlB,IAAIA,EAAEA,YAAamM,QAAOnM,EAAED,EAAEC,IAAI9X,KAAKgY,SAAS0F,qBAAqB5F,EAAEA,EAAE8H,KAAK,IAAI5f,KAAKgY,SAAS0F,qBAAqB5F,EAAEvH,OAAO,WAAW,MAAO,KAAIvQ,KAAKkkB,WAAW7K,KAAKxB,EAAE0B,MAAM,SAAS1B,EAAEC,GAAGA,EAAE9X,KAAK2gB,QAAQ7I,GAAG9X,KAAKue,OAAOK,OAAO9G,GAAG9X,KAAKgZ,OAAOpR,KAAKkQ,GAAG9X,KAAKkZ,SAAStR,KAAK,EAAEkQ,EAAE8H,KAAK,gBAAgBuE,QAAQ,gBAAgB7D,KAAK,eAAe,IAAItgB,OAAOA,KAAKqf,MAAMxH,EAAEwL,UAAUrjB,KAAKgY,SAASgF,eAAehd,KAAKgY,SAASgF,cAAc,GAAGhd,KAAKygB,WAAW,UAAU5a,EAAE8R,UAAUnQ,IAAI,SAASqQ,EAAEC,GAAGA,EAAEA,IAAIhT,EAAE9E,KAAKgZ,OAAOhU,OAAOhF,KAAKkjB,UAAUpL,GAAE,GAAI9X,KAAK8H,QAAQ,OAAOb,QAAQ4Q,EAAEhU,SAASiU,IAAI,IAAI9X,KAAKgZ,OAAOhU,QAAQ8S,IAAI9X,KAAKgZ,OAAOhU,QAAQhF,KAAKue,OAAOK,OAAO/G,GAAG7X,KAAKgZ,OAAOpR,KAAKiQ,GAAG7X,KAAKkZ,SAAStR,KAAK,EAAEiQ,EAAE+H,KAAK,gBAAgBuE,QAAQ,gBAAgB7D,KAAK,eAAe,KAAKtgB,KAAKgZ,OAAOlB,GAAGsM,OAAOvM,GAAG7X,KAAKgZ,OAAO7V,OAAO2U,EAAE,EAAED,GAAG7X,KAAKkZ,SAAS/V,OAAO2U,EAAE,EAAE,EAAED,EAAE+H,KAAK,gBAAgBuE,QAAQ,gBAAgB7D,KAAK,eAAe,IAAItgB,KAAKygB,WAAW,SAASzgB,KAAK8H,QAAQ,SAASb,QAAQ4Q,EAAEhU,SAASiU,KAAKjS,EAAE8R,UAAU8G,OAAO,SAAS5G,GAAGA,EAAE7X,KAAKkjB,UAAUrL,GAAE,GAAIA,IAAI/S,IAAI9E,KAAK8H,QAAQ,UAAUb,QAAQjH,KAAKgZ,OAAOnB,GAAGhU,SAASgU,IAAI7X,KAAKgZ,OAAOnB,GAAG4G,SAASze,KAAKgZ,OAAO7V,OAAO0U,EAAE,GAAG7X,KAAKkZ,SAAS/V,OAAO0U,EAAE,GAAG7X,KAAKygB,WAAW,SAASzgB,KAAK8H,QAAQ,WAAWb,QAAQ,KAAKpD,SAASgU,MAAMhS,EAAE8R,UAAUwI,qBAAqB,WAAW,GAAIrI,GAAED,EAAE0B,MAAM,SAASzB,EAAEC,GAAG,MAAOF,GAAE0B,MAAM,SAAS1B,GAAGA,EAAEwM,gBAAgBrkB,OAAOA,KAAKmjB,UAAUpL,IAAID,EAAEpS,MAAM1F,QAAQwZ,MAAM8K,KAAK3e,UAAU,IAAI3F,KAAKojB,SAASrL,MAAM/X,OAAOA,KAAM6X,GAAEwB,MAAMuK,KAAK5jB,KAAK4jB,KAAKC,KAAK7jB,KAAK6jB,KAAKF,GAAG3jB,KAAK2jB,GAAGY,QAAQvkB,KAAKukB,QAAQvE,QAAQhgB,KAAKggB,QAAQpS,QAAQ5N,KAAK4N,QAAQpG,IAAIxH,KAAKwH,IAAIiX,OAAOze,KAAKye,QAAQ5G,EAAE0B,MAAM,SAAS1B,EAAEE,GAAG/X,KAAKmY,SAASyJ,GAAG/J,EAAE,gBAAgBC,EAAEC,EAAEF,EAAE,mBAAmB7X,QAAQ6F,EAAE8R,UAAUoJ,gBAAgB,WAAW,QAAShJ,GAAEF,GAAG,MAAOA,GAAE2M,YAAY,GAAG3M,EAAElJ,aAAa,EAAE,QAAS7J,KAAIiT,EAAE/X,KAAKmY,SAAS7I,IAAI,MAAMtP,KAAKmY,SAASsH,YAAY,cAAczf,KAAKggB,UAAUlI,EAAE2M,cAAczkB,KAAK6F,EAAEsW,iBAAiBpE,EAAE/X,KAAKmY,SAAS7I,IAAI,MAAMtP,KAAKmY,SAASxP,SAAS,cAAcmP,EAAE2M,cAAczkB,KAAK6F,EAAEsW,gBAAgBnc,KAAK6F,EAAEsW,eAAerE,EAAE4M,YAAY7M,EAAE0B,MAAMzU,EAAE9E,MAAM,OAAO6F,EAAE8R,UAAUkI,uBAAuB,SAAS/H,GAAG,GAAIC,GAAEjT,EAAEe,EAAEgU,CAAE9B,GAAE,EAAEjT,EAAE9E,KAAK8X,EAAEuB,KAAK,SAASc,EAAEC,GAAGvU,EAAEgS,EAAEuC,GAAGP,EAAE,GAAI1H,OAAM0H,EAAEzH,OAAO,WAAW2F,IAAIlS,EAAEya,KAAK,MAAMzG,EAAExX,KAAKwD,EAAEsZ,IAAI,UAAU,GAAGpH,GAAGD,EAAE9S,SAASF,EAAEwT,MAAMqH,cAAa,EAAG7a,EAAE8U,eAAeC,EAAExX,IAAIwD,EAAEya,KAAK,QAAQza,EAAEya,KAAK,aAAaza,EAAEya,KAAK,sBAAsBza,EAAE8R,UAAU4M,QAAQ,WAAWvkB,KAAKmY,SAASwM,SAAS3kB,KAAKgY,SAAS6F,aAAa7d,KAAKmY,SAASsH,YAAYzf,KAAKgY,SAAS6F,YAAY7d,KAAKgY,SAASqF,cAAa,GAAIxF,EAAEC,GAAG6K,IAAI,uBAAuB3iB,KAAK8hB,qBAAqB9hB,KAAK2iB,IAAI3iB,KAAKue,OAAOjP,IAAI,GAAGtP,KAAK8hB,oBAAoB9hB,KAAK6F,EAAEkW,eAAgB,KAAI,GAAIjX,KAAK9E,MAAKyY,SAASzY,KAAKyY,SAAS3T,GAAGyf,WAAWvkB,KAAKgY,SAASuE,WAAWvc,KAAKgY,SAASwE,aAAaxc,KAAKue,OAAOoE,IAAI,oCAAoC9K,EAAEE,GAAG4K,IAAI,mBAAmB3iB,KAAKue,OAAOjP,IAAI,GAAGuS,cAAc,aAAa7hB,KAAKue,OAAOoE,IAAI,YAAY,WAAW,OAAM,KAAM3iB,KAAKmY,SAASwK,IAAI,QAAQ3iB,KAAKue,OAAOC,SAAS,WAAWC,SAASze,KAAK6F,EAAE,KAAK7F,KAAKmY,SAASyM,WAAW,eAAe5kB,KAAKue,OAAOC,WAAWqG,WAAWC,SAAS9kB,KAAKue,OAAOC,WAAWsG,SAAS9kB,KAAKue,OAAOuG,UAAUjf,EAAE8R,UAAU6H,GAAG,SAAS3H,EAAEC,EAAEC,GAAG,GAAIjT,GAAE9E,KAAKgY,SAASiF,GAAI,QAAOnF,GAAG,IAAI,IAAI,MAAOhT,GAAE+S,EAAEE,EAAEA,EAAEF,CAAE,KAAI,IAAI,MAAO/S,GAAEiT,EAAEF,EAAEA,EAAEE,CAAE,KAAI,KAAK,MAAOjT,GAAEiT,GAAGF,EAAEA,GAAGE,CAAE,KAAI,KAAK,MAAOjT,GAAE+S,GAAGE,EAAEA,GAAGF,IAAIhS,EAAE8R,UAAUiK,GAAG,SAAS/J,EAAEC,EAAEC,EAAEjT,GAAG+S,EAAE1P,iBAAiB0P,EAAE1P,iBAAiB2P,EAAEC,EAAEjT,GAAG+S,EAAEkN,aAAalN,EAAEkN,YAAY,KAAKjN,EAAEC,IAAIlS,EAAE8R,UAAUgL,IAAI,SAAS9K,EAAEC,EAAEC,EAAEjT,GAAG+S,EAAE5P,oBAAoB4P,EAAE5P,oBAAoB6P,EAAEC,EAAEjT,GAAG+S,EAAEmN,aAAanN,EAAEmN,YAAY,KAAKlN,EAAEC,IAAIlS,EAAE8R,UAAU7P,QAAQ,SAASgQ,EAAEC,EAAEjT,GAAG,GAAIe,IAAGof,MAAMC,MAAMllB,KAAKgZ,OAAOhU,OAAO9B,MAAMlD,KAAK6a,YAAYhB,EAAEhC,EAAEsN,UAAUtN,EAAEuH,MAAM,KAAKtH,EAAEhT,GAAG,SAAS+S,GAAG,MAAOA,KAAIzU,KAAK,KAAKgK,eAAe+M,EAAEtC,EAAED,OAAOE,EAAE,MAAMhT,GAAG,YAAY1B,KAAK,KAAKgK,cAAcyK,EAAEI,QAAQoM,cAAcrkB,MAAM6F,EAAEkS,GAAI,OAAO/X,MAAK0Y,SAASZ,KAAKD,EAAEwB,KAAKrZ,KAAKyY,SAAS,SAASZ,EAAEC,GAAGA,EAAEsN,WAAWtN,EAAEsN,UAAUjL,KAAKna,KAAKmY,SAASrQ,QAAQqS,GAAGna,KAAKgY,UAAU,kBAAmBhY,MAAKgY,SAAS6B,IAAI7Z,KAAKgY,SAAS6B,GAAGnU,MAAM1F,KAAKma,IAAIA,GAAGtU,EAAE8R,UAAUwL,SAAS,SAASrL,GAAGD,EAAEwB,KAAKvB,EAAED,EAAE0B,MAAM,SAAS1B,EAAEC,GAAG9X,KAAK0Y,SAASZ,IAAG,GAAI9X,QAAQ6F,EAAE8R,UAAUyL,QAAQ,SAAStL,GAAGD,EAAEwB,KAAKvB,EAAED,EAAE0B,MAAM,SAAS1B,EAAEC,SAAU9X,MAAK0Y,SAASZ,IAAI9X,QAAQ6F,EAAE8R,UAAU+H,eAAe,WAAW,GAAG1f,KAAKkiB,UAAU7H,IAAIra,KAAKkiB,UAAU,CAACliB,KAAKqlB,gBAAgBpf,GAAI,IAAI4R,IAAG,gBAAgB,sBAAsB,gBAAgB,iBAAkB7X,MAAK8hB,oBAAoBjK,EAAEuC,KAAKpa,KAAK+iB,WAAW/iB,KAAKqlB,gBAAgBzX,QAAQ,aAAa,IAAI5N,KAAK+iB,WAAW,KAAK/iB,KAAK+iB,WAAW,IAAI/iB,KAAK+iB,WAAW3V,cAAc,IAAI,GAAGpN,KAAKsY,MAAMwI,YAAYhJ,EAAEgJ,aAAajJ,EAAEyN,GAAGC,YAAY,SAASzN,GAAG,MAAO9X,MAAKqZ,KAAK,WAAWxB,EAAE7X,MAAMD,KAAK,gBAAgB8X,EAAE7X,MAAMD,KAAK,cAAc,GAAI8F,GAAE7F,KAAK8X,OAAOD,EAAEyN,GAAGC,YAAYC,YAAY3f,GAAGvE,OAAOmkB,OAAOnkB,OAAO2iB,OAAO3iB,OAAOR,UAAU,SAAS+W,EAAEC,GAAG,GAAIC,GAAE,SAASD,GAAG9X,KAAK0lB,MAAM5N,EAAE9X,KAAK2lB,WAAW3lB,KAAK4lB,WAAWC,+CAA+ChO,EAAE0B,MAAM,SAASzB,GAAG,GAAGA,EAAEgO,WAAW9lB,KAAK0lB,MAAM1N,UAAUhY,KAAK0lB,MAAM1N,SAAS+N,WAAWjO,EAAEyI,UAAU,YAAYzI,EAAEyI,SAASC,MAAM,eAAe1I,EAAE1L,MAAM,IAAI,GAAI2L,GAAE/X,KAAK0lB,MAAM1N,SAASlT,EAAEiT,EAAEuE,QAAQnc,KAAK6lB,KAAKjO,EAAEqE,MAAM,IAAIrE,EAAEqE,MAAMvW,EAAEkS,EAAEuE,QAAQ,GAAGxX,GAAG,EAAE+U,GAAG/B,EAAEyI,UAAUzI,EAAEyI,SAAS9c,OAAOzD,KAAK0lB,MAAM7K,WAAWhV,EAAEsU,EAAEna,KAAK0lB,MAAMlC,SAASxe,OAAOoV,EAAEvC,EAAE0B,MAAM,SAAS1B,EAAEC,GAAG9X,KAAKimB,KAAKnO,IAAI9X,MAAM6F,IAAIf,GAAG9E,KAAKimB,KAAK9L,EAAE,EAAEna,KAAK0lB,MAAMpH,SAASzE,IAAIM,GAAGtC,EAAEwB,KAAKrZ,KAAK0lB,MAAMlC,OAAOxjB,KAAK0lB,MAAMpH,SAASzE,MAAMO,IAAIpa,OAAOA,KAAK0lB,MAAMphB,QAAQuT,EAAEI,UAAUF,EAAEG,SAASlY,KAAK0lB,MAAMphB,SAAStE,KAAK0lB,MAAMvN,SAASyJ,GAAG5hB,KAAK4lB,WAAY7N,GAAEG,UAAU6N,UAAS,GAAIhO,EAAEJ,UAAUsO,KAAK,SAASlO,GAAG,GAAIjT,GAAE9E,KAAK0lB,MAAMnH,OAAOC,WAAWG,GAAG5G,GAAGlS,EAAEf,GAAGA,EAAE8a,KAAK,cAAc/Z,GAAGgS,EAAEqO,QAAQphB,EAAEwK,IAAI,GAAGtP,KAAK2lB,SAAS,KAAK9f,EAAEwT,KAAKxB,EAAE0B,MAAM,SAASxB,EAAEjT,GAAG,GAAIe,GAAEgU,EAAEhC,EAAE/S,GAAGqV,EAAErC,EAAEzG,iBAAiB,GAAGwI,EAAEyG,KAAK,oBAAoBzG,EAAEyG,KAAK,WAAYtgB,MAAK0lB,MAAM5d,QAAQ,QAAQjD,QAAQgV,EAAE1Y,IAAIgZ,GAAG,QAAQN,EAAEsM,GAAG,OAAOtM,EAAEuM,IAAI,gBAAgBvO,EAAE0B,MAAM,WAAWM,EAAEsF,IAAI,UAAU,GAAGnf,KAAK0lB,MAAM5d,QAAQ,UAAUjD,QAAQgV,EAAE1Y,IAAIgZ,GAAG,SAASna,OAAOsgB,KAAK,MAAMnG,IAAItU,EAAE,GAAIsM,OAAMtM,EAAEuM,OAAOyF,EAAE0B,MAAM,WAAWM,EAAEsF,KAAKkH,mBAAmB,OAAOlM,EAAE,IAAIjW,QAAQ,MAAMlE,KAAK0lB,MAAM5d,QAAQ,UAAUjD,QAAQgV,EAAE1Y,IAAIgZ,GAAG,SAASna,MAAM6F,EAAExD,IAAI8X,IAAIna,OAAOA,KAAK2lB,QAAQ/d,KAAK9C,EAAEwK,IAAI,MAAMyI,EAAEJ,UAAU4M,QAAQ,WAAW,GAAI1M,GAAEC,CAAE,KAAID,IAAK7X,MAAKsmB,SAAStmB,KAAK0lB,MAAMvN,SAASwK,IAAI9K,EAAE7X,KAAKsmB,SAASzO,GAAI,KAAIC,IAAKlR,QAAO2f,oBAAoBvmB,MAAM,kBAAmBA,MAAK8X,KAAK9X,KAAK8X,GAAG,OAAOD,EAAEyN,GAAGC,YAAYC,YAAYlM,QAAQkN,KAAKzO,GAAGzW,OAAOmkB,OAAOnkB,OAAO2iB,OAAO3iB,OAAOR,UAAU,SAAS+W,GAAG,GAAIC,GAAE,SAASC,GAAG/X,KAAK0lB,MAAM3N,EAAE/X,KAAK4lB,WAAWa,2BAA2B5O,EAAE0B,MAAM,WAAWvZ,KAAK0lB,MAAM1N,SAAS0O,YAAY1mB,KAAKqQ,UAAUrQ,MAAM2mB,uBAAuB9O,EAAE0B,MAAM,SAAS1B,GAAG7X,KAAK0lB,MAAM1N,SAAS0O,YAAY,YAAY7O,EAAE0I,SAASC,MAAMxgB,KAAKqQ,UAAUrQ,MAAM4mB,kBAAkB/O,EAAE0B,MAAM,SAAS1B,GAAG7X,KAAK0lB,MAAM1N,SAAS0O,YAAY7O,EAAEhT,QAAQ6d,QAAQ,IAAI1iB,KAAK0lB,MAAM1N,SAAS+F,aAAa/d,KAAK0lB,MAAMnH,OAAOC,WAAWG,GAAG3e,KAAK0lB,MAAM7K,YAAY7a,KAAKqQ,UAAUrQ,OAAOA,KAAK0lB,MAAMphB,QAAQuT,EAAEI,UAAUH,EAAEI,SAASlY,KAAK0lB,MAAMphB,SAAStE,KAAK0lB,MAAMvN,SAASyJ,GAAG5hB,KAAK4lB,WAAY9N,GAAEI,UAAUwO,YAAW,EAAGG,gBAAgB,cAAc/O,EAAEH,UAAUtH,OAAO,WAAWrQ,KAAK0lB,MAAMnH,OAAOrV,SAASoF,OAAOtO,KAAK0lB,MAAMnH,OAAOC,WAAWG,GAAG3e,KAAK0lB,MAAM7K,WAAWvM,UAAU3F,SAAS3I,KAAK0lB,MAAM1N,SAAS6O,kBAAkB/O,EAAEH,UAAU4M,QAAQ,WAAW,GAAI1M,GAAEC,CAAE,KAAID,IAAK7X,MAAK4lB,UAAU5lB,KAAK0lB,MAAMvN,SAASwK,IAAI9K,EAAE7X,KAAK4lB,UAAU/N,GAAI,KAAIC,IAAKlR,QAAO2f,oBAAoBvmB,MAAM,kBAAmBA,MAAK8X,KAAK9X,KAAK8X,GAAG,OAAOD,EAAEyN,GAAGC,YAAYC,YAAYlM,QAAQwN,WAAWhP,GAAGxW,OAAOmkB,OAAOnkB,OAAO2iB,OAAO3iB,OAAOR,UAAU,SAAS+W,EAAEC,EAAEC,GAAG,GAAIjT,GAAE,SAASgT,GAAG9X,KAAK0lB,MAAM5N,EAAE9X,KAAK+mB,WAAW/mB,KAAKgnB,SAAS,KAAKhnB,KAAKinB,aAAY,EAAGjnB,KAAK4lB,WAAWsB,sBAAsBrP,EAAE0B,MAAM,SAAS1B,GAAG7X,KAAK0lB,MAAM1N,SAASmP,QAAQnnB,KAAKonB,kBAAkBvP,EAAEnM,kBAAkB1L,MAAMqnB,4CAA4CxP,EAAE0B,MAAM,WAAWvZ,KAAKgnB,UAAUhnB,KAAKsnB,QAAQtnB,MAAMunB,wBAAwB1P,EAAE0B,MAAM,SAASzB,GAAG,GAAIC,GAAEF,EAAEC,EAAE7Q,SAAS2Y,KAAK,aAAc7H,GAAE/S,SAAS+S,EAAEoH,IAAI,UAAU,QAAQnf,KAAKwnB,MAAMzP,EAAEF,EAAEC,EAAE7Q,YAAYjH,OAAOA,KAAK0lB,MAAMphB,QAAQuT,EAAEI,UAAUnT,EAAEoT,SAASlY,KAAK0lB,MAAMphB,SAAStE,KAAK0lB,MAAMvN,SAASyJ,GAAG5hB,KAAK4lB,WAAW5lB,KAAK0lB,MAAMvN,SAASyJ,GAAG,kBAAkB,uBAAuB/J,EAAE0B,MAAM,SAAS1B,GAAG7X,KAAKynB,KAAK5P,IAAI7X,OAAQ8E,GAAEoT,UAAUiP,OAAM,EAAGO,aAAY,EAAGC,YAAW,GAAI7iB,EAAE6S,UAAU6P,MAAM,SAAS3P,EAAEC,GAAG,GAAIC,GAAEF,EAAEyI,KAAK,iBAAiB,QAAQ,UAAUxb,EAAE+S,EAAEyI,KAAK,kBAAkBzI,EAAEyI,KAAK,mBAAmBza,EAAEgS,EAAEyI,KAAK,eAAetgB,KAAK0lB,MAAM1N,SAAS2P,WAAW9N,EAAEhC,EAAEyI,KAAK,gBAAgBtgB,KAAK0lB,MAAM1N,SAAS0P,YAAYvN,EAAEtC,EAAEyI,KAAK,OAAQ,KAAInG,EAAE,KAAM,IAAIyN,OAAM,qBAAsB,IAAG9iB,EAAEqV,EAAE0N,MAAM,sJAAsJ/iB,EAAE,GAAG1D,QAAQ,SAAS,GAAG2W,EAAE,cAAc,CAAC,KAAKjT,EAAE,GAAG1D,QAAQ,SAAS,IAAI,KAAM,IAAIwmB,OAAM,2BAA4B7P,GAAE,QAAQjT,EAAEA,EAAE,GAAG9E,KAAK+mB,QAAQ5M,IAAI/N,KAAK2L,EAAElY,GAAGiF,EAAEd,MAAM6B,EAAEyI,OAAOuL,GAAG/B,EAAEwI,KAAK,aAAanG,GAAGna,KAAK8nB,UAAUjQ,EAAE7X,KAAK+mB,QAAQ5M,KAAKrV,EAAE6S,UAAUmQ,UAAU,SAAShQ,EAAEC,GAAG,GAAIjT,GAAEe,EAAEgU,EAAEM,EAAEpC,EAAE/T,OAAO+T,EAAEzJ,OAAO,gBAAgByJ,EAAE/T,MAAM,aAAa+T,EAAEzJ,OAAO,OAAO,GAAG8L,EAAEtC,EAAE8H,KAAK,OAAO3Z,EAAE,MAAMoU,EAAE,GAAGC,EAAEta,KAAK0lB,MAAM1N,SAASwC,EAAE,SAAS3C,GAAGhS,EAAE,0CAA0Cf,EAAEwV,EAAEyL,SAAS,4BAA4B1L,EAAE,KAAKpU,EAAE,KAAK4R,EAAE,WAAW,mEAAmEA,EAAE,YAAYC,EAAEiQ,MAAMjjB,GAAGgT,EAAEiQ,MAAMliB,GAAI,OAAOiS,GAAEgI,KAAK,iCAAiC3F,EAAE,WAAWna,KAAK0lB,MAAM1N,SAAS+N,WAAW9f,EAAE,WAAWoU,EAAE,YAAYD,EAAEpV,QAAQwV,EAAEJ,EAAEkG,KAAKra,IAAImU,EAAEqE,UAAS,QAAS,YAAY1G,EAAE3L,MAAMyN,EAAE,6BAA6B9B,EAAElY,GAAG,iBAAiB2a,EAAEX,IAAI,UAAU9B,EAAE3L,MAAMyL,EAAEmQ,MAAM5b,KAAK,MAAMjL,IAAI,iCAAiC4W,EAAElY,GAAG,QAAQooB,MAAM,WAAWC,SAAS,QAAQC,QAAQ,SAAStQ,GAAGgC,EAAEhC,EAAE,GAAGuQ,gBAAgB5N,EAAEX,QAAQ/U,EAAE6S,UAAU2P,KAAK,WAAWtnB,KAAK0lB,MAAM5d,QAAQ,OAAO,KAAK,SAAS9H,KAAKgnB,SAASpH,KAAK,oBAAoBnB,SAASze,KAAKgnB,SAASvH,YAAY,qBAAqBzf,KAAKgnB,SAAS,MAAMliB,EAAE6S,UAAU8P,KAAK,SAAS3P,GAAG9X,KAAK0lB,MAAM5d,QAAQ,OAAO,KAAK,SAAS9H,KAAKgnB,UAAUhnB,KAAKsnB,MAAO,IAAIvP,GAAEjT,EAAEe,EAAEgS,EAAEC,EAAEjN,QAAQiN,EAAEd,YAAY6C,EAAEhU,EAAE6c,QAAQ,IAAI1iB,KAAK0lB,MAAM1N,SAAS+F,WAAW5D,EAAEna,KAAK+mB,QAAQlN,EAAEyG,KAAK,eAAelG,EAAED,EAAEnW,OAAO,OAAOiC,EAAEkU,EAAE7L,QAAQtO,KAAK0lB,MAAMnH,OAAOjQ,QAAS,aAAY6L,EAAE/N,KAAK2L,EAAE,kBAAkBqC,EAAE,aAAanU,EAAE,uCAAuCkU,EAAEta,GAAG,iBAAiBsa,EAAEta,GAAG,8CAA8C,UAAUsa,EAAE/N,OAAO2L,EAAE,8CAA8CoC,EAAEta,GAAG,uBAAuBua,EAAE,aAAanU,EAAE,wFAAwF4T,EAAElR,SAAS,qBAAqB3I,KAAKgnB,SAASnN,EAAE/U,EAAE+S,EAAE,sBAAsB5R,EAAE,aAAamU,EAAE,+BAA+BrC,EAAE,UAAUlS,EAAEkiB,MAAMjjB,IAAIA,EAAE6S,UAAUyP,eAAe,WAAW,GAAItiB,GAAEiT,EAAEsQ,mBAAmBtQ,EAAEuQ,sBAAsBvQ,EAAEwQ,uBAAwB,OAAOzjB,IAAG+S,EAAE/S,GAAGoE,SAASyb,SAAS,qBAAqB3kB,KAAK0lB,MAAMzD,MAAM,GAAGjiB,KAAKinB,aAAY,GAAIniB,GAAG9E,KAAKinB,aAAajnB,KAAKgnB,UAAS,EAAGhnB,KAAKinB,aAAajnB,KAAKinB,aAAY,GAAG,GAAIjnB,KAAKgnB,UAAUhnB,KAAK0lB,MAAMpN,MAAMwI,cAAchJ,EAAEgJ,aAAa9gB,KAAK0lB,MAAMpN,MAAMwI,YAAYhJ,EAAEgJ,aAAY,IAAI,GAAIhc,EAAE6S,UAAU4M,QAAQ,WAAW,GAAI1M,GAAEC,CAAE9X,MAAK0lB,MAAMvN,SAASwK,IAAI,kBAAmB,KAAI9K,IAAK7X,MAAK4lB,UAAU5lB,KAAK0lB,MAAMvN,SAASwK,IAAI9K,EAAE7X,KAAK4lB,UAAU/N,GAAI,KAAIC,IAAKlR,QAAO2f,oBAAoBvmB,MAAM,kBAAmBA,MAAK8X,KAAK9X,KAAK8X,GAAG,OAAOD,EAAEyN,GAAGC,YAAYC,YAAYlM,QAAQkP,MAAM1jB,GAAGxD,OAAOmkB,OAAOnkB,OAAO2iB,OAAO3iB,OAAOR,UAAU,SAAS+W,EAAEC,EAAEC,EAAEjT,GAAG,GAAIe,GAAE,SAASiS,GAAG9X,KAAKyoB,KAAK3Q,EAAE9X,KAAKyoB,KAAKnkB,QAAQuT,EAAEI,UAAUpS,EAAEqS,SAASlY,KAAKyoB,KAAKnkB,SAAStE,KAAK0oB,UAAS,EAAG1oB,KAAK2oB,SAAS7jB,EAAE9E,KAAK4jB,KAAK9e,EAAE9E,KAAKsmB,UAAUsC,sBAAsB/Q,EAAE0B,MAAM,SAAS1B,GAAG,YAAYA,EAAE0I,SAASC,OAAOxgB,KAAK2oB,SAAS3oB,KAAKyoB,KAAK5N,UAAU7a,KAAK4jB,KAAK/L,EAAE0I,SAAS9c,QAAQzD,MAAM6oB,iEAAiEhR,EAAE0B,MAAM,SAAS1B,GAAG7X,KAAK0oB,SAAS,cAAc7Q,EAAEzL,MAAMpM,MAAM8oB,yBAAyBjR,EAAE0B,MAAM,WAAWvZ,KAAK0oB,WAAW1oB,KAAKyoB,KAAKnkB,QAAQykB,YAAY/oB,KAAKyoB,KAAKnkB,QAAQ0kB,YAAYhpB,KAAKipB,QAAQjpB,OAAOA,KAAKyoB,KAAKtQ,SAASyJ,GAAG5hB,KAAKsmB,UAAWzgB,GAAEqS,UAAU6Q,YAAW,EAAGC,WAAU,GAAInjB,EAAE8R,UAAUsR,KAAK,WAAW,GAAG,IAAIjpB,KAAKyoB,KAAKzQ,SAASoE,OAAOpc,KAAKyoB,KAAKvG,UAAU,CAACliB,KAAKyoB,KAAKxG,MAAM,EAAG,IAAInK,GAAEC,EAAEF,EAAE0B,MAAMvZ,KAAK2H,MAAM3H,MAAM8E,EAAE9E,KAAKyoB,KAAKlK,OAAOC,WAAWG,GAAG3e,KAAK2oB,UAAU9iB,EAAE7F,KAAKyoB,KAAKlK,OAAOC,WAAWG,GAAG3e,KAAK4jB,MAAM/J,EAAE7Z,KAAKyoB,KAAKzQ,SAASgR,UAAU7O,EAAEna,KAAKyoB,KAAKzQ,SAAS+Q,UAAW/oB,MAAKyoB,KAAK5N,YAAY7a,KAAK2oB,WAAWxO,IAAIrC,EAAE9X,KAAKyoB,KAAKlJ,YAAYvf,KAAK2oB,UAAU3oB,KAAKyoB,KAAKlJ,YAAYvf,KAAK4jB,MAAM9e,EAAEqa,KAAKrb,KAAKgU,EAAE,OAAOnP,SAAS,6BAA6BA,SAASwR,GAAGiM,IAAI,+EAA+ErO,IAAI8B,GAAGhU,EAAE8C,SAAS,4BAA4BA,SAASkR,GAAGuM,IAAI,+EAA+ErO,MAAMlS,EAAE8R,UAAUhQ,MAAM,SAASmQ,GAAGD,EAAEC,EAAEjN,QAAQsU,KAAKrb,KAAK,KAAK2b,YAAY,6CAA6CA,YAAYzf,KAAKyoB,KAAKzQ,SAASgR,WAAWvJ,YAAYzf,KAAKyoB,KAAKzQ,SAAS+Q,YAAY/oB,KAAKyoB,KAAKpH,iBAAiBxb,EAAE8R,UAAU4M,QAAQ,WAAW,GAAI1M,GAAEC,CAAE,KAAID,IAAK7X,MAAKsmB,SAAStmB,KAAKyoB,KAAKtQ,SAASwK,IAAI9K,EAAE7X,KAAKsmB,SAASzO,GAAI,KAAIC,IAAKlR,QAAO2f,oBAAoBvmB,MAAM,kBAAmBA,MAAK8X,KAAK9X,KAAK8X,GAAG,OAAOD,EAAEyN,GAAGC,YAAYC,YAAYlM,QAAQ4P,QAAQrjB,GAAGvE,OAAOmkB,OAAOnkB,OAAO2iB,OAAO3iB,OAAOR,UAAU,SAAS+W,EAAEC,EAAEC,GAAG,GAAIjT,GAAE,SAASgT,GAAG9X,KAAKyoB,KAAK3Q,EAAE9X,KAAKyoB,KAAKnkB,QAAQuT,EAAEI,UAAUnT,EAAEoT,SAASlY,KAAKyoB,KAAKnkB,SAAStE,KAAKsmB,UAAU6C,iDAAiDtR,EAAE0B,MAAM;AAAWvZ,KAAKopB,YACxz+BppB,MAAMqpB,oBAAoBxR,EAAE0B,MAAM,SAAS1B,EAAEC,EAAEC,GAAG/X,KAAKynB,KAAK3P,EAAEC,IAAI/X,MAAMspB,oBAAoBzR,EAAE0B,MAAM,WAAWvZ,KAAKsnB,QAAQtnB,MAAMupB,yBAAyB1R,EAAE0B,MAAM,WAAWvZ,KAAKyoB,KAAKzQ,SAASwR,oBAAoBxpB,KAAKypB,SAASzpB,MAAM0pB,0BAA0B7R,EAAE0B,MAAM,WAAWvZ,KAAKyoB,KAAKzQ,SAASwR,oBAAoBxpB,KAAKopB,YAAYppB,OAAOA,KAAKyoB,KAAKtQ,SAASyJ,GAAG5hB,KAAKsmB,UAAWxhB,GAAEoT,UAAUkR,UAAS,EAAGO,gBAAgB,IAAIH,oBAAmB,EAAGI,eAAc,GAAI9kB,EAAE6S,UAAUyR,SAAS,WAAWppB,KAAKyoB,KAAKzQ,SAASoR,WAAWppB,KAAKyoB,KAAKnQ,MAAMuR,WAAW/R,EAAE2M,cAAczkB,KAAK8pB,UAAU9pB,KAAK8pB,SAAShS,EAAE4M,YAAY7M,EAAE0B,MAAM,WAAWvZ,KAAKynB,QAAQznB,MAAMA,KAAKyoB,KAAKzQ,SAAS2R,kBAAkB7R,EAAE2M,cAAczkB,KAAK8pB,WAAWhlB,EAAE6S,UAAU8P,KAAK,WAAW,MAAO1P,GAAEgS,UAAS,GAAI/pB,KAAKyoB,KAAKnQ,MAAMiD,SAASvb,KAAKyoB,KAAKnQ,MAAMkD,aAAaxb,KAAKyoB,KAAKnQ,MAAMmD,WAAWzb,KAAKyoB,KAAKnQ,MAAMqD,SAAS,OAAO3b,KAAKyoB,KAAKzQ,SAASoR,YAAW,MAAQtR,GAAE2M,cAAczkB,KAAK8pB,cAAe9pB,MAAKyoB,KAAK7E,KAAK5jB,KAAKyoB,KAAKzQ,SAAS4R,gBAAgB9kB,EAAE6S,UAAU2P,KAAK,WAAWxP,EAAE2M,cAAczkB,KAAK8pB,WAAWhlB,EAAE6S,UAAU8R,MAAM,WAAW3R,EAAE2M,cAAczkB,KAAK8pB,WAAWhlB,EAAE6S,UAAU4M,QAAQ,WAAW,GAAI1M,GAAEE,CAAED,GAAE2M,cAAczkB,KAAK8pB,SAAU,KAAIjS,IAAK7X,MAAKsmB,SAAStmB,KAAKyoB,KAAKtQ,SAASwK,IAAI9K,EAAE7X,KAAKsmB,SAASzO,GAAI,KAAIE,IAAKnR,QAAO2f,oBAAoBvmB,MAAM,kBAAmBA,MAAK+X,KAAK/X,KAAK+X,GAAG,OAAOF,EAAEyN,GAAGC,YAAYC,YAAYlM,QAAQ8P,SAAStkB,GAAGxD,OAAOmkB,OAAOnkB,OAAO2iB,OAAO3iB,OAAOR,UAAU,SAAS+W,GAAG,YAAa,IAAIC,GAAE,SAASC,GAAG/X,KAAK0lB,MAAM3N,EAAE/X,KAAKgqB,cAAa,EAAGhqB,KAAKiqB,UAAUjqB,KAAKkqB,aAAalqB,KAAKmqB,cAAcnqB,KAAKmY,SAASnY,KAAK0lB,MAAMvN,SAASnY,KAAKoqB,YAAYxG,KAAK5jB,KAAK0lB,MAAM9B,KAAKC,KAAK7jB,KAAK0lB,MAAM7B,KAAKF,GAAG3jB,KAAK0lB,MAAM/B,IAAI3jB,KAAK4lB,WAAW2B,wBAAwB1P,EAAE0B,MAAM,SAASzB,GAAG9X,KAAK0lB,MAAM1N,SAASqS,UAAUrqB,KAAKmqB,WAAWviB,KAAKiQ,EAAEC,EAAE7Q,SAAS2Y,KAAK,cAAcuE,QAAQ,cAAc7D,KAAK,cAActgB,MAAMsqB,mBAAmBzS,EAAE0B,MAAM,SAASzB,GAAG9X,KAAK0lB,MAAM1N,SAASqS,UAAUrqB,KAAKmqB,WAAWhnB,OAAO2U,EAAEjU,SAAS,EAAEgU,EAAEC,EAAE7Q,SAAS2Y,KAAK,cAAcuE,QAAQ,cAAc7D,KAAK,cAActgB,MAAMuqB,4CAA4C1S,EAAE0B,MAAM,SAAS1B,GAAG7X,KAAK0lB,MAAM1N,SAASqS,UAAUrqB,KAAKmqB,WAAWhnB,OAAO0U,EAAEhU,SAAS,IAAI7D,MAAM4oB,sBAAsB/Q,EAAE0B,MAAM,SAAS1B,GAAG,GAAG,YAAYA,EAAE0I,SAASC,OAAOxgB,KAAK0lB,MAAMpN,MAAMgL,SAAStjB,KAAK0lB,MAAM1N,SAASqE,MAAMrc,KAAK0lB,MAAM1N,SAASwS,UAAU,CAAC,GAAI1S,GAAE9X,KAAK0lB,MAAM7K,UAAU9C,EAAE/X,KAAK0lB,MAAMpD,UAAUxd,EAAE9E,KAAK0lB,MAAMrD,SAAUxK,GAAE9X,KAAK8X,EAAE0I,SAAS9c,MAAMsU,EAAED,GAAGC,EAAEjT,EAAEiT,EAAEF,EAAE0I,SAAS9c,MAAMqB,EAAEiT,EAAEF,EAAE0I,SAAS9c,QAAQzD,MAAM2mB,uBAAuB9O,EAAE0B,MAAM,SAAS1B,GAAG,YAAYA,EAAE0I,SAASC,MAAMxgB,KAAKyqB,QAAQzqB,MAAM0qB,yBAAyB7S,EAAE0B,MAAM,WAAWvZ,KAAKgqB,eAAehqB,KAAK4Z,aAAa5Z,KAAKgqB,cAAa,GAAIhqB,KAAK0lB,MAAM5d,QAAQ,UAAU,KAAK,cAAc9H,KAAKqQ,SAASrQ,KAAKyqB,OAAOzqB,KAAK0lB,MAAM5d,QAAQ,YAAY,KAAK,eAAe9H,OAAOA,KAAK0lB,MAAMphB,QAAQuT,EAAEI,UAAUH,EAAEI,SAASlY,KAAK0lB,MAAMphB,SAAStE,KAAKmY,SAASyJ,GAAG5hB,KAAK4lB,WAAY9N,GAAEI,UAAUyS,KAAI,EAAGH,WAAU,EAAGI,SAAS,OAAO,QAAQC,UAAS,EAAGC,WAAW,MAAMC,cAAa,EAAGC,kBAAkB,UAAUC,UAAU,WAAW,YAAYC,QAAQ,EAAEC,SAAS,UAAUC,UAAU,WAAWC,MAAK,EAAGC,UAAS,EAAGC,SAAQ,EAAGC,WAAU,EAAGC,eAAc,EAAGC,cAAc,gBAAgB5T,EAAEH,UAAUiC,WAAW,WAAW,GAAI9B,GAAEC,EAAEjT,EAAE9E,KAAK0lB,MAAM1N,QAASlT,GAAEulB,WAAWrqB,KAAKmqB,YAAYtS,EAAE,SAASlP,SAAS7D,EAAEqmB,UAAUvM,OAAO/G,EAAE,WAAW8T,KAAK,eAAe7mB,EAAEimB,cAAcjmB,EAAE2mB,gBAAgBzrB,KAAKkqB,UAAU0B,WAAW/T,EAAE,SAASlP,SAAS7D,EAAE4mB,eAAeG,SAAS7rB,KAAKmY,WAAWnY,KAAKkqB,UAAU4B,YAAYhnB,EAAE2mB,cAAc5T,EAAE/S,EAAE2mB,eAAe5T,EAAE,SAASzR,OAAOuC,SAAS7D,EAAEsmB,WAAWS,SAAS7rB,KAAKkqB,UAAU0B,YAAY5rB,KAAKkqB,UAAU4B,YAAYlK,GAAG,QAAQ,MAAM/J,EAAE0B,MAAM,SAASzB,GAAG,GAAIC,GAAEF,EAAEC,EAAEjN,QAAQ3B,SAASid,GAAGnmB,KAAKkqB,UAAU4B,aAAajU,EAAEC,EAAEjN,QAAQ3H,QAAQ2U,EAAEC,EAAEjN,QAAQ3B,SAAShG,OAAQ4U,GAAEpM,iBAAiB1L,KAAK2jB,GAAG5L,EAAEjT,EAAE0mB,YAAYxrB,OAAO8X,EAAEhT,EAAEimB,aAAalT,EAAE/S,EAAEimB,cAAclT,EAAE,SAASlP,SAAS7D,EAAEkmB,mBAAmBe,UAAU/rB,KAAKkqB,UAAU0B,YAAY5rB,KAAKkqB,UAAU8B,MAAMnU,EAAE,IAAI/S,EAAEgmB,WAAW,KAAK9qB,KAAKkqB,UAAU+B,UAAUjsB,KAAKkqB,UAAU8B,MAAMnN,QAAQ7e,KAAKkqB,UAAU+B,UAAUtjB,SAAS7D,EAAEmmB,SAAS,IAAI9e,KAAKrH,EAAE8lB,QAAQ,IAAIxkB,OAAO2lB,UAAUjU,GAAG8J,GAAG,QAAQ/J,EAAE0B,MAAM,WAAWvZ,KAAK6jB,KAAK/e,EAAE+lB,WAAW7qB,OAAOA,KAAKkqB,UAAU8B,MAAMrjB,SAAS7D,EAAEmmB,SAAS,IAAI9e,KAAKrH,EAAE8lB,QAAQ,IAAIxkB,OAAOylB,SAAS/T,GAAG8J,GAAG,QAAQ/J,EAAE0B,MAAM,WAAWvZ,KAAK4jB,KAAK9e,EAAE+lB,WAAW7qB,MAAO,KAAI+X,IAAK/X,MAAKoqB,WAAWpqB,KAAK0lB,MAAM3N,GAAGF,EAAE0B,MAAMvZ,KAAK+X,GAAG/X,OAAO8X,EAAEH,UAAU4M,QAAQ,WAAW,GAAI1M,GAAEC,EAAEC,EAAEjT,CAAE,KAAI+S,IAAK7X,MAAK4lB,UAAU5lB,KAAKmY,SAASwK,IAAI9K,EAAE7X,KAAK4lB,UAAU/N,GAAI,KAAIC,IAAK9X,MAAKkqB,UAAUlqB,KAAKkqB,UAAUpS,GAAG2G,QAAS,KAAI3Z,IAAK9E,MAAKksB,SAASlsB,KAAK0lB,MAAM5gB,GAAG9E,KAAKoqB,WAAWtlB,EAAG,KAAIiT,IAAKnR,QAAO2f,oBAAoBvmB,MAAM,kBAAmBA,MAAK+X,KAAK/X,KAAK+X,GAAG,OAAOD,EAAEH,UAAUtH,OAAO,WAAW,GAAIwH,GAAEC,EAAEC,EAAEjT,EAAE9E,KAAK0lB,MAAM1N,SAASnS,EAAE7F,KAAK0lB,MAAMlC,SAASxe,OAAO,EAAE6U,EAAEhU,EAAE7F,KAAK0lB,MAAMtJ,QAAQpX,OAAOmV,EAAErV,EAAEwX,QAAQxX,EAAEiY,WAAWjY,EAAEymB,QAAQ,EAAEzmB,EAAEwmB,UAAUxmB,EAAEsX,KAAM,IAAG,SAAStX,EAAEomB,UAAUpmB,EAAEomB,QAAQ/qB,KAAK6e,IAAIla,EAAEomB,QAAQpmB,EAAEsX,QAAQtX,EAAEumB,MAAM,QAAQvmB,EAAEomB,QAAQ,IAAIlrB,KAAKiqB,UAAUpS,EAAEhS,EAAEiS,EAAE,EAAEC,EAAE,EAAE8B,EAAEhC,EAAEA,KAAKC,GAAGqC,GAAG,IAAIrC,KAAK9X,KAAKiqB,OAAOriB,MAAM8S,MAAM7C,EAAEhS,EAAEsmB,IAAItU,EAAEhS,EAAEsU,EAAE,IAAIrC,EAAE,IAAIC,GAAGD,GAAG9X,KAAK0lB,MAAMnC,QAAQvjB,KAAK0lB,MAAMpH,SAASzG,KAAKC,EAAEH,UAAU8S,KAAK,WAAW,GAAI3S,GAAEC,EAAEjT,EAAE,GAAGe,EAAE7F,KAAK0lB,MAAM1N,SAAS6B,GAAG7Z,KAAK0lB,MAAMnH,OAAOC,WAAWxe,KAAK0lB,MAAMpH,SAASte,KAAK0lB,MAAM7K,WAAY,KAAIhV,EAAE8kB,KAAK9kB,EAAEwW,MAAMxW,EAAE2kB,YAAYxqB,KAAKkqB,UAAU+B,UAAU1oB,YAAY,WAAW,GAAGsW,GAAG7Z,KAAKkqB,UAAU8B,MAAMzoB,YAAY,WAAWsW,GAAG7Z,KAAK0lB,MAAMpD,YAAYtiB,KAAKkqB,UAAU+B,UAAUG,OAAOvmB,EAAE8kB,KAAK3qB,KAAKkqB,UAAU8B,MAAMI,OAAOvmB,EAAE8kB,KAAK9kB,EAAEwlB,KAAK,CAAC,GAAGvT,EAAE9X,KAAKiqB,OAAOjlB,OAAOhF,KAAKkqB,UAAU4B,YAAYtN,WAAWxZ,OAAOa,EAAE0lB,SAAS,IAAIzT,EAAE,CAAC,IAAIC,EAAE,EAAEA,EAAE/X,KAAKkqB,UAAU4B,YAAYtN,WAAWxZ,OAAO+S,IAAIjT,GAAG9E,KAAKmqB,WAAWnqB,KAAK0lB,MAAMpH,SAASvG,GAAI/X,MAAKkqB,UAAU4B,YAAY3f,KAAKrH,OAAQgT,GAAE,GAAGhT,EAAE,GAAIqL,OAAM2H,EAAE,GAAG1U,KAAKpD,KAAKmqB,WAAW,IAAInqB,KAAKkqB,UAAU4B,YAAYlN,OAAO9Z,IAAI,EAAEgT,GAAG9X,KAAKkqB,UAAU4B,YAAYtN,WAAWhF,MAAM1B,GAAG2G,QAASze,MAAKkqB,UAAU4B,YAAYlM,KAAK,WAAWH,YAAY,UAAUzf,KAAKkqB,UAAU4B,YAAYtN,WAAWG,GAAG9G,EAAEqO,QAAQlmB,KAAK6a,UAAU7a,KAAKiqB,SAASthB,SAAS,UAAU3I,KAAKkqB,UAAU4B,YAAYM,OAAOvmB,EAAEwlB,OAAOvT,EAAEH,UAAUyN,UAAU,SAAStN,GAAG,GAAIC,GAAE/X,KAAK0lB,MAAM1N,QAASF,GAAEuU,MAAMnpB,MAAM2U,EAAEqO,QAAQlmB,KAAK6a,UAAU7a,KAAKiqB,QAAQ/E,MAAMllB,KAAKiqB,OAAOjlB,OAAOsnB,KAAKvU,IAAIA,EAAEuE,QAAQvE,EAAEgF,WAAWhF,EAAEwT,QAAQ,EAAExT,EAAEuT,UAAUvT,EAAEqE,SAAStE,EAAEH,UAAUkD,QAAQ,WAAW,GAAI/C,GAAE9X,KAAK0lB,MAAMpH,SAASte,KAAK0lB,MAAM7K,UAAW,OAAOhD,GAAEuH,KAAKpf,KAAKiqB,OAAO,SAASpS,GAAG,MAAOA,GAAE6C,OAAO5C,GAAGD,EAAEsU,KAAKrU,IAAIlE,OAAOkE,EAAEH,UAAU4U,YAAY,SAASzU,GAAG,GAAIC,GAAEjT,EAAEe,EAAE7F,KAAK0lB,MAAM1N,QAAS,OAAM,QAAQnS,EAAEqlB,SAASnT,EAAEF,EAAEqO,QAAQlmB,KAAK6a,UAAU7a,KAAKiqB,QAAQnlB,EAAE9E,KAAKiqB,OAAOjlB,OAAO8S,IAAIC,IAAIA,EAAEA,EAAE/X,KAAKiqB,QAAQlS,EAAEjT,EAAEA,GAAGA,GAAG4V,QAAQ3C,EAAE/X,KAAK0lB,MAAMpH,SAASte,KAAK0lB,MAAM7K,WAAW/V,EAAE9E,KAAK0lB,MAAMtJ,QAAQpX,OAAO8S,EAAEC,GAAGlS,EAAEqlB,QAAQnT,GAAGlS,EAAEqlB,SAASnT,GAAGD,EAAEH,UAAUiM,KAAK,SAAS9L,GAAGD,EAAE0B,MAAMvZ,KAAKoqB,WAAWzG,GAAG3jB,KAAK0lB,OAAO1lB,KAAKusB,aAAY,GAAIzU,IAAIA,EAAEH,UAAUkM,KAAK,SAAS/L,GAAGD,EAAE0B,MAAMvZ,KAAKoqB,WAAWzG,GAAG3jB,KAAK0lB,OAAO1lB,KAAKusB,aAAY,GAAIzU,IAAIA,EAAEH,UAAUgM,GAAG,SAAS7L,EAAEC,EAAEjT,GAAG,GAAIe,EAAEf,GAAE+S,EAAE0B,MAAMvZ,KAAKoqB,WAAWzG,GAAG3jB,KAAK0lB,OAAO5N,EAAEC,IAAIlS,EAAE7F,KAAKiqB,OAAOjlB,OAAO6S,EAAE0B,MAAMvZ,KAAKoqB,WAAWzG,GAAG3jB,KAAK0lB,OAAO1lB,KAAKiqB,QAAQnS,EAAEjS,EAAEA,GAAGA,GAAG6U,MAAM3C,KAAKF,EAAEyN,GAAGC,YAAYC,YAAYlM,QAAQkT,WAAW1U,GAAGxW,OAAOmkB,OAAOnkB,OAAO2iB,OAAO3iB,OAAOR,UAAU,SAAS+W,EAAEC,GAAG,YAAa,IAAIC,GAAE,SAASjT,GAAG9E,KAAK0lB,MAAM5gB,EAAE9E,KAAKysB,WAAWzsB,KAAKmY,SAASnY,KAAK0lB,MAAMvN,SAASnY,KAAK4lB,WAAWa,2BAA2B5O,EAAE0B,MAAM,WAAW,WAAWvZ,KAAK0lB,MAAM1N,SAASgF,eAAenF,EAAEC,GAAGhQ,QAAQ,8BAA8B9H,MAAMunB,wBAAwB1P,EAAE0B,MAAM,SAASzB,GAAG,GAAIC,GAAEF,EAAEC,EAAE7Q,SAAS2Y,KAAK,eAAeuE,QAAQ,eAAe7D,KAAK,YAAatgB,MAAKysB,QAAQ1U,GAAGD,EAAE7Q,SAASjH,OAAOA,KAAK0lB,MAAMphB,QAAQuT,EAAEI,UAAUF,EAAEG,SAASlY,KAAK0lB,MAAMphB,SAAStE,KAAKmY,SAASyJ,GAAG5hB,KAAK4lB,WAAW/N,EAAEC,GAAG8J,GAAG,4BAA4B/J,EAAE0B,MAAM,WAAW,GAAI1B,GAAEC,EAAEvW,SAASmrB,KAAKlmB,UAAU,GAAGuR,EAAE/X,KAAK0lB,MAAMnH,OAAOC,WAAW1Z,EAAE9E,KAAKysB,QAAQ5U,IAAIE,EAAE7U,MAAMlD,KAAKysB,QAAQ5U,KAAK,CAAE,OAAOA,OAAO7X,MAAK0lB,MAAM/B,GAAG7e,GAAE,GAAG,IAAI,GAAI9E,OAAQ+X,GAAEG,UAAUyU,iBAAgB,GAAI5U,EAAEJ,UAAU4M,QAAQ,WAAW,GAAIxM,GAAEjT,CAAE+S,GAAEC,GAAG6K,IAAI,4BAA6B,KAAI5K,IAAK/X,MAAK4lB,UAAU5lB,KAAK0lB,MAAMvN,SAASwK,IAAI5K,EAAE/X,KAAK4lB,UAAU7N,GAAI,KAAIjT,IAAK8B,QAAO2f,oBAAoBvmB,MAAM,kBAAmBA,MAAK8E,KAAK9E,KAAK8E,GAAG,OAAO+S,EAAEyN,GAAGC,YAAYC,YAAYlM,QAAQsT,KAAK7U,GAAGzW,OAAOmkB,OAAOnkB,OAAO2iB,OAAO3iB,OAAOR;ACDloQ,YAEA,IAA0B,mBAAf,WAA4B,KAAM,0DAE7C,IAAkB,mBAAP,GAAoB,KAAM,oDAEA,oBAAzBG,WAAoB,aAC5BA,UAAU4rB,eAEgC,mBAAlC5rB,WAAU4rB,WAAmB,WACrC5rB,UAAU4rB,WAAWC,aAEzB7rB,UAAU4rB,WAAWC,SAASC,aAAe,SAAU5rB,EAAKmD,GACxD,MAAKnD,GAIMF,UAAU8P,SAASG,YAAY/P,EAAKmD,GAHpC,IAOfrD,UAAU4rB,WAAWC,SAASE,WAAa,SAAU7rB,EAAKmD,GACtD,MAAKnD,GAIMF,UAAU8P,SAASW,UAAUvQ,EAAKmD,GAHlC,IAOfrD,UAAU4rB,WAAWC,SAASG,gBAAkB,SAAUC,GACtD,GAAIA,GAAYA,EAAShJ,UAAkC,IAAtBgJ,EAAShJ,SAC1C,MAAOgJ,EACJ,IAA0B,gBAAf,GAAyB,CAEvC,GADAA,EAAWpsB,SAASoB,cAAcgrB,GAE9B,MAAOA,EAEX,MAAM,uCAEV,KAAM,2DAIVjsB,UAAU4rB,WAAWC,SAASK,OAAS,SAAUD,EAAU9Q,GAEvD,GAAyB,mBAAd,UAA2B,KAAM,sDAC5Cpc,MAAKktB,SAAWA,EAChBltB,KAAKoc,SACLpc,KAAKkF,KAAKgoB,GACVltB,KAAKotB,UAAUhR,IAInBnb,UAAU4rB,WAAWC,SAASK,OAAOxV,WAEjCzS,KAAM,SAAUgoB,GACZltB,KAAKktB,SAAWjsB,UAAU4rB,WAAWC,SAASG,gBAAgBC,GAC9DltB,KAAKqtB,kBACLrtB,KAAKstB,eAAiBttB,KAAKktB,SAAShrB,cAAc,mBAClDlC,KAAKutB,eAGTC,aAAc,SAAUvI,EAAM/hB,GAC1B,KAAM,8BAIVuqB,cAAe,SAAUxI,EAAMyI,EAAUC,GACrCroB,QAAQU,KAAK,8BAA+Bif,EAAMyI,EAAUC,IAGhEC,WAAY,SAAUxR,GAClB9W,QAAQU,KAAK,2BAA4Bif,OAG7C4I,aAAc,SAAU5I,EAAM/hB,GAC1BoC,QAAQU,KAAK,6BAA8Bif,IAG/CmI,UAAW,SAAUhR,EAAO0R,GACxB,GAAI1R,GAASA,YAAiBjM,OAAO,CAC5B2d,GAAqC,IAAtB9tB,KAAKoc,MAAMpX,QAE3BhF,KAAK+tB,YAGT,KAAK,GAAI9nB,GAAI,EAAGA,EAAImW,EAAMpX,OAAQiB,IAC9BjG,KAAKoc,MAAMxU,KAAKwU,EAAMnW,IACtBjG,KAAKguB,YAAY5R,EAAMnW,MAKnC2Y,OAAQ,SAASxC,GACTA,IAEMA,YAAiBjM,QAA2B,gBAAX,KACvCiM,GAAOA,IAEXpc,KAAKotB,UAAUhR,GAAM,KAGzBzU,MAAO,WACH3H,KAAK+tB,aACL/tB,KAAK6tB,gBAGTE,WAAY,WACR/tB,KAAKoc,QAEL,KADA,GAAI6R,GAAKjuB,KAAKstB,eAAeY,WACtBD,GACHjuB,KAAKstB,eAAeroB,YAAYgpB,GAChCA,EAAKjuB,KAAKstB,eAAeY,YAIjCF,YAAa,SAAU/I,GACnB,GAAIkJ,GAAKnuB,KAEL4J,EAAU9I,SAASsB,cAAc,OACjCgsB,EAAattB,SAASsB,cAAc,QACpCisB,EAAcvtB,SAASsB,cAAc,OACrCksB,EAAQxtB,SAASsB,cAAc,OAC/BmsB,EAAUztB,SAASsB,cAAc,OACjCqI,EAAQ3J,SAASsB,cAAc,QAC/BosB,EAAiB1tB,SAASsB,cAAc,OACxCqsB,EAAa3tB,SAASsB,cAAc,KACpCssB,EAAe5tB,SAASsB,cAAc,OAG1CwH,GAAQ9G,UAAY,SACpBsrB,EAAWtrB,UAAY,2BACvBurB,EAAYvrB,UAAY,yBACxByrB,EAAQzrB,UAAY,kBACpB2H,EAAM3H,UAAY,iBAClB0rB,EAAe1rB,UAAY,aAC3B2rB,EAAW3rB,UAAY,oBACvB4rB,EAAa5rB,UAAY,uDAEzBwrB,EAAMjsB,IAAMpB,UAAU4rB,WAAWC,SAASC,aAAa9H,EAAK1R,SAAWvP,MAAO,GAAIsK,OAAQ,KAC1F7D,EAAM/H,UAAYuiB,EAAKxa,MACvBgkB,EAAW/rB,UAAauiB,EAAKla,QAAyB,YAAfka,EAAKla,OAAwB,mBAAqB,kBAGzFnB,EAAQtH,YAAY8rB,GACpBxkB,EAAQtH,YAAY+rB,GACpBA,EAAY/rB,YAAYgsB,GACxBC,EAAQjsB,YAAYmI,GAEpB+jB,EAAelsB,YAAYmsB,GAC3BD,EAAelsB,YAAYosB,GAE3BH,EAAQjsB,YAAYksB,GAEpB5kB,EAAQtH,YAAYisB,GACpBJ,EAAGb,eAAehrB,YAAYsH,GAG9B,WACI6kB,EAAWtmB,iBAAiB,QAAS,SAAUtC,GAC3CA,EAAE6F,gBACF,IAAIijB,GAAYR,EAAGS,cAAc3J,GAC7B4J,EAAgBhpB,EAAEgF,OAClBikB,EAAgBD,EAAclqB,WAAWA,WAAWA,UACxDwpB,GAAGY,gBAAgB9J,EAAM,SAAUna,GAC/BqjB,EAAG/R,MAAMuS,GAAa7jB,EACtBma,EAAOna,EACPqjB,EAAGX,aAAa1iB,EAAY6jB,GAC5BG,EAAc5sB,cAAc,OAAOG,IAAMpB,UAAU4rB,WAAWC,SAASC,aAAajiB,EAAWyI,SAAWvP,MAAO,GAAIsK,OAAQ,KAC7HwgB,EAAc5sB,cAAc,UAAUQ,UAAYoI,EAAWL,MAC7DokB,EAAcnsB,UAAYoI,EAAWC,QAA+B,YAArBD,EAAWC,OAAuB,cAAgB,iBAIzG2jB,EAAavmB,iBAAiB,QAAS,SAAUtC,GAC7CA,EAAE6F,gBACF,IAAIijB,GAAYR,EAAGS,cAAc3J,GAC7B/b,EAASlJ,KAAK2E,WAAWA,WAAWA,UACvB,KAAbgqB,IACAR,EAAG/R,MAAMjZ,OAAOwrB,EAAW,GAC3BzlB,EAAOvE,WAAWM,YAAYiE,GAC9BilB,EAAGN,aAAa5I,EAAM0J,OAG/B1J,IAGPoI,gBAAiB,WACb,GAAI2B,GAAqBluB,SAASsB,cAAc,OAC5C6sB,EAAgBnuB,SAASsB,cAAc,QACvC8sB,EAAmBpuB,SAASsB,cAAc,OAC1C+sB,EAAkBruB,SAASsB,cAAc,OACzCgtB,EAAStuB,SAASsB,cAAc,KAChCitB,EAAkBvuB,SAASsB,cAAc,MAE7C4sB,GAAmBlsB,UAAY,oBAC/BmsB,EAAcnsB,UAAY,+CAC1BmsB,EAAcvsB,UAAY,iBAC1BwsB,EAAiBpsB,UAAY,2BAC7BqsB,EAAgBrsB,UAAY,WAC5BssB,EAAOtsB,UAAY,6CACnBusB,EAAgBvsB,UAAY,iGAE5BssB,EAAO1sB,UAAY,YAEnBssB,EAAmB1sB,YAAY2sB,GAC/BE,EAAgB7sB,YAAY8sB,GAC5BF,EAAiB5sB,YAAY6sB,GAC7BD,EAAiB5sB,YAAY+sB,GAC7BL,EAAmB1sB,YAAY4sB,GAE/BlvB,KAAKktB,SAAS5qB,YAAY0sB,IAG9BzB,YAAa,WACT,GAAIY,GAAKnuB,KACL0tB,EAAW,CAEfS,GAAGjB,SAAShrB,cAAc,qBAAqBiG,iBAAiB,QAAS,WACrEgmB,EAAGmB,cAAe,SAAUC,GAExB,IAAK,GADDC,MAAeC,EAAc,KACxBxpB,EAAI,EAAGA,EAAIspB,EAAUvqB,OAASiB,IACnCwpB,EAAcxuB,UAAUkS,YAAYG,OAAO,KAAMic,EAAUtpB,GAAI,SAC1DwpB,EAAY1kB,SACb0kB,EAAY1kB,OAAS,YAGzBykB,EAAS5nB,KAAK6nB,GACdA,EAAc,IAGfD,GAASxqB,SACRmpB,EAAGf,UAAUoC,GAAU,GACvBrB,EAAGP,WAAW4B,QAM1BrB,EAAGuB,aAAeC,SAASrc,OAAO6a,EAAGb,gBACjCsC,UAAW,IACXpf,SAAU,SAAU3P,GAChB,GAAI8sB,GAAWQ,EAAG0B,sBAAsBhvB,EAAIokB,MACxC6K,EAAM3B,EAAG/R,MAAMsR,EAEnB,IAAeC,EAAXD,EACA,IAAK,GAAIznB,GAAIynB,EAAW,EAAQC,GAAL1nB,EAAeA,IACtCkoB,EAAG/R,MAAMnW,EAAI,GAAKkoB,EAAG/R,MAAMnW,OAG/B,KAAK,GAAIA,GAAIynB,EAAW,EAAGznB,GAAK0nB,EAAU1nB,IACtCkoB,EAAG/R,MAAMnW,EAAI,GAAKkoB,EAAG/R,MAAMnW,EAInCkoB,GAAG/R,MAAMuR,GAAYmC,EACrB3B,EAAGV,cAAcqC,EAAKpC,EAAUC,IAEpCoC,QAAS,SAAUlvB,GACf6sB,EAAWS,EAAG0B,sBAAsBhvB,EAAIokB,UAKpD8J,gBAAiB,SAAU9J,EAAM5b,GAC7BpI,UAAUkS,YAAYnC,WAAWiU,GAAQ+K,UAAU,EAAMC,eAAe,GAAQ,SAAU3mB,EAAKwB,GACvFxB,EACAhE,QAAQQ,MAAM,+BAAgCwD,GAE1CwB,GACAzB,EAASyB,MAMzBwkB,cAAe,SAAUjmB,GACrBpI,UAAU8P,SAASC,YAAakf,aAAc,EAAMC,WAAW,GAAS,SAAU7mB,EAAKC,GAC/ED,EACAhE,QAAQQ,MAAM,yBAA0BwD,GAExCD,EAASE,EAAO6mB,kBAI5BxB,cAAe,SAAU3J,GACrB,MAAOjlB,MAAKoc,MAAMhb,QAAQ6jB,IAG9B4K,sBAAuB,SAAU5K,GAE7B,IADA,GAAI/hB,GAAQ,EAC4B,OAAhC+hB,EAAOA,EAAKoL,kBAChBntB,GAEJ,OAAOA,KAKfjC,UAAU4rB,WAAWC,SAASwD,KAAO,SAAUpD,EAAU9Q,EAAOmU,EAAOtO,GACtE,GAAoB,gBAATuO,GAAI,KAAmBA,EAAElL,KAAMkL,EAAElL,GAAGC,YACxC,KAAM,2DAEVvlB,MAAKktB,SAAWA,EAChBltB,KAAKoc,SACLpc,KAAKywB,gBAAgBF,GACrBvwB,KAAK0wB,WAAWtU,GAAO,GACvBpc,KAAKkF,KAAKgoB,EAASjL,GACtB3gB,OAAOqvB,cAAc,GAAIrwB,aAAY,YAItCW,UAAU4rB,WAAWC,SAASwD,KAAK3Y,WAE/BzS,KAAM,SAAUgoB,EAASjL,GACrBjiB,KAAKktB,SAAWjsB,UAAU4rB,WAAWC,SAASG,gBAAgBC,GAC9DltB,KAAK4wB,eAEL,IAAIC,GAAO7wB,IAEXA,MAAK8wB,YAAY7O,EAAO,WAChB4O,EAAKzU,MAAMpX,OACS,mBAAVid,GACN4O,EAAKE,eAELF,EAAKE,aAAa9O,GAEtB4O,EAAKG,iBAKjB5D,UAAW,SAAUhR,EAAO0R,EAAayC,EAAOtO,GACxCjiB,KAAKixB,UACLjxB,KAAKkxB,iBACLlxB,KAAK+tB,cAGT/tB,KAAKywB,gBAAgBF,GACrBvwB,KAAK4wB,gBAEL5wB,KAAK0wB,WAAWtU,EAAO0R,EAEvB,IAAI+C,GAAO7wB,IAEXA,MAAK8wB,YAAY7O,EAAO,WACf4O,EAAKzU,MAAMpX,OAGZ6rB,EAAKM,cAFLN,EAAKG,cAML5U,YAAiBjM,SAAUiM,EAAMpX,SAAW8oB,GAGhD+C,EAAKE,aAAa9O,MAI1BrD,OAAQ,SAASxC,GACTA,IAEOA,YAAiBjM,QAA2B,gBAAX,KACxCiM,GAAOA,IAEXpc,KAAKotB,UAAUhR,GAAM,KAGzBqU,gBAAiB,SAAUF,GACvBvwB,KAAKgE,MAAQ1C,OAAOgQ,WACpBif,EAASA,GAAU,aACL,cAAVA,EACFvwB,KAAKsO,OAASnO,KAAK6lB,KAAK,EAAIhmB,KAAKgE,MAAQ,IACtB,UAAVusB,EACPvwB,KAAKsO,OAAStO,KAAKgE,MACF,UAAVusB,EACPvwB,KAAKsO,OAASnO,KAAK6lB,KAAK,EAAIhmB,KAAKgE,MAAQ,MAC1B,gBAAVusB,IACLvwB,KAAKsO,OAAQhN,OAAOiQ,YAAYvR,KAAKgE,MAAOhE,KAAKgE,MACjDhE,KAAKgE,MAAMhE,KAAKgE,OAGpBhE,KAAKoxB,SAAWpxB,KAAKgE,MAAQ,KAChChE,KAAKsO,OAAS,IAChBtO,KAAKqxB,UAAY,QAEjBrxB,KAAKqxB,UAAYrxB,KAAKsO,OAAS,KAIhCtO,KAAKsxB,WAAa,QAClBtxB,KAAKsxB,WAAatxB,KAAKqxB,WAGrBtD,WAAY,WACR,GAAI/tB,KAAKixB,QAGT,IAFA,GAAIM,GAASvxB,KAAKixB,QAAQ3hB,IAAI,GAC1B2e,EAAKsD,EAAOrD,WACTD,GACHsD,EAAOtsB,YAAYgpB,GACnBA,EAAKsD,EAAOrD,YAIpBwC,WAAY,SAAUtU,EAAO0R,GAKzB,IAJKA,GAAe9tB,KAAKoc,MAAMpX,SAC3BhF,KAAKoc,UAGLA,GAASA,YAAiBjM,QAASiM,EAAMpX,OACzC,IAAK,GAAIiB,GAAI,EAAGA,EAAImW,EAAMpX,OAAQiB,IAC9BjG,KAAKoc,MAAMxU,KAAKwU,EAAMnW,KAKlC+qB,YAAa,WACThxB,KAAKktB,SAAStpB,MAAMO,QAAU,QAGlCgtB,YAAa,WACTnxB,KAAKktB,SAAStpB,MAAMO,QAAU,SAGlC4sB,aAAc,SAAU9O,GACpB,GAAIkM,GAAKnuB,IAET,IADAmuB,EAAG8C,QAAUT,EAAErC,EAAGjB,UACdiB,EAAG/R,MAAMpX,OAAS,EAAG,CAErB,GAAIwsB,IACApnB,YAAY,EACZihB,MAAM,EACNoG,WAAY,IACZC,gBAAiB,IACjBC,YAAY,EACZC,YAAY,EACZxV,MAAO,EACPyV,aAAa,EACzB9L,UAAS,EACGW,YAAY,EACZ0C,UAAU,EACVQ,cAAc,IAGlB4H,GAAcpI,SAAkB,GAAPnH,EAAW,EAAE,IACtCuP,EAAc7H,gBAAiB1H,EAAOA,EAAM,IAC5CuP,EAAcnV,MAAO,EACrB8R,EAAG8C,QAAQ1L,YAAYiM,GAIP,mBAAVvP,GACNuO,EAAE,iBAAiBrqB,OAEnBqqB,EAAE,aAAarqB,QAGvB+qB,eAAgB,WACZ,GAAIlxB,KAAKixB,SAAYjxB,KAAKixB,QAAQlxB,KAAlC,CACA,GAAI+xB,GAAa9xB,KAAKixB,QAAQlxB,KAAK,cAC/B+xB,KACA9xB,KAAKixB,QAAQnpB,QAAQ,qBACrB9H,KAAKixB,QAAQnpB,QAAQ,qBAAqB,GAC1CgqB,EAAWvN,aAInBqM,cAAe,WACX,GAAIzC,GAAKnuB,IAGfmuB,GAAGjB,SAAStpB,MAAM,cAAgBuqB,EAAGmD,WAC/BnD,EAAGjB,SAAStpB,MAAMC,SAAW,WAC7BsqB,EAAGjB,SAAStpB,MAAMG,IAAM,MACxBoqB,EAAGjB,SAAStpB,MAAME,KAAO,MAIzBqqB,EAAGjB,SAASpqB,UAAY,6BAG5BguB,YAAa,SAAU7O,EAAO5Y,GAC1B,GAAI+S,GAAQpc,KAAKoc,MACb2V,EAAc3V,EAAMpX,OAEpBgtB,EAAWD,CAEG,IAAfA,GACC1oB,GAGJ,KAAK,GAAIpD,GAAI,EAAO8rB,EAAJ9rB,EAAiBA,IAC7BjG,KAAKguB,YAAY5R,EAAMnW,GAAIA,EAAEgc,EAAO,WAChC+P,IAEc,GAAXA,GACC3oB,OAMhB2kB,YAAa,SAAU/I,EAAM/hB,EAAO+e,EAAO5Y,GACvC,GAAIkoB,GAASzwB,SAASsB,cAAc,MAEhB,oBAAV6f,GACNsP,EAAOzuB,UAAY,eAEnByuB,EAAOzuB,UAAY,WAE1B,GAAKI,IACPquB,EAAO3tB,MAAMO,QAAU,QAGlBotB,EAAOppB,iBAAiB,QAAS,WAC7BlH,UAAUkS,YAAYC,QAAQ6R,EAAM,SAAU3b,EAAKC,GAC3CD,GACAhE,QAAQU,KAAK,iCAAkCsD,MAM3D,IAAI6kB,GAAKnuB,KACLsuB,EAAQxtB,SAASsB,cAAc,MACnC+rB,GAAG8C,QAAUT,EAAErC,EAAGjB,UAElBjsB,UAAU8P,SAASa,MAAMF,UAAUuT,EAAK1R,SACpCvP,MAAOhE,KAAKgE,MACZsK,OAAQtO,KAAKsO,QACd,SAAUhF,EAAKC,GACTD,EAODhE,QAAQC,IAAI,wCAAyC+D,IANrDglB,EAAMjsB,IAAMkH,EACZ+kB,EAAM1qB,MAAMof,UAAY,gBACxBuO,EAAOjvB,YAAYgsB,GACnBH,EAAGjB,SAAS5qB,YAAYivB,IAK5BloB;AC9hBZ,YAEA,IAA0B,mBAAf,WAA4B,KAAM,8EAE7C,IAAwC,mBAA5BpI,WAAuB,cAAkB,KAAM,kFAEtB,oBAAzBA,WAAoB,aAC5BA,UAAU4rB,eAEsC,mBAAxC5rB,WAAU4rB,WAAyB,iBAC3C5rB,UAAU4rB,WAAW5Y,mBAQzBhT,UAAU4rB,WAAW5Y,eAAege,cAAgB,SAAU3tB,EAAS+E,GAgBnE,GAdwB,kBAAb,IACPA,EAAW/E,EACXA,GACI4tB,UAAW,EACXC,SAAU,KAGS,gBAAb,KACV7tB,GACI4tB,UAAW5tB,EACX6tB,SAAU,MAIb9oB,EACD,KAAM,6CAEVpI,WAAUgT,eAAe1N,OAAOjC,EAAS,SAAUgF,EAAKC,GAChDD,GACAhE,QAAQQ,MAAM,4BAA6BwD,EAE/C,IAAIvJ,GAAOkB,UAAU4rB,WAAW5Y,eAAeme,eAAe7oB,EAC9DjE,SAAQC,IAAIgE,GACZF,EAASC,GAAO+oB,MAAO9oB,EAAO+oB,YAAavyB,KAAMA,OAIzDkB,UAAU4rB,WAAW5Y,eAAeme,eAAiB,SAAUryB,GAC3D,GAAIwJ,MAAagpB,KAAiBC,EAAmB,EAAGC,EAAgB,KAAMC,EAAU,IACxF,IAAI3yB,EAAKwJ,QAAUxJ,EAAKwJ,iBAAkB4G,OAAO,CAC7CoiB,EAAaxyB,EAAKwJ,OAClBipB,EAAmBD,EAAWvtB,MAC9B,KAAK,GAAIiB,GAAI,EAAOusB,EAAJvsB,EAAsBA,IAElCwsB,EAAgBF,EAAWtsB,GACvBwsB,EAAc1yB,MAAQ0yB,EAAc1yB,KAAK4yB,aACzCD,KAEAA,EAAQloB,WAAaioB,EAAc1yB,KAAK4yB,WAAWC,WAAWrpB,OAAO,GAAGiB,WACxEkoB,EAAQryB,WAAaoyB,EAAc1yB,KAAKM,WACxCqyB,EAAQnf,QAAUkf,EAAc1yB,KAAKwT,QACrCmf,EAAQG,aAAeJ,EAAc1yB,KAAK4yB,WAAWC,WAAW7yB,KAChE2yB,EAAQI,eAAiBL,EAAc1yB,KAAK4yB,WAAWC,WAAWrpB,OAAO,GAAGiX,KAC5EkS,EAAQjoB,MAAQgoB,EAAc1yB,KAAK0K,MACnCioB,EAAQK,cAAgBN,EAAc1yB,KAAKgzB,cAC3CxpB,EAAO3B,KAAK8qB,GACZA,EAAU,KACVD,EAAgB,MAI5B,MAAOlpB,IAIXtI,UAAU4rB,WAAW5Y,eAAeyb,aAAe,SAAUxC,EAAU9Q,EAAO4W,EAAeC,EAAcC,GAEvG,GAAyB,mBAAd,UAA2B,KAAM,0DAC5ClzB,MAAKktB,SAAWA,EAChBltB,KAAKoc,SACLpc,KAAKmzB,mBACLnzB,KAAKozB,QAAU,iBAAmBjzB,KAAKsR,MAAuB,IAAhBtR,KAAKC,SAAmB,GACtEJ,KAAKqzB,gBAAkB,IAAMrzB,KAAKozB,QAClCpzB,KAAKkzB,eAAiBA,EACtBlzB,KAAKszB,gBAAgBL,EACrBjzB,KAAKgzB,cAA0C,gBAAnB,IAAgD,MAAjBA,EAAwBA,GAAkBhD,UAAU,EAAMuD,mBAAmB,GACxIvzB,KAAKkF,KAAKgoB,GACVltB,KAAKotB,UAAUhR,IAInBnb,UAAU4rB,WAAW5Y,eAAeyb,aAAa/X,WAE7CzS,KAAM,SAAUgoB,GACZltB,KAAKktB,SAAWltB,KAAKitB,gBAAgBC,GACrCltB,KAAKqtB,kBACLrtB,KAAKstB,eAAiBttB,KAAKktB,SAAShrB,cAAc,wBAClDlC,KAAKutB,eAITE,cAAe,SAAUxI,EAAMyI,EAAUC,GACrCroB,QAAQU,KAAK,8BAA+Bif,EAAMyI,EAAUC,IAGhEC,WAAY,SAAUxR,GAClB9W,QAAQU,KAAK,2BAA4BoW,IAG7CyR,aAAc,SAAU5I,EAAM/hB,GAC1BoC,QAAQU,KAAK,6BAA8Bif,IAG/CuO,UAAW,SAAUpX,GACjB9W,QAAQU,KAAK,0BAA2BoW,IAG5CqX,YAAa,WACTnuB,QAAQU,KAAK,8BAEjBitB,aAAc,WACVjzB,KAAKszB,eAAgB,EACrBtzB,KAAKktB,SAAShrB,cAAclC,KAAKqzB,iBAAiB5nB,aAAa,WAAW,GAC1EzL,KAAK0zB,iBAAiB,YAG1BtG,UAAW,SAAUhR,EAAO0R,EAAa6F,GACrC,GAAIvX,GAASA,YAAiBjM,OAAO,CAC5B2d,GAAqC,IAAtB9tB,KAAKoc,MAAMpX,QAE3BhF,KAAK+tB,aAEO,WAAbD,GAAsC,WAAZ6F,IACzB3zB,KAAKszB,eAAgB,EACrBtzB,KAAKktB,SAAShrB,cAAclC,KAAKqzB,iBAAiB5nB,aAAa,WAAW,GAC1EzL,KAAK0zB,iBAAiB,WAG1B,KAAK,GAAIztB,GAAI,EAAGA,EAAImW,EAAMpX,OAAQiB,IAC9BjG,KAAKoc,MAAMxU,KAAKwU,EAAMnW,IACtBjG,KAAKmzB,gBAAgBvrB,KAAKwU,EAAMnW,GAAG5F,YACnCL,KAAKguB,YAAY5R,EAAMnW,MAKnC2Y,OAAQ,SAAUxC,GACTA,IAEMA,YAAiBjM,QAA4B,gBAAX,KACzCiM,GAASA,IAEbpc,KAAKotB,UAAUhR,GAAO,KAG1BzU,MAAO,WACH3H,KAAK+tB,aACL/tB,KAAK6tB,gBAGTE,WAAY,WACR/tB,KAAKoc,SACLpc,KAAKmzB,kBAGL,KAFA,GAAIlF,GAAKjuB,KAAKstB,eAAeY,WAEtBD,GACHjuB,KAAKstB,eAAeroB,YAAYgpB,GAChCA,EAAKjuB,KAAKstB,eAAeY,YAIjCF,YAAa,SAAU/I,GACnB,GAAIkJ,GAAKnuB,KAEL4J,EAAU9I,SAASsB,cAAc,OACjCgsB,EAAattB,SAASsB,cAAc,QACpCisB,EAAc,KACduF,EAAQ,KACRrF,EAAUztB,SAASsB,cAAc,OACjCqI,EAAQ3J,SAASsB,cAAc,QAC/ByxB,EAAiB/yB,SAASsB,cAAc,OACxC0xB,EAAiBhzB,SAASsB,cAAc,QACxCssB,EAAe5tB,SAASsB,cAAc,OAG1CwH,GAAQ9G,UAAY,kBACpBsrB,EAAWtrB,UAAY,uCACvByrB,EAAQzrB,UAAY,kBACpB2H,EAAM3H,UAAY,4BAClB+wB,EAAe/wB,UAAY,aAC3BgxB,EAAehxB,UAAY,qCAC3B4rB,EAAa5rB,UAAY,uDAEzB2H,EAAM/H,UAAYuiB,EAAKxa,MAGvBb,EAAQtH,YAAY8rB,GAEe,GAA/BpuB,KAAKgzB,cAAchD,WACnB3B,EAAcvtB,SAASsB,cAAc,OACrCisB,EAAYvrB,UAAY,yBACpBmiB,EAAK1R,SACLqgB,EAAQ9yB,SAASsB,cAAc,OAC/BwxB,EAAMvxB,IAAMrC,KAAK+sB,aAAa9H,EAAK1R,SAAWvP,MAAO,GAAIsK,OAAQ,KACjE+f,EAAY/rB,YAAYsxB,IACjB3O,EAAK8N,gBACZa,EAAQ9yB,SAASsB,cAAc,KAC/BwxB,EAAM9wB,UAAY,aAAemiB,EAAK8N,cACtC1E,EAAY/rB,YAAYsxB,IAG5BhqB,EAAQtH,YAAY+rB,IAGxBE,EAAQjsB,YAAYmI,GACpBopB,EAAevxB,YAAYwxB,GAC3BD,EAAevxB,YAAYosB,GAE3BH,EAAQjsB,YAAYuxB,GACpBjqB,EAAQtH,YAAYisB,GACpBJ,EAAGb,eAAehrB,YAAYsH,GAG9B,WACIkqB,EAAe3rB,iBAAiB,QAAS,SAAUtC,GAC/CA,EAAE6F,iBACFzK,UAAUmJ,WAAWC,YAAYE,SAAW0a,EAAK4N,aAAgBxyB,WAAc4kB,EAAK5kB,WAAcmK,WAAaya,EAAKza,WAAaC,MAAQwa,EAAKxa,UAGlJikB,EAAavmB,iBAAiB,QAAS,SAAUtC,GAC7CA,EAAE6F,gBAChB,IAAIqoB,GAAa,WAChB,GAAIpF,GAAYR,EAAGS,cAAc3J,GAC7B+O,EAAS7F,EAAG/R,MAAMuS,GAAWtuB,WAC7B6I,EAASwlB,EAAa/pB,WAAWA,WAAWA,UAC/B,KAAbgqB,IACHR,EAAG/R,MAAMjZ,OAAOwrB,EAAW,GAC3BR,EAAGgF,gBAAgBhwB,OAAOgrB,EAAGgF,gBAAgB/xB,QAAQ4yB,GAAS,GAC9D9qB,EAAOvE,WAAWM,YAAYiE,GAC9BilB,EAAGN,aAAa5I,EAAM0J,IAGrBR,GAAG6E,cAAcO,kBACnBtyB,UAAU8R,cAAcC,SACvBvI,MAAO,yBACPjF,QAAS,6JAETyuB,cAAe,SAAU,UACzBppB,OAAQhF,EAAEgpB,eACR,SAAUhpB,GACZkuB,KACCG,KAAKl0B,OAEP+zB,OAGQ9O,IAGPkP,WAAY,SAAUC,GAElB,MADAA,GAAKA,EAAGC,yBAEJvwB,KAAMswB,EAAGtwB,KAAOxC,OAAOgzB,QACvBvwB,IAAKqwB,EAAGrwB,IAAMzC,OAAOizB,UAI7BlH,gBAAiB,WACb,GAAI2B,GAAqBluB,SAASsB,cAAc,OAC5C6sB,EAAgBnuB,SAASsB,cAAc,OACvC8sB,EAAmBpuB,SAASsB,cAAc,OAC1C+sB,EAAkBruB,SAASsB,cAAc,OACzCoyB,EAAkB1zB,SAASsB,cAAc,OACzCqyB,EAAiB3zB,SAASsB,cAAc,SACxCsyB,EAAc5zB,SAASsB,cAAc,SACrCgtB,EAAStuB,SAASsB,cAAc,UAChCitB,EAAkBvuB,SAASsB,cAAc,MAE7CqyB,GAAehpB,aAAa,OAAQ,YAChCzL,KAAKszB,cACLmB,EAAehpB,aAAa,UAAW,WAEvCgpB,EAAejS,gBAAgB,WAGnCwM,EAAmBlsB,UAAY,0CAC/BmsB,EAAcnsB,UAAY,+CAC1BmsB,EAAcvsB,UAAY,mBAC1BwsB,EAAiBpsB,UAAY,2BAC7BqsB,EAAgBrsB,UAAY,WAC5B0xB,EAAgB1xB,UAAY,4BAC5BssB,EAAOtsB,UAAY,yCACnBusB,EAAgBvsB,UAAY,iGAE5BssB,EAAO1sB,UAAY,sBACnBgyB,EAAYhyB,UAAY,4BACxBgyB,EAAYjpB,aAAa,MAAOzL,KAAKozB,SACrCqB,EAAe50B,GAAKG,KAAKozB,QAEzBoB,EAAgBlyB,YAAYmyB,GAC5BD,EAAgBlyB,YAAYoyB,GAC5B1F,EAAmB1sB,YAAY2sB,GAC/BE,EAAgB7sB,YAAY8sB,GAC5BF,EAAiB5sB,YAAY6sB,GAC7BD,EAAiB5sB,YAAYkyB,GAC7BtF,EAAiB5sB,YAAY+sB,GAC7BL,EAAmB1sB,YAAY4sB,GAC3BlvB,KAAKkzB,iBACLsB,EAAgB5wB,MAAMO,QAAU,QAEpCnE,KAAKktB,SAAS5qB,YAAY0sB,IAG9BzB,YAAa,WACT,GAAIY,GAAKnuB,KACL0tB,EAAW,CAEfS,GAAGjB,SAAShrB,cAAc,iBAAiBiG,iBAAiB,QAAS,WACjEgmB,EAAGwG,uBAAwB,SAAUC,GACjC,GAAsBC,GAAlBC,EAAe,EAAkBC,IACrC,IAAIH,YAAmBzkB,OAAO,CAC1B0kB,EAAgBD,EAAQ5vB,MACxB,KAAK,GAAIiB,GAAI,EAAO4uB,EAAJ5uB,EAAmBA,IAC0B,IAArDkoB,EAAGgF,gBAAgB/xB,QAAQwzB,EAAQ3uB,GAAG5F,cACtC8tB,EAAG/R,MAAMxU,KAAKgtB,EAAQ3uB,IACtB8uB,EAAWntB,KAAKgtB,EAAQ3uB,IACxBkoB,EAAGH,YAAY4G,EAAQ3uB,IACvBkoB,EAAGgF,gBAAgBvrB,KAAKgtB,EAAQ3uB,GAAG5F,YACnCy0B,IAIJA,GAAe,GACf3G,EAAGP,WAAWmH,QAM9B5G,EAAGjB,SAAShrB,cAAclC,KAAKqzB,iBAAiBlrB,iBAAiB,SAAU,WACnEnI,KAAKg1B,SACL7G,EAAGuF,iBAAiB,WAKpBvF,EAAGqF,cAGHrF,EAAGsF,cACHtF,EAAGuF,iBAAiB,aAK5BvF,EAAGuB,aAAeC,SAASrc,OAAO6a,EAAGb,gBACjCsC,UAAW,IACXpf,SAAU,SAAU3P,GAChB,GAAI8sB,GAAWQ,EAAG0B,sBAAsBhvB,EAAIokB,MACxC6K,EAAM3B,EAAG/R,MAAMsR,EAEnB,IAAeC,EAAXD,EACA,IAAK,GAAIznB,GAAIynB,EAAW,EAAQC,GAAL1nB,EAAeA,IACtCkoB,EAAG/R,MAAMnW,EAAI,GAAKkoB,EAAG/R,MAAMnW,OAG/B,KAAK,GAAIA,GAAIynB,EAAW,EAAGznB,GAAK0nB,EAAU1nB,IACtCkoB,EAAG/R,MAAMnW,EAAI,GAAKkoB,EAAG/R,MAAMnW,EAInCkoB,GAAG/R,MAAMuR,GAAYmC,EACrB3B,EAAGV,cAAcqC,EAAKpC,EAAUC,IAEpCoC,QAAS,SAAUlvB,GACf6sB,EAAWS,EAAG0B,sBAAsBhvB,EAAIokB,UAKpD0P,oBAAqB,SAAUrwB,EAAS+E,GACpCpI,UAAUgT,eAAejD,WAAW1M,EAAS,SAAUgF,EAAK2rB,GACpD3rB,EACAhE,QAAQQ,MAAM,+BAAgCwD,GAE1C2rB,GACA5rB,EAAS4rB,MAMzBrG,cAAe,SAAU3J,GACrB,MAAOjlB,MAAKoc,MAAMhb,QAAQ6jB,IAG9B4K,sBAAuB,SAAU5K,GAE7B,IADA,GAAI/hB,GAAQ,EAC4B,OAAhC+hB,EAAOA,EAAKoL,kBAChBntB,GAEJ,OAAOA,IAEX+pB,gBAAiB,SAAUC,GACvB,GAAIA,GAAYA,EAAShJ,UAAkC,IAAtBgJ,EAAShJ,SAC1C,MAAOgJ,EACJ,IAA0B,gBAAf,GAAyB,CAEvC,GADAA,EAAWpsB,SAASoB,cAAcgrB,GAE9B,MAAOA,EAEX,MAAM,uCAEV,KAAM,2DAEVH,aAAc,SAAU5rB,EAAKmD,GACzB,MAAKnD,GAIMF,UAAU8P,SAASG,YAAY/P,EAAKmD,GAHpC,IAMfovB,iBAAkB,SAAUwB,GACxB,GAAIC,GAAiBn1B,KAAKktB,SAAShrB,cAAc,gBACnC,WAAVgzB,EACAC,EAAe3S,gBAAgB,YAE/B2S,EAAe1pB,aAAa,WAAY;AC1apD,GAAI2pB,IAEJA,KAAMrrB,QAAQsrB,OAAO,sBAErBD,IAAIE,UAAU,kBACZ,aAAc,UAAW,WAAY,SAASC,EAAYC,EAASC,GACjE,OACEC,KAAM,SAASC,EAAOC,EAAMC,GAC1B,GAAIC,GAAkBruB,EAASsuB,EAAgBC,EAAeC,CAwC9D,OAvCAA,GAAUlsB,QAAQlF,QAAQgxB,EAAMK,mBAAqBV,GACrDlwB,QAAQC,IAAI,MAAM0wB,GAClBF,EAAiB,EACmB,MAAhCF,EAAMM,wBACRR,EAAMS,OAAOP,EAAMM,uBAAwB,SAAS1yB,GAClD,MAAOsyB,GAAiB9oB,SAASxJ,EAAO,MAG5CuyB,GAAgB,EAChBF,GAAmB,EACiB,MAAhCD,EAAMQ,wBACRV,EAAMS,OAAOP,EAAMQ,uBAAwB,SAAS5yB,GAElD,MADAuyB,IAAiBvyB,EACbuyB,GAAiBF,GACnBA,GAAmB,EACZruB,KAFT,SAMJA,EAAU,WACR,GAAI6uB,GAAeC,EAAWC,EAAcC,CAK5C,OAJAA,GAAeR,EAAQ3nB,SAAW2nB,EAAQtrB,YAC1C2rB,EAAgBV,EAAKhjB,SAAS7O,IAAM6xB,EAAKtnB,SACzCioB,EAAYD,EAAgBG,EAC5BD,EAAeD,GAAaN,EAAQ3nB,SAAWynB,EAC3CS,GAAgBR,EACdT,EAAWmB,QACNf,EAAMgB,MAAMd,EAAMe,gBAElBjB,EAAMkB,OAAOhB,EAAMe,gBAEnBJ,EACFV,GAAmB,EADrB,QAITG,EAAQrU,GAAG,SAAUna,GACrBkuB,EAAMmB,IAAI,WAAY,WACpB,MAAOb,GAAQtT,IAAI,SAAUlb,KAExBguB,EAAS,WACd,MAAII,GAAMkB,6BACJpB,EAAMgB,MAAMd,EAAMkB,8BACbtvB,IADT,OAIOA,KAEP;ACrDZ,GAAIuvB,oBAAqBA,sBAEzBA,oBAAmBC,iBAAmB,SAAUC,EAAaC,GAGzD,IAAK,GAFDC,MACAC,EAAa,KACRx3B,EAAK,EAAGA,EAAKs3B,EAAUnyB,OAAQnF,IACpC,IAAK,GAAIoG,GAAI,EAAGA,EAAIixB,EAAYlyB,OAAQiB,IAAK,CACzCoxB,IACA,IAAI1wB,GAAMuwB,EAAYjxB,GAAGlG,KAAOm3B,EAAYjxB,GAAGlG,KAAOm3B,EAAYjxB,EAC9DkxB,GAAUt3B,IAAO8G,EAAItG,aACrBg3B,EAAWh3B,WAAasG,EAAItG,WACxBsG,GACA0wB,EAAW9jB,QAAU5M,EAAI4M,QACzB8jB,EAAWtE,cAAgBpsB,EAAIosB,cAC/BsE,EAAW5sB,MAAQ9D,EAAI8D,MACpB9D,EAAIisB,YACHyE,EAAWxE,aAAelsB,EAAIisB,WAAW0E,MACzCD,EAAW7sB,WAAa7D,EAAIisB,WAAWpoB,aAGvC6sB,EAAWxE,aAAelsB,EAAIksB,aAC9BwE,EAAW7sB,WAAa7D,EAAI6D,cAGhC6sB,EAAW9jB,QAAU,GACrB8jB,EAAW5sB,MAAQ,cAEvB2sB,EAAcxvB,KAAKyvB,IAEvBA,EAAa,KAGpB,MAAOD,IAGZJ,mBAAmBO,oBAAsB,WACrC,OACI5E,YACIiC,SACI1M,SAAY,iBACZnoB,UAGRkH,SACIuwB,iBACIzsB,OAAU,WACVwI,QAAW,4GACX9I,MAAS,UAETM,OAAU,WACVwI,QAAW,2GACX9I,MAAS,UAEbnH,KAAQ,sQACRm0B,gBAAkB,GAEtBC,QACIC,gBAAmB,KACnBC,eAAkB,EAClBC,eAAkB,EAClBC,UAAW,GAEfC,WAAY,IAapBf,mBAAmBgB,WAAa,WAC5B,OACI,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,yBACA,yBACA,2BAKRhB,mBAAmBiB,OAAS,SAAUC,GAC7BA,EAAOxB,SAAYwB,EAAOC,MAAMzB,SACjCwB,EAAOrB,SAKf,IAAIuB,iBAAkBruB,QAAQsrB,OAAO,gBAAgB,oBAAoBC,UAAU,YAAa,WAC5F,OACI+C,SAAU,IACV3C,KAAM,SAAUC,EAAO9wB,EAASgxB,GAyB5B,QAASyC,GAAWC,GAChB,GAAI3C,GAAOpF,EAAE,QACboF,GAAK,GAAGxjB,OAAS,WACbvN,EAAQyb,KAAK,MAAOiY,GACpB3C,EAAKnX,UAETmX,EAAKtV,KAAK,MAAOiY,GA9BrB1zB,EAAQyb,KAAK,MAAO,gCAAkCuV,EAAM2C,UAAY,QAExE3C,EAAM4C,SAAS,WAAY,WACvB,GAAIC,GAAO7C,EAAM0C,QAEK,WAAlB1C,EAAM8C,SACN13B,UAAU8P,SAASa,MAAMV,YAAYwnB,GACjC10B,MAAO6xB,EAAM+C,UACbtqB,OAAQunB,EAAMgD,YACf,SAAUvvB,EAAKwvB,GACdJ,EAAOI,EACPR,EAAWI,KAGfz3B,UAAU8P,SAASa,MAAMF,UAAUgnB,GAC/B10B,MAAO6xB,EAAM+C,UACbtqB,OAAQunB,EAAMgD,YACf,SAAUvvB,EAAKwvB,GACdJ,EAAOI,EACPR,EAAWI,UAiBnCN,iBAAgB9C,UAAU,WAAY,aAAc,SAAUC,GAC1D,MAAO,UAAUI,EAAO9wB,EAASgxB,GAC7BA,EAAM4C,SAAS,UAAW,SAAUh1B,GAChC,GAAIyO,GAAM,EACNzO,GACAxC,UAAU8P,SAASa,MAAMF,UAAUjO,GAC/BO,MAAO1C,OAAOgQ,WACdhD,OAAQhN,OAAOiQ,aAChB,SAAUjI,EAAKwvB,GACVA,GACA5mB,EAAM4mB,EACNj0B,EAAQyb,KAAK,QAAS,kBAAoBpO,EAAM,uDAEhDA,EAAM,GACNrN,EAAQyb,KAAK,QAAS,2BAE1Bzb,EAAQsa,KACJ4Z,kBAAmB,aAM3B7mB,EAAM,GACNrN,EAAQyb,KAAK,QAAS,0BACtBzb,EAAQsa,KACJ4Z,kBAAmB,iBAOvCX,gBAAgB9C,UAAU,cAAe,aAAc,SAASC,GAC5D,OACI8C,SAAU,IACV1C,OACIqD,MAAO,KAEXtD,KAAM,SAASC,EAAO9wB,EAASgxB,GAC3BhxB,EAAQ+c,GAAG,OAAQ,WACf/c,EAAQ8D,SAAS,QAClBiZ,GAAG,QAAS,cAIf+T,EAAMS,OAAO,QAAS,SAAS6C,GAC3Bp0B,EAAQ4a,YAAY,aAMpC2Y,gBAAgB9C,UAAU,0BAA2B,WACjD,MAAO,UAASK,GACRA,EAAMuD,OACNvD,EAAMwD,MAAM,0BAKxBf,gBAAgB9C,UAAU,gBAAiB,SAAUG,GACjD,OACI4C,SAAU,IACV1C,SACAD,KAAM,SAAUC,EAAOC,EAAMC,GAGzB,QAASuD,KACDzD,EAAMlsB,SACNgsB,EAAS4D,OAAO1D,EAAMlsB,SAEtBksB,EAAM7I,WACN6I,EAAM7I,SAAShlB,QAAQ,wBACvB0oB,EAAEoF,GAAMhW,KAAK,oBAAoBnB,UAErCkX,EAAM7I,SAAW,KACjB6I,EAAMlsB,QAAUgsB,EAAS,WACrB,GAAI9uB,IACA0V,MAAK,EACLsO,KAAI,EACJvO,MAAM,EAEVuZ,GAAM7I,SAAW0D,EAAEoF,GAAMrQ,YAAY5e,IACtC,KAlBPgvB,EAAM7I,SAAW,KACjB6I,EAAMlsB,QAAU,KAoBhB2vB,IACAvD,EAAM4C,SAAS,gBAAiB,SAAUQ,EAAQK,GAC1CL,GACItD,EAAM7I,UACNsM,UAQxBhB,gBAAgBmB,WAAW,oBAAqB,SAAU,OAAO,WAAW,aAAc,SAAUrB,EAAQsB,EAAK/D,EAASF,GAYtH,QAASkE,GAAepwB,GACpB6uB,EAAOwB,aAAep4B,OAAOiQ,YAC7B2mB,EAAOyB,YAAcr4B,OAAOgQ,YAAc,IAC1C4mB,EAAO0B,aAAez5B,KAAK6lB,KAAK,EAAIkS,EAAOyB,YAAc,IACrDtwB,IAC0B,GAAtB6uB,EAAOyB,aAA2C,GAAvBzB,EAAOwB,aAClChwB,WAAW,WACP+vB,EAAepwB,IAChB,MAEHA,IACK6uB,EAAOxB,SAAYwB,EAAOC,MAAMzB,SACjCwB,EAAOrB,WAMvB,QAASgD,GAAmBjF,GACxB,GAAyC,GAArCsD,EAAOn4B,KAAK23B,OAAOE,gBAA4D,GAArCM,EAAOn4B,KAAK23B,OAAOE,eAAqB,CAKlF,IAAK,GAJDkC,MACArK,EAAc,EACdoF,EAAgBD,EAAQ5vB,OAEnBiB,EAAI,EAAO4uB,EAAJ5uB,EAAmBA,IAC3BA,EAAI,GAAK,GACT6zB,EAAKrK,MACLqK,EAAKrK,GAAa7nB,KAAKgtB,EAAQ3uB,MAE/B6zB,EAAKrK,GAAa7nB,KAAKgtB,EAAQ3uB,IAE/BwpB,IAIRyI,GAAOn4B,KAAK60B,QAAUkF,MACpB,IAA0C,IAArC5B,EAAOn4B,KAAK23B,OAAOE,eAAsB,CAChD,GAAiB3xB,GAAGqU,EAAhByf,KACAA,IACJ,KAAK9zB,EAAI,EAAGqU,EAAI,GAAIrU,EAAI2uB,EAAQ5vB,OAAQiB,IAChCA,EAAI,IAAM,IACVqU,IACAyf,EAAOzf,OAEXyf,EAAOzf,GAAG1S,KAAKgtB,EAAQ3uB,GAE3BiyB,GAAOn4B,KAAK60B,QAAUmF,MAEtB7B,GAAOn4B,KAAK60B,QAAUA,EAO9B,QAASV,GAAKn0B,GAUV,GATAm4B,EAAOn4B,KAAK23B,OAAS33B,EAAK23B,OAErBQ,EAAOn4B,KAAK23B,SACbQ,EAAOn4B,KAAK23B,QACRC,gBAAiB,KACjBC,eAAgB,EAChBC,eAAgB,IAGrB93B,EAAK60B,QACJ,GAAIoF,GAAc3Z,OAAOtgB,EAAK60B,QAAQ5vB,OAI1C60B,GAAmB95B,EAAK60B,SAGrBoF,IACC9B,EAAO+B,kBAAkBD,GAG7B9B,EAAOn4B,KAAKkH,QAAUlH,EAAKkH,QAYvBixB,EAAOn4B,KAAKkH,SAAWixB,EAAOn4B,KAAKkH,QAAQuwB,gBAC3CiC,EAAe,WACXhE,EAAS,WACAnF,EAGDA,EAAKlD,UAAU8K,EAAOn4B,KAAKkH,QAAQuwB,gBAFnClH,EAAO,GAAIrvB,WAAU4rB,WAAWC,SAASwD,KAAK,YAAa4H,EAAOn4B,KAAKkH,QAAQuwB,iBAIpF,OAINU,EAAOxB,SAAYwB,EAAOC,MAAMzB,SACjCwB,EAAOrB,SAmBf,QAASqD,GAAkB3wB,GACvB2uB,EAAOn4B,KAAOwJ,EAAOxJ,KACrBm4B,EAAOiC,UACPC,EAAclI,UAAU,CACxB,IAAImI,GAAc,IACd9wB,IAAUA,EAAOxJ,OAASgK,QAAQuwB,UAAW/wB,EAAOxJ,OAASwJ,EAAOxJ,KAAKkH,SAAWsC,EAAOxJ,KAAK23B,SAC5FnuB,EAAOxJ,KAAKkH,SAAWsC,EAAOxJ,KAAKkH,QAAQwwB,eAC3Cx2B,UAAU4rB,WAAW5Y,eAAege,cAAcmI,EAAc,SAAU9wB,EAAKixB,GAC3ErC,EAAOsC,eAAgB,EACvBC,EAAat6B,KAAK6lB,KAAKuU,EAAIlI,MAAQ+H,EAAcjI,UACjD5oB,EAAOxJ,KAAK60B,QAAU2F,EAAIx6B,KAE1Bm0B,EAAK3qB,EAAOxJ,MACZ26B,GAAc,EACXD,EAAa,GACZvC,EAAOyC,SACXzC,EAAOsC,gBAAkBjxB,EAAOxJ,KAAK60B,WAGzCsD,EAAOsC,eAAgB,EACvBH,EAAc9wB,EAAOxJ,KAAK4yB,WAAWiC,QAEjCrrB,EAAOxJ,KAAK4yB,YAAc0H,GAAeA,EAAY9wB,QAAU8wB,EAAYt6B,OAC3EwJ,EAAOxJ,KAAK60B,QAAUoC,mBAAmBC,iBAAiB1tB,EAAOxJ,KAAK4yB,WAAWiC,QAAQrrB,OAAQA,EAAOxJ,KAAK4yB,WAAWiC,QAAQ70B,OAEpIm0B,EAAK3qB,EAAOxJ,MACZm4B,EAAOsC,gBAAkBjxB,EAAOxJ,KAAK60B,UAQjD,QAASgG,KAEL35B,UAAUoO,UAAUG,mBAAmB,SAAUlG,EAAKC,GAClD,GAAID,EAEA,WADAhE,SAAQQ,MAAM,UAAWwD,EAG7B,IAAGC,EAAO1J,GACNq6B,EAAkB3wB,OACjB,CACD,GAAI5C,IACA5G,KAAKi3B,mBAAmBO,sBAE5B2C,GAAkBvzB,MAY9B,QAASk0B,KACLJ,EAAa,EACbL,EAAclI,UAAU4I,EAAY,EACpCJ,GAAc,EACdxC,EAAOn4B,KAAK60B,WAGhB,QAASmG,GAAkBC,GACvBH,IACAD,IAxMJ,GAAItK,GAAO,KACPmK,EAAa,EACbK,EAAc,EACdJ,GAAc,CAClBxC,GAAO+C,eAAe,QACtB/C,EAAO+B,kBAAkB,EACzB/B,EAAOgD,SAAW,WACd3F,EAAWoE,YAAcr4B,OAAOgQ,YAAc,KA8GlD4mB,EAAOiD,SAAW,SAAUhvB,GACxB,GAAIA,EAAM,CACN,GAAIivB,GAAQ5K,EAAE,WAAYrkB,KAAMA,GAOhC,OANAivB,GAAMxb,KAAK,UAAUvG,KAAK,SAAUnW,EAAO2B,GACvC,GAAIxC,GAAMwC,EAAQxC,GAClBiD,SAAQC,IAAI,eAAgBlD,EAAKA,EAAIjB,QAAQ,SAC7CiB,EAAMA,GAAiC,IAA1BA,EAAIjB,QAAQ,WAAmBiB,EAAIuL,QAAQ,UAAW,WAAavL,EAChFwC,EAAQxC,IAAMA,GAA8B,IAAvBA,EAAIjB,QAAQ,QAAgBiB,EAAM,QAAUA,IAE9Dm3B,EAAK6B,YAAYD,EAAMjvB,SAItC,IAAIiuB,IAAiBlI,UAAU,EAAEC,SAAS,GAuD1CyI,KAkBA35B,UAAUoO,UAAUoB,UAAUsqB,GAE9B95B,UAAUoO,UAAUmB,SAAS,SAAUjH,GACnCsxB,IACAX,EAAkB3wB,KAGtB2uB,EAAOxmB,UAAY,SAAUvQ,EAAK6W,GAC9B,GAAI1T,KACJ,OAAKnD,IAIG6W,EAAS1J,SACThK,EAAQgK,OAAS0J,EAAS1J,QAE1B0J,EAAShU,QACTM,EAAQN,MAAQgU,EAAShU,OAEtB/C,UAAU8P,SAASW,UAAUvQ,EAAKmD,IATlC,IAaf4zB,EAAOhnB,YAAc,SAAU/P,EAAK6W,GAChC,GAAI1T,KACJ,OAAKnD,IAIG6W,EAAS1J,SACThK,EAAQgK,OAAS0J,EAAS1J,QAE1B0J,EAAShU,QACTM,EAAQN,MAAQgU,EAAShU,OAEtB/C,UAAU8P,SAASG,YAAY/P,EAAKmD,IATpC,IAaf4zB,EAAOoD,iBAAmB,SAAUrG,GAEhCh0B,UAAUmJ,WAAWC,YACjBE,SAAU0qB,EAAOpC,aACjBxyB,WAAY40B,EAAO50B,WACnBoK,MAAOwqB,EAAOxqB,MACdD,WAAYyqB,EAAOzqB,cAI3B0tB,EAAOyC,OAAS,WACRzC,EAAOn4B,KAAKkH,SAAWixB,EAAOn4B,KAAKkH,QAAQwwB,iBAAmBiD,GAAeD,EAAa,IAC1FC,GAAc,EACdxC,EAAOqD,UAAW,EACId,EAAlBK,EAAc,IAEd75B,UAAU0T,QAAQxO,OAClB20B,IACAV,EAAclI,UAAW4I,EAEzB75B,UAAU4rB,WAAW5Y,eAAege,cAAcmI,EAAe,SAAU9wB,EAAKixB,GAC5Et5B,UAAU0T,QAAQvO,OAClBs0B,GAAc,CACd,IAAI7F,GAAgB0F,EAAIx6B,KAAKiF,MAE7B,IAAyC,GAArCkzB,EAAOn4B,KAAK23B,OAAOE,gBAA4D,GAArCM,EAAOn4B,KAAK23B,OAAOE,eAI7D,IAAK,GAHDnI,GAAcyI,EAAOn4B,KAAK60B,QAAQ5vB,OAG7BiB,EAAI,EAAO4uB,EAAJ5uB,EAAmBA,IAC3BA,EAAI,GAAK,GACTiyB,EAAOn4B,KAAK60B,QAAQnF,MACpByI,EAAOn4B,KAAK60B,QAAQnF,GAAa7nB,KAAK2yB,EAAIx6B,KAAKkG,MAE/CiyB,EAAOn4B,KAAK60B,QAAQnF,GAAa7nB,KAAK2yB,EAAIx6B,KAAKkG,IAC/CwpB,SAIR,KAAK,GAAIxpB,GAAI,EAAO4uB,EAAJ5uB,EAAmBA,IAC/BiyB,EAAOn4B,KAAK60B,QAAQhtB,KAAK2yB,EAAIx6B,KAAKkG,GAI1C+wB,oBAAmBiB,OAAOC,QAO1CA,EAAOpB,IAAI,sBAAuB,WAE9BoB,EAAO+C,eAAgBzK,EAAE,gCAAgCgL,QAAQltB,SAAS,IAAI,IAC1E,IAAImtB,GAASjL,EAAE,gCAAgCxrB,MACnDkzB,GAAO+B,kBAAkB/B,EAAO+B,kBAAkB,EAE3CwB,EAAS,GACRjL,EAAE,kBAAkBjL,aAChBlJ,MAAK,EACLsO,KAAI,EACJvO,MAAM","file":"main-1739f76191.js","sourcesContent":["//\"use strict\";\n\nfunction Packet(id, cmd, data) {\n    this.id = id ? id : new Date().toISOString() + Math.random();\n    this.cmd = cmd;\n    this.data = data;\n    this.instanceId = null;\n}\n\n/// ref: https://github.com/BuildFire/sdk/wiki\nvar buildfire = {\n    isFileServer: function(url){\n        return (url.indexOf(\"s3.amazonaws.com\") !== -1);\n    }\n    , isWeb: function(){\n        return (window.location.protocol.indexOf(\"http\") == 0);\n    }\n    , logger: {\n        _suppress: window.location.href.indexOf('localhost') > 0 || window.location.href.indexOf('127.0.0.1') > 0\n        ,attachRemoteLogger:function (tag){\n\n            // dont attach twice\n            if(document.getElementById('BuildFireAppDebuggerScript')) {\n                alert('debugger already attached');\n                return;\n            }\n\n            if(!tag)\n                tag = prompt('Enter is a unique tag to send your logs to');\n\n            if(!tag) return;\n\n            var header = document.querySelector('head');\n            var script = document.createElement('script');\n            script.src='http://debug.buildfire.com/target/target-script-min.js#' + tag;\n            script.id = 'BuildFireAppDebuggerScript';\n            header.appendChild(script);\n\n        }\n        , logMaxLength: 500\n        , clearHistory: function () {\n            buildfire.logger._getLogContainerDIV().innerHTML = '';\n        }\n        , _logContainerDIV: null\n        , _getLogContainerDIV: function () {\n            if (buildfire.logger._logContainerDIV)\n                return buildfire.logger._logContainerDIV;\n            else\n                return buildfire.logger._createLogContainerDIV();\n        }\n        , _createLogContainerDIV: function () {\n            var div = document.getElementById('__buildfireLog');\n            if (!div) {\n                div = document.createElement('div');\n                div.style.position = 'fixed';\n                div.style.left = div.style.top = 0;\n                div.style.width = '100%';\n                div.style.backgroundColor = 'black';\n                div.style.opacity = 0.9;\n                div.style.display = 'none';\n                div.style.zIndex = 9999;\n                buildfire.logger._logContainerDIV = div;\n\n\n\n                function filterOutLogs(className){\n                    var id= 'bf_style_filter';\n                    var styleBlock = document.querySelector('head #' + id );\n                    if(!styleBlock) {\n                        styleBlock = document.createElement('style');\n                        styleBlock.id = id;\n                        document.head.appendChild(styleBlock);\n                    }\n\n                    var logClassTypes=['.bflog-info','.bflog-log','.bflog-debug','.bflog-warn','.bflog-error'];\n                    var index = logClassTypes.indexOf('.' + className);\n                    if(index >=0) {\n                        logClassTypes.splice(index,1);\n                        styleBlock.innerHTML=logClassTypes.join(' , ') + ' { display:none;}';\n                    }\n                    else\n                        styleBlock.innerHTML='';\n\n                }\n\n                var select = document.createElement('select');\n                select.className = 'form-control';\n                select.onchange = function(){\n                    var value=select.options[select.selectedIndex].value;\n                    if(value=='close') {\n                        buildfire.logger.hideHistory();\n                        select.selectedIndex=0;\n                    }\n                    else\n                        filterOutLogs(value);\n                };\n                buildfire.logger.pushHistory(select);\n                function createFilterOption(text,toggleClass){\n                    var option = document.createElement('option');\n                    option.text = text;\n                    option.value = toggleClass;\n                    select.appendChild(option);\n                }\n\n                createFilterOption('Show all','');\n                createFilterOption('Info logs only','bflog-info');\n                createFilterOption('Logs only','bflog-log');\n                createFilterOption('Debug logs only','bflog-debug');\n                createFilterOption('Warning logs only','bflog-warn');\n                createFilterOption('Error logs only','bflog-error');\n                createFilterOption('<<< Close Debugger','close');\n\n            }\n            return div;\n        }\n        , showHistory: function () {\n            var div = buildfire.logger._getLogContainerDIV();\n            div.style.display = '';\n            if (!div.parentNode && document.body)\n                document.body.appendChild(div);\n        }\n        , hideHistory: function () {\n            var div = buildfire.logger._getLogContainerDIV();\n            div.style.display = 'none';\n        }\n        , pushHistory: function (element) {\n            if (typeof(element) == \"string\") {\n                var d = document.createElement('div');\n                d.innerHTML = element;\n                element = d;\n            }\n            var div = buildfire.logger._getLogContainerDIV();\n            div.appendChild(element);\n            if (div.childNodes.length > buildfire.logger.logMaxLength)\n                div.removeChild(div.childNodes[0]);\n        }\n        , init: function () {\n            //buildfire.logger._suppress = window.location.href.indexOf('http') >=0;\n\n            var qs = buildfire.parseQueryString();\n            buildfire.fid = qs.fid;\n\n            buildfire.logger._createLogContainerDIV();\n            ///hijack console\n            var l = console.log;\n            console.log = function (message) {\n                var dv = document.createElement('div');\n                dv.innerHTML = \"l: \" + message;\n                dv.className = 'bflog-log';\n                buildfire.logger.pushHistory(dv);\n                d.apply(console, arguments);\n            };\n\n            var d = console.debug;\n            console.debug = function (message) {\n                var dv = document.createElement('div');\n                dv.innerHTML = \"d: \" + message;\n                dv.className = 'bflog-debug bg-info';\n                buildfire.logger.pushHistory(dv);\n                d.apply(console, arguments);\n            };\n\n            var e = console.error;\n            console.error = function (message) {\n                var dv = document.createElement('div');\n                dv.innerHTML = \"e: \" + message;\n                dv.className = 'bflog-error bg-error';\n                buildfire.logger.pushHistory(dv);\n                e.apply(console, arguments);\n            };\n\n            var w = console.warn;\n            console.warn = function (message) {\n                var dv = document.createElement('div');\n                dv.innerHTML = \"w: \" + message;\n                dv.className = 'bflog-warn bg-warning';\n                buildfire.logger.pushHistory(dv);\n                w.apply(console, arguments);\n            };\n\n            var i = console.info;\n            console.info = function (message) {\n                var dv = document.createElement('div');\n                dv.innerHTML = \"i: \" + message;\n                dv.className = 'bflog-info bg-info';\n                buildfire.logger.pushHistory(dv);\n                i.apply(console, arguments);\n            };\n        }\n        , show: function () {\n            this._suppress = false;\n        }\n        , hide: function () {\n            this._suppress = true;\n        }\n        , error: function () {\n            if (!this._suppress)\n                console.error.apply(console, arguments);\n        }\n        , log: function () {\n            if (!this._suppress)\n                console.log.apply(console, arguments);\n        }\n        , warn: function () {\n            if (!this._suppress)\n                console.warn.apply(console, arguments);\n        }\n        , debug: function () {\n            if (!this._suppress)\n                console.debug.apply(console, arguments);\n        }\n    }\n    , _callbacks: {}\n    , parseQueryString: function () {\n        var query = window.location.search.substring(1);\n        var vars = query.split('&');\n        var obj = new Object();\n        for (var i = 0; i < vars.length; i++) {\n            var pair = vars[i].split('=');\n            obj[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n        }\n        return obj;\n    }\n    , options:{}\n    , parseMetaOptions: function(){\n        var options = {};\n\n        var tags = document.head.querySelector(\"meta[name=buildfire]\");\n        if(tags && tags.content) {\n            var sections = tags.content.split(\",\");\n            sections.forEach(function(section){\n               var s = section.split(\"=\");\n                options[s[0]] = s.length>1?s[1]:true;\n            });\n        }\n\n        return options;\n    }\n    ///custom events are super thus this implementation\n    , eventManager: {\n        events: {}\n        , add: function (event, handler, allowMultipleHandlers) {\n            if (typeof(handler) != 'function')throw (\"Invalid event handler\");\n\n            if (!allowMultipleHandlers) this.clear(event);\n\n            if (!this.events[event])\n                this.events[event] = [handler];\n            else\n                this.events[event].push(handler);\n\n            var eh = this.events[event];\n            return {\n                clear: function () {\n                    for (var i = 0; i < eh.length; i++)\n                        if (eh[i] === handler)\n                            eh.splice(i, 1);\n                }\n            };\n        }\n        , clear: function (event) {\n            this.events[event] = [];\n        }\n        , trigger: function (event, data) {\n            if (this.events[event])\n                for (var i = 0; i < this.events[event].length; i++) {\n                    try {\n                        this.events[event][i](data);\n                    }\n                    catch (e) {\n                        console.error(e);\n                    }\n                }\n        }\n    }\n    , _context: null\n    , get context() {\n        console.warn('buildfire.context is obsolete and will be removed soon');\n        return buildfire._context;\n    }\n    , set context(obj) {\n        buildfire._context = obj;\n    }\n    , init: function () {\n        // Listen to message from child window\n        window.removeEventListener('message', buildfire._postMessageHandler, false);\n        window.addEventListener('message', buildfire._postMessageHandler, false);\n\n        buildfire.options = buildfire.parseMetaOptions();\n\n        buildfire.logger.init();\n        //buildfire.logger.showHistory();\n\n\n        buildfire.appearance.insertHTMLAttributes();\n\n        if(!buildfire.options.disableTheme)\n            buildfire.appearance.attachCSSFiles();\n\n        if(!buildfire.options.disableSelect){\n            var mBody = document.getElementsByTagName('body');\n            mBody.addClass('noSelect');\n        }\n        \n    }\n    , _whitelistedCommands: [\"datastore.triggerOnUpdate\"\n        , \"datastore.triggerOnRefresh\"\n         ,\"userData.triggerOnUpdate\"\n        , \"userData.triggerOnRefresh\"\n        , \"messaging.onReceivedMessage\"\n        , \"history.triggerOnPop\"\n        , \"navigation.onBackButtonClick\"\n        , \"services.media.audioPlayer.triggerOnEvent\"\n        , \"auth.triggerOnLogin\"\n        , \"auth.triggerOnLogout\"\n        , \"logger.showHistory\"\n        , \"logger.attachRemoteLogger\"\n        , \"appearance.triggerOnUpdate\"\n        , \"services.bluetooth.ble.onConnect\"\n        , \"services.bluetooth.ble.onDisconnect\"\n        , \"services.bluetooth.ble._onSubscribeData\"\n        , \"device.triggerOnAppBackgrounded\"\n        , \"device.triggerOnAppResumed\"\n        , \"notifications.localNotification.onClick\"\n        ,\"geo.onPositionChange\"\n    ]\n    , _postMessageHandler: function (e) {\n        if (e.source === window) {\n            console.log(' >>>> IGNORE MESSAGE <<<< ');\n            return;\n        }//e.origin != \"null\"\n        console.info('buildfire.js received << ' + e.data, window.location.href);\n        var packet = JSON.parse(e.data);\n\n        if (packet.id && buildfire._callbacks[packet.id]) {\n            buildfire._callbacks[packet.id](packet.error, packet.data);\n            delete buildfire._callbacks[packet.id];\n        }\n        else if (buildfire._whitelistedCommands.indexOf(packet.cmd) + 1) {\n            var sequence = packet.cmd.split('.');\n\n            var obj = buildfire;\n            var parent = buildfire;\n            for (var i = 0; i < sequence.length; i++) {\n                if (i > 0)parent = obj;\n                if (obj[sequence[i]])\n                    obj = obj[sequence[i]];\n                else\n                    return; // sorry i cant help you\n            }\n            obj.apply(parent, [packet.data]);\n\n        }\n        else {\n            console.warn(window.location.href + ' unhandled packet', packet);\n            //alert('parent sent: ' + packet.data);\n        }\n    }\n    , _resendAttempts:0\n    , _sendPacket: function (packet, callback) {\n        if (typeof (callback) != \"function\")// handels better on response\n            callback = function (err, result) {\n                console.info('buildfire.js ignored callback ' + JSON.stringify(arguments));\n            };\n\n\n        // Commented the code to prevent the multiple insert hits\n\n        var timeout = setTimeout(function () {\n            \n            if(buildfire._resendAttempts < 15) {\n                var rerun ;\n\n                if (packet.cmd.indexOf('datastore') == 0\n                    && packet.cmd.indexOf('datastore.insert') != 0\n                    && packet.cmd.indexOf('datastore.bulkInsert') != 0\n                    && packet.cmd.indexOf('datastore.disableRefresh') != 0\n                )\n                    rerun=true;\n                else if (packet.cmd.indexOf('getContext') == 0 )\n                    rerun=true;\n\n                if(rerun)\n                {\n                    console.warn(\"calling\" + packet.cmd + ' again! total overall resend attempts ' + buildfire._resendAttempts);\n                    buildfire._sendPacket(packet, function (e, d) {\n                        buildfire._resendAttempts--;\n                        callback(e, d);\n                    });\n                    buildfire._resendAttempts++;\n                }\n            }\n        }, packet.cmd.indexOf('getContext') == 0? 250 : 1000);\n\n        var wrapper = function (err, data) {\n            clearTimeout(timeout); // commented this to remove the 'timeout is not defined' error.\n            callback(err, data);\n        };\n\n        buildfire._callbacks[packet.id] = wrapper;\n        packet.fid= buildfire.fid;\n        var p;\n        if (typeof(angular) != \"undefined\")\n            p = angular.toJson(packet);\n        else\n            p = JSON.stringify(packet);\n\n\n        console.info(\"BuildFire.js Send >> \" + p, window.location.href);\n        buildfire._parentPost(p,callback);  //if (parent)parent.postMessage(p, \"*\");\n    }\n    ,_parentPost: function (packet) {\n        if (parent)parent.postMessage(packet, \"*\");\n    }\n    , getContext: function (callback) {\n        if (buildfire._context)\n            callback(null, buildfire._context);\n        else {\n            var p = new Packet(null, 'getContext');\n            buildfire._sendPacket(p, function (err, data) {\n                if (data)\n                    buildfire._context = data;\n                callback(err, data);\n            });\n        }\n    }\n    /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-Navigation\n    , navigation: {\n        /**\n         * Navigate To plugin\n         * @pluginData {pluginId : pluginId,instanceId : instanceId,folderName:folderName,title:title }\n         */\n        navigateTo: function (pluginData) {\n\n            if (pluginData.pluginId\n                && pluginData.instanceId\n                && pluginData.folderName) {\n\n                var p = new Packet(null, 'navigation.navigateTo', {\n                    pluginId: pluginData.pluginId,\n                    instanceId: pluginData.instanceId,\n                    title: pluginData.title,\n                    folderName: pluginData.folderName\n                });\n                buildfire._sendPacket(p);\n            }\n            else\n                console.error('invalid navigation request ' ,pluginData);\n        }\n        , navigateHome: function () {\n            var p = new Packet(null, 'navigation.navigateHome');\n            buildfire._sendPacket(p);\n        }\n        , scrollTop: function(callback){\n            var p = new Packet(null, 'navigation.scrollTop');\n            buildfire._sendPacket(p,callback);\n        }\n        , openWindow: function (url, target, callback) {\n            if (!target) target = '_blank';\n            if (!callback) callback = function () {\n                console.info('openWindow:: completed');\n            };\n            var actionItem = {\n                action: 'linkToWeb'\n                , url: url\n                , openIn: target\n            };\n\n            var p = new Packet(null, 'actionItems.execute', actionItem, callback);\n            buildfire._sendPacket(p);\n        }\n        , _goBackOne: function () {\n            buildfire._sendPacket(new Packet(null, 'navigation.navigateBack'));\n        }\n        , onBackButtonClick: function () {\n            this._goBackOne();\n        }\n        , restoreBackButtonClick: function () {\n            buildfire.navigation.onBackButtonClick = function () {\n                buildfire.navigation._goBackOne()\n            };\n        }\n        , goBack: function () {\n            buildfire.navigation.onBackButtonClick();\n        }\n        , makeSafeLinks: function (element) {\n            var t = this;\n            if (typeof(element) != \"object\")\n                element = document.getElementById(element);\n\n            var anchors = element.querySelectorAll('a[href^=http], a[href^=https],a[href^=www]');\n            for (var i = 0; i < anchors.length; i++) {\n                anchors[i].setAttribute(\"inAppBrowser\",true);\n                anchors[i].addEventListener(\"click\", function (evt) {\n                    evt.preventDefault();\n                    t.openWindow(this.href, this.target, null);\n                }, false);\n            }\n        }\n        , navigateEmulator: function(){\n            buildfire._sendPacket(new Packet(null, 'navigation.navigateEmulator'));\n        }\n    },\n    //buildfire.getFrameType API returns string \"launcherPluginv\" if it is Home plugin\n    // else it returns \"controlIFrame\"\n    getFrameType: function () {\n        var PLUGIN_STRING_ENUM={\n            LAUNCHER_PLUGIN : \"launcherPluginv\",\n            CONTROL_FRAME : \"controlIFrame\"\n        }\n\n        var PLUGIN_TYPE_ENUM={\n            LAUNCHER_PLUGIN : \"LAUNCHER_PLUGIN\",\n            CONTROL_FRAME : \"CONTROL_FRAME\",\n            UNKNOWN : \"UNKNOWN\"\n        }\n        var fid= buildfire.fid;\n        if (fid == PLUGIN_STRING_ENUM.LAUNCHER_PLUGIN)\n            return PLUGIN_TYPE_ENUM.LAUNCHER_PLUGIN;\n        else if (fid == PLUGIN_STRING_ENUM.CONTROL_FRAME)\n            return  PLUGIN_TYPE_ENUM.CONTROL_FRAME;\n        else\n            return PLUGIN_TYPE_ENUM.UNKNOWN;\n\n    }\n    /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-Appearance\n    , appearance: {\n\t\t_forceCSSRender: function(){\n\t\t\t// WebKit Rendering Reset on Plugins\n\t\t\tif(window.location.href.indexOf('widget') > 0){\n\t\t\t\tvar html = document.getElementsByTagName('html')[0];\n\t\t\t\tvar style = document.createElement('style');\n\t\t\t\tstyle.type = 'text/css';\n\t\t\t\tstyle.innerHTML = 'body{position:relative !important; z-index:1 !important;} .plugin-slide{position:relative !important;} .plugin-slide, .plugin-slide img{transform: translateZ(0) !important;';\n\t\t\t\thtml.appendChild(style);\n\t\t\t}\n\t\t},\n        insertHTMLAttributes: function () {\n            var html = document.getElementsByTagName('html')[0];\n\n            if(window.location.href.indexOf('widget') > 0){\n                html.setAttribute('buildfire', 'widget');\n\t\t\t\thtml.setAttribute('type', 'app');\n            }else{\n                html.setAttribute('buildfire', 'control');\n            }\n\n            var nVer = navigator.appVersion;\n            var nAgt = navigator.userAgent;\n            var browserName = navigator.appName;\n            var fullVersion = '' + parseFloat(navigator.appVersion);\n            var majorVersion = parseInt(navigator.appVersion, 10);\n            var nameOffset, verOffset, ix;\n            var os = \"Unknown OS\";\n// In Opera, the true version is after \"Opera\" or after \"Version\"\n            if ((verOffset = nAgt.indexOf(\"Opera\")) != -1) {\n                browserName = \"Opera\";\n                fullVersion = nAgt.substring(verOffset + 6);\n                if ((verOffset = nAgt.indexOf(\"Version\")) != -1)\n                    fullVersion = nAgt.substring(verOffset + 8);\n            }\n// In MSIE, the true version is after \"MSIE\" in userAgent\n            else if ((verOffset = nAgt.indexOf(\"MSIE\")) != -1) {\n                browserName = \"Microsoft Internet Explorer\";\n                fullVersion = nAgt.substring(verOffset + 5);\n            }\n// In Chrome, the true version is after \"Chrome\"\n            else if ((verOffset = nAgt.indexOf(\"Chrome\")) != -1) {\n                browserName = \"Chrome\";\n                fullVersion = nAgt.substring(verOffset + 7);\n            }\n// In Safari, the true version is after \"Safari\" or after \"Version\"\n            else if ((verOffset = nAgt.indexOf(\"Safari\")) != -1) {\n                browserName = \"Safari\";\n                fullVersion = nAgt.substring(verOffset + 7);\n                if ((verOffset = nAgt.indexOf(\"Version\")) != -1)\n                    fullVersion = nAgt.substring(verOffset + 8);\n            }\n// In Firefox, the true version is after \"Firefox\"\n            else if ((verOffset = nAgt.indexOf(\"Firefox\")) != -1) {\n                browserName = \"Firefox\";\n                fullVersion = nAgt.substring(verOffset + 8);\n            }\n// In most other browsers, \"name/version\" is at the end of userAgent\n            else if ((nameOffset = nAgt.lastIndexOf(' ') + 1) <\n                (verOffset = nAgt.lastIndexOf('/'))) {\n                browserName = nAgt.substring(nameOffset, verOffset);\n                fullVersion = nAgt.substring(verOffset + 1);\n                if (browserName.toLowerCase() == browserName.toUpperCase()) {\n                    browserName = navigator.appName;\n                }\n            }\n// trim the fullVersion string at semicolon/space if present\n            if ((ix = fullVersion.indexOf(\";\")) != -1)\n                fullVersion = fullVersion.substring(0, ix);\n            if ((ix = fullVersion.indexOf(\" \")) != -1)\n                fullVersion = fullVersion.substring(0, ix);\n\n            majorVersion = parseInt('' + fullVersion, 10);\n            if (isNaN(majorVersion)) {\n                fullVersion = '' + parseFloat(navigator.appVersion);\n                majorVersion = parseInt(navigator.appVersion, 10);\n            }\n\n\n            if (navigator.appVersion.indexOf(\"Win\") != -1) os = \"Windows\";\n            if (navigator.appVersion.indexOf(\"Mac\") != -1) os = \"MacOS\";\n            if (navigator.appVersion.indexOf(\"X11\") != -1) os = \"UNIX\";\n            if (navigator.appVersion.indexOf(\"Linux\") != -1)os = \"Linux\";\n\n            html.setAttribute('os', os);\n            html.setAttribute('browser', browserName);\n            html.setAttribute('majorVersion', majorVersion);\n            html.setAttribute('fullVersion', fullVersion);\n\n        }\n        , getCSSFiles: function (callback) {\n            var p = new Packet(null, 'appearance.getCSSFiles');\n            buildfire._sendPacket(p, callback);\n        }\n        , attachCSSFiles: function () {\n            var files = ['styles/bootstrap.css'];\n            if (window.location.pathname.indexOf('/control/') > 0)\n                files.push('styles/siteStyle.css') &&\n                files.push('styles/pluginScreen.css');\n            else\n                files.push('styles/appStyle.css');\n\n            var base;\n            var scripts = document.getElementsByTagName(\"script\");\n            for (var i = 0; i < scripts.length; i++) {\n                if (scripts[i].src.indexOf('buildfire.js') > 0) {\n                    base = scripts[i].src.replace('/scripts/buildfire.js', '');\n                    break;\n                }\n            }\n\n            if (base[base.length - 1] != \"/\") base += '/';\n\n            for (var i = 0; i < files.length; i++)\n                document.write('<link rel=\"stylesheet\" href=\"' + base + files[i] + '\"/>');\n\n        }\n        /*, disableFastClickOnLoad:false\n        , attachFastClick: function(){\n\n            var path;\n            var scripts = document.getElementsByTagName(\"script\");\n            for (var i = 0; i < scripts.length; i++) {\n                if (scripts[i].src.indexOf('buildfire.js') > 0)\n                    path = scripts[i].src.replace('buildfire.js', 'fastclick.js');\n                else if (scripts[i].src.indexOf('fastclick.js') > 0){\n                    console.warn('fastclick already attached');\n                    return;\n                }\n            }\n            if(!path){\n                console.error('buildfire.js not found? This should never happen. I cant trust anything anymore.. mommy!');\n                return;\n            }\n            else {\n                var script = document.createElement('script');\n                script.src = path;\n                script.type=\"text/javascript\";\n                script.onload=function(){\n                    console.info('fastclick.js loaded');\n                    if(typeof(FastClick) == \"undefined\")\n                        console.error('fastclick undefined');\n                    else\n                        FastClick.attach(document.body);\n                };\n                document.body.appendChild(script);\n            }\n        }\n        , applyFastClick: function(element){\n            if(!element)element=document.body;\n            if(typeof(FastClick) == \"undefined\")\n                console.error('fastclick undefined');\n            else\n                FastClick.attach(element);\n        }*/\n        , attachAppThemeCSSFiles: function (appId, liveMode, appHost) {\n            var linkElement = document.createElement(\"link\");\n            buildfire.appearance.CSSBusterCounter = 0;\n            linkElement.setAttribute(\"rel\", \"stylesheet\");\n            linkElement.setAttribute(\"type\", \"text/css\");\n            linkElement.setAttribute(\"id\", \"appThemeCSS\");\n            linkElement.setAttribute(\"href\", appHost + '/api/app/styles/appTheme.css?appId=' + appId + '&liveMode=' + liveMode + '&v=' + buildfire.appearance.CSSBusterCounter);\n            document.getElementsByTagName('head')[0].appendChild(linkElement);\n        }\n        , _resizedTo: 0\n        , autosizeContainer: function () {\n            var height;\n            try {\n                height = Math.max(\n                    document.documentElement.clientHeight,\n                    document.body.scrollHeight,\n                    document.documentElement.scrollHeight,\n                    document.body.offsetHeight,\n                    document.documentElement.offsetHeight\n                );\n            }\n            catch(e){}\n            if (!height || buildfire.appearance._resizedTo == height || height < 100) return;\n            var p = new Packet(null, 'appearance.autosizeContainer', {height: height});\n            buildfire._sendPacket(p);\n            buildfire.appearance._resizedTo = height;\n        }\n        , setHeaderVisibility: function (value) {\n            var p = new Packet(null, \"appearance.setHeaderVisibility\", value);\n            buildfire._sendPacket(p);\n        }\n        , triggerOnUpdate: function () {\n            var appThemeCSSElement = document.getElementById(\"appThemeCSS\");\n            if(appThemeCSSElement) {\n                appThemeCSSElement.href = appThemeCSSElement.href.replace(\"&v=\" + buildfire.appearance.CSSBusterCounter, \"&v=\" + ++buildfire.appearance.CSSBusterCounter);\n            }\n        }, titlebar: {\n            show: function() {\n                var p = new Packet(null, \"appearance.titlebar.show\");\n                buildfire._sendPacket(p);\n            },\n            hide: function() {\n                var p = new Packet(null, \"appearance.titlebar.hide\");\n                buildfire._sendPacket(p);\n            }\n        }\n    }\n    /// ref: https://github.com/BuildFire/sdk/wiki/How-to-capture-Analytics-for-your-plugin\n    , analytics: {\n        trackAction: function (actionName, metadata) {\n            var p = new Packet(null, \"analytics.trackActionCommand\", {\n                value: actionName,\n                metadata: metadata\n            }); // wrap object to follow the command(obj, callback)\n            buildfire._sendPacket(p);\n        }\n        ,\n        trackView: function (actionName, metadata) {\n            var p = new Packet(null, \"analytics.trackViewCommand\", {\n                value: actionName,\n                metadata: metadata\n            }); // wrap object to follow the command(obj, callback)\n            buildfire._sendPacket(p);\n        }\n    }\n    /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-Datastore\n    , datastore: {\n        /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-Datastore#buildfiredatastoreget-tag-optional-id-optional-callback\n        get: function (tag, callback) {\n\n            var tagType = typeof(tag);\n            if (tagType == \"undefined\")\n                tag = '';\n            else if (tagType == \"function\" && typeof(callback) == \"undefined\") {\n                callback = tag;\n                tag = '';\n            }\n            var obj = {tag: tag};\n            var p = new Packet(null, 'datastore.get', obj);\n            buildfire._sendPacket(p, callback);\n\n        },\n        getWithDynamicData: function (tag, callback) {\n\n            var tagType = typeof(tag);\n            if (tagType == \"undefined\")\n                tag = '';\n            else if (tagType == \"function\" && typeof(callback) == \"undefined\") {\n                callback = tag;\n                tag = '';\n            }\n            var obj = {tag: tag, withDynamicData: true};\n            var p = new Packet(null, 'datastore.get', obj);\n            buildfire._sendPacket(p, callback);\n\n        },\n        /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-Datastore#buildfiredatastoregetbyid--id--tag-optional-callback\n        getById: function (id, tag, callback) {\n\n            var idType = typeof(id);\n            if (idType == \"function\" && typeof(callback) == \"undefined\") {\n                callback = id;\n                id = '';\n            }\n\n            var tagType = typeof(tag);\n            if (tagType == \"undefined\")\n                tag = '';\n            else if (tagType == \"function\" && typeof(callback) == \"undefined\") {\n                callback = tag;\n                tag = '';\n            }\n            var obj = {tag: tag, id: id};\n            var p = new Packet(null, 'datastore.get', obj);\n            buildfire._sendPacket(p, callback);\n\n        }\n        /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-Datastore#buildfiredatastoresave-obj-tag-optional-callback\n        , save: function (obj, tag, callback) {\n\n            var tagType = typeof(tag);\n            if (tagType == \"undefined\")\n                tag = '';\n            else if (tagType == \"function\" && typeof(callback) == \"undefined\") {\n                callback = tag;\n                tag = '';\n            }\n\n            var p = new Packet(null, 'datastore.save', {tag: tag, obj: obj});\n            buildfire._sendPacket(p, function (err, result) {\n                if (result)buildfire.datastore.triggerOnUpdate(result);\n                if (callback)callback(err, result);\n            });\n        }\n        /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-Datastore#buildfiredatastoreinsert-obj-tag-optionalcheckduplicate--callback\n        , insert: function (obj, tag, checkDuplicate, callback) {\n\n            var checkDuplicateType = typeof(checkDuplicate);\n            if (checkDuplicateType == \"undefined\")\n                checkDuplicate = false;\n            else if (checkDuplicateType == \"function\" && typeof(callback) == \"undefined\") {\n                callback = checkDuplicate;\n                checkDuplicate = false;\n            }\n            var tagType = typeof(tag);\n            if (tagType == \"undefined\")\n                tag = '';\n            else if (tagType == \"function\" && typeof(callback) == \"undefined\") {\n                callback = tag;\n                tag = '';\n            }\n\n            var p = new Packet(null, 'datastore.insert', {tag: tag, obj: obj, checkDuplicate: checkDuplicate});\n            buildfire._sendPacket(p, function (err, result) {\n                if (result)buildfire.datastore.triggerOnUpdate(result);\n                callback(err, result);\n            });\n        }\n        /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-Datastore#buildfiredatastorebulkinsert-obj-tag-optional---callback\n        , bulkInsert: function (arrayObj, tag, callback) {\n\n            if (arrayObj.constructor !== Array) {\n\n                callback({\"code\": \"error\", \"message\": \"the data should be an array\"}, null);\n                return;\n            }\n\n            var tagType = typeof(tag);\n            if (tagType == \"undefined\")\n                tag = '';\n            else if (tagType == \"function\" && typeof(callback) == \"undefined\") {\n                callback = tag;\n                tag = '';\n            }\n\n            var p = new Packet(null, 'datastore.bulkInsert', {tag: tag, obj: arrayObj});\n            buildfire._sendPacket(p, function (err, result) {\n                if (result)buildfire.datastore.triggerOnUpdate(result);\n                callback(err, result);\n            });\n        }\n        /// ref https://github.com/BuildFire/sdk/wiki/How-to-use-Datastore#buildfiredatastoreupdateidobj-tag-optional-callback\n        , update: function (id, obj, tag, callback) {\n            var tagType = typeof(tag);\n            if (tagType == \"undefined\")\n                tag = '';\n            else if (tagType == \"function\" && typeof(callback) == \"undefined\") {\n                callback = tag;\n                tag = '';\n            }\n\n            var p = new Packet(null, 'datastore.update', {tag: tag, id: id, obj: obj});\n            buildfire._sendPacket(p, function (err, result) {\n                if (result)buildfire.datastore.triggerOnUpdate(result);\n                if (callback)callback(err, result);\n            });\n        }\n        /// ref https://github.com/BuildFire/sdk/wiki/How-to-use-Datastore#buildfiredatastoredeleteidobj-tag-optional-callback\n        , delete: function (id, tag, callback) {\n            var tagType = typeof(tag);\n            if (tagType == \"undefined\")\n                tag = '';\n            else if (tagType == \"function\" && typeof(callback) == \"undefined\") {\n                callback = tag;\n                tag = '';\n            }\n\n            var p = new Packet(null, 'datastore.delete', {tag: tag, id: id});\n            buildfire._sendPacket(p, function (err, result) {\n                if (result)buildfire.datastore.triggerOnUpdate(result);\n                if (callback)callback(err, result);\n            });\n        }\n        /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-Datastore#buildfiredatastoresearchoptions-tag-optional-callback\n        , search: function (options, tag, callback) {\n\n            var tagType = typeof(tag);\n            if (tagType == \"undefined\")\n                tag = '';\n            else if (tagType == \"function\" && typeof(callback) == \"undefined\") {\n                callback = tag;\n                tag = '';\n            }\n\n            //auto correct empty string filter\n            if (typeof(options) == \"undefined\") options = {filter: {}};\n            if (!options.filter) options.filter = {};\n\n            var p = new Packet(null, 'datastore.search', {tag: tag, obj: options});\n            buildfire._sendPacket(p, function (err, result) {\n                callback(err, result);\n            });\n        }\n        /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-Datastore#buildfiredatastoreonupdatecallback\n        , onUpdate: function (callback, allowMultipleHandlers) {\n            return buildfire.eventManager.add('datastoreOnUpdate', callback, allowMultipleHandlers);\n        }\n        , triggerOnUpdate: function (obj) {\n            buildfire.eventManager.trigger('datastoreOnUpdate', obj);\n        }\n        /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-Datastore#buildfiredatastoreonrefreshcallback\n        , onRefresh: function (callback, allowMultipleHandlers) {\n            return buildfire.eventManager.add('datastoreOnRefresh', callback, allowMultipleHandlers);\n        }\n        , triggerOnRefresh: function (obj) {\n            buildfire.eventManager.trigger('datastoreOnRefresh', obj);\n        }\n        /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-Datastore#buildfiredatastoredisablerefresh\n        , disableRefresh: function () {\n            var p = new Packet(null, \"datastore.disableRefresh\");\n            buildfire._sendPacket(p);\n        }\n    }\n    ,userData: {\n        /// ref:\n        get: function (tag, callback) {\n\n            var tagType = typeof (tag);\n            if (tagType == \"undefined\")\n                tag = '';\n            else if (tagType == \"function\" && typeof (callback) == \"undefined\") {\n                callback = tag;\n                tag = '';\n            }\n            var obj = { tag: tag };\n            var p = new Packet(null, 'userData.get', obj);\n            buildfire._sendPacket(p, callback);\n\n        },\n        /// ref:\n         getById: function (id, tag, callback) {\n\n            var idType = typeof (id);\n            if (idType == \"function\" && typeof (callback) == \"undefined\") {\n                callback = id;\n                id = '';\n            }\n\n            var tagType = typeof (tag);\n            if (tagType == \"undefined\")\n                tag = '';\n            else if (tagType == \"function\" && typeof (callback) == \"undefined\") {\n                callback = tag;\n                tag = '';\n            }\n            var obj = { tag: tag, id: id };\n            var p = new Packet(null, 'userData.get', obj);\n            buildfire._sendPacket(p, callback);\n\n        }\n        /// ref:\n        , save: function (obj, tag,userToken, callback) {\n\n            var tagType = typeof (tag);\n            if (tagType == \"undefined\")\n                tag = '';\n            else if (tagType == \"function\" && typeof (callback) == \"undefined\") {\n                callback = tag;\n                tag = '';\n            }\n            var userTokenType = typeof (userToken);\n            if (userTokenType == \"undefined\")\n                userToken = '';\n            else if (userTokenType == \"function\" && typeof (callback) == \"undefined\") {\n                callback = userToken;\n                userToken = '';\n            }\n\n            var p = new Packet(null, 'userData.save', { tag: tag,userToken: userToken, obj: obj });\n            buildfire._sendPacket(p, function (err, result) {\n\n                if (callback) callback(err, result);\n            });\n        }\n        /// ref: \n        , insert: function (obj, tag, userToken, checkDuplicate, callback) {\n\n            var userTokenType = typeof (userToken);\n            if (userTokenType == \"undefined\")\n                userToken = '';\n            else if (userTokenType == \"function\" && typeof (callback) == \"undefined\") {\n                callback = userToken;\n                userToken = '';\n            }\n            var checkDuplicateType = typeof (checkDuplicate);\n            if (checkDuplicateType == \"undefined\")\n                checkDuplicate = false;\n            else if (checkDuplicateType == \"function\" && typeof (callback) == \"undefined\") {\n                callback = checkDuplicate;\n                checkDuplicate = false;\n            }\n            var userTokenType = typeof (userToken);\n            if (userTokenType == \"undefined\")\n                userToken = '';\n            else if (userTokenType == \"function\" && typeof (callback) == \"undefined\") {\n                callback = userToken;\n                userToken = '';\n            }\n\n            var tagType = typeof (tag);\n            if (tagType == \"undefined\")\n                tag = '';\n            else if (tagType == \"function\" && typeof (callback) == \"undefined\") {\n                callback = tag;\n                tag = '';\n            }\n\n            var p = new Packet(null, 'userData.insert', { tag: tag, userToken: userToken, obj: obj, checkDuplicate: checkDuplicate });\n            buildfire._sendPacket(p, function (err, result) {\n\n                callback(err, result);\n            });\n        }\n        /// ref: \n        , bulkInsert: function (arrayObj, tag, userToken, callback) {\n\n            if (arrayObj.constructor !== Array) {\n\n                callback({ \"code\": \"error\", \"message\": \"the data should be an array\" }, null);\n                return;\n            }\n            var userTokenType = typeof (userToken);\n            if (userTokenType == \"undefined\")\n                userToken = '';\n            else if (userTokenType == \"function\" && typeof (callback) == \"undefined\") {\n                callback = userToken;\n                userToken = '';\n            }\n            var tagType = typeof (tag);\n            if (tagType == \"undefined\")\n                tag = '';\n            else if (tagType == \"function\" && typeof (callback) == \"undefined\") {\n                callback = tag;\n                tag = '';\n            }\n\n            var p = new Packet(null, 'userData.bulkInsert', { tag: tag, userToken: userToken, obj: arrayObj });\n            buildfire._sendPacket(p, function (err, result) {\n\n                callback(err, result);\n            });\n        }\n        ///  \n        , update: function (id, obj, tag, userToken, callback) {\n            var userTokenType = typeof (userToken);\n            if (userTokenType == \"undefined\")\n                userToken = '';\n            else if (userTokenType == \"function\" && typeof (callback) == \"undefined\") {\n                callback = userToken;\n                userToken = '';\n            }\n\n            var tagType = typeof (tag);\n            if (tagType == \"undefined\")\n                tag = '';\n            else if (tagType == \"function\" && typeof (callback) == \"undefined\") {\n                callback = tag;\n                tag = '';\n            }\n\n            var p = new Packet(null, 'userData.update', { tag: tag, userToken: userToken, id: id, obj: obj });\n            buildfire._sendPacket(p, function (err, result) {\n\n                if (callback) callback(err, result);\n            });\n        }\n        /// ref \n        , delete: function (id, tag, userToken, callback) {\n\n            var userTokenType = typeof (userToken);\n            if (userTokenType == \"undefined\")\n                userToken = '';\n            else if (userTokenType == \"function\" && typeof (callback) == \"undefined\") {\n                callback = userToken;\n                userToken = '';\n            }\n            var tagType = typeof (tag);\n            if (tagType == \"undefined\")\n                tag = '';\n            else if (tagType == \"function\" && typeof (callback) == \"undefined\") {\n                callback = tag;\n                tag = '';\n            }\n\n            var p = new Packet(null, 'userData.delete', { tag: tag, userToken: userToken, id: id });\n            buildfire._sendPacket(p, function (err, result) {\n\n                if (callback) callback(err, result);\n            });\n        }\n        /// \n        , search: function (options, tag, callback) {\n\n            var tagType = typeof (tag);\n            if (tagType == \"undefined\")\n                tag = '';\n            else if (tagType == \"function\" && typeof (callback) == \"undefined\") {\n                callback = tag;\n                tag = '';\n            }\n\n            //auto correct empty string filter\n            if (typeof (options) == \"undefined\") options = { filter: {} };\n            if (!options.filter) options.filter = {};\n\n            var p = new Packet(null, 'userData.search', { tag: tag, obj: options });\n            buildfire._sendPacket(p, function (err, result) {\n                callback(err, result);\n            });\n        }\n        /// ref: \n        , onUpdate: function (callback, allowMultipleHandlers) {\n            return buildfire.eventManager.add('userDataOnUpdate', callback, allowMultipleHandlers);\n        }\n        , triggerOnUpdate: function (obj) {\n            buildfire.eventManager.trigger('userDataOnUpdate', obj);\n        }\n        /// ref:  \n        , onRefresh: function (callback, allowMultipleHandlers) {\n            return buildfire.eventManager.add('userDataOnRefresh', callback, allowMultipleHandlers);\n        }\n        , triggerOnRefresh: function (obj) {\n            buildfire.eventManager.trigger('userDataOnRefresh', obj);\n        }\n        /// ref:  \n        , disableRefresh: function () {\n            var p = new Packet(null, \"userData.disableRefresh\");\n            buildfire._sendPacket(p);\n        }\n    }\n    /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-ImageLib\n    , imageLib: {\n        /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-ImageLib#buildfireimagelibshowdialogoptions-callback\n        showDialog: function (options, callback) {\n            var p = new Packet(null, 'imageLib.showDialog', options);\n            buildfire._sendPacket(p, callback);\n        }\n        ,isProdImageServer: function(url){\n            return ((url.indexOf(\"http://imageserver.prod.s3.amazonaws.com\") == 0\n            || url.indexOf(\"https://imageserver.prod.s3.amazonaws.com\") == 0));\n        }\n        //options:{\n        // width: integer or 'full'\n        // height: integer or 'full'\n        // disablePixelRation: bool\n        // }\n        , resizeImage: function (url, options) {\n\n            var ratio = options.disablePixelRation?1:window.devicePixelRatio;\n\n\t\t\t// Don't pass any value under 1\n\t\t\tif(ratio < 1){\n\t\t\t\tvar ratio = 1;\n\t\t\t}\n\n            if (!options)\n                options = {width: window.innerWidth};\n            else if (typeof(options) != \"object\")\n                throw (\"options not an object\");\n\n            if (options.width == 'full') options.width = window.innerWidth;\n            if (options.height == 'full') options.height = window.innerHeight;\n\n            var root;\n\n            if(buildfire.imageLib.isProdImageServer(url)){\n                url = url.replace(/^https:\\/\\//i, 'http://');\n                root =\"http://buildfire.imgix.net\" + url.substring(40); // length of root host\n            }\n            else if (url.indexOf(\"Kaleo.DevBucket/\") > 0 ){\n                root =\"http://bflegacy.imgix.net/\" + url.split('Kaleo.DevBucket/')[1];\n            }\n\n            if(false && root){\n\n\n                if (options.width && !options.height)\n                    return root + \"?w=\" + Math.floor(options.width * ratio) ;\n                else if (!options.width && options.height)\n                    return root + \"?h=\" + Math.floor(options.height * ratio) ;\n                else if (options.width && options.height)\n                    return root + \"?w\" + Math.floor(options.width * ratio) + \"&h=\" + Math.floor(options.height * ratio) ;\n                else\n                    return url;\n            }\n            else{\n                root = \"http://czi3m2qn.cloudimg.io/s/\";\n                if (options.width && !options.height)\n                    return root + \"width/\" + Math.floor(options.width * ratio) + \"/\" + url;\n                else if (!options.width && options.height)\n                    return root + \"height/\" + Math.floor(options.height * ratio) + \"/\" + url;\n                else if (options.width && options.height)\n                    return root + \"resizenp/\" + Math.floor(options.width * ratio) + \"x\" + Math.floor(options.height * ratio) + \"/\" + url;\n                else\n                    return url;\n            }\n        }\n\n        , cropImage: function (url, options) {\n\n            var ratio = options.disablePixelRatio ?1:window.devicePixelRatio;\n\n            if (typeof(options) != \"object\")\n                throw (\"options not an object\");\n\n            if (!options.width && !options.height)\n                options = {width: 'full', height: 'full'};\n\n            if (options.width == 'full') options.width = window.innerWidth;\n            if (options.height == 'full') options.height = window.innerHeight;\n\n            if(!options.width || !options.height){\n                console.warn('cropImage doenst have width or height please fix. returning original url');\n                return url;\n            }\n\n\n            var root;\n\n            if(buildfire.imageLib.isProdImageServer(url)){\n                url = url.replace(/^https:\\/\\//i, 'http://');\n                root =\"http://buildfire.imgix.net\" + url.substring(40); // length of root host\n            }\n            else if (url.indexOf(\"Kaleo.DevBucket/\") > 0 ){\n                root =\"http://bflegacy.imgix.net/\" + url.split('Kaleo.DevBucket/')[1];\n            }\n\n\n            if(false && root) {\n                return root + \"?fit=crop\"\n                    + (options.width? \"&w=\" + Math.floor(options.width * ratio):\"\")\n                    + (options.height ? \"&h=\" + Math.floor(options.height * ratio) : \"\") ;\n            }\n            else {\n                root = \"http://czi3m2qn.cloudimg.io/s/crop/\";\n                return root + Math.floor(options.width * ratio) + \"x\" + Math.floor(options.height * ratio) + \"/\" + url;\n            }\n\n        }\n        ,local: {\n            _parser: document.createElement('a')\n            , localImageLibPath: window.location.href.split('pluginTemplate/')[0] + \"imageLib/\"\n            , parseFileFromUrl: function (url) {\n                buildfire.imageLib.local._parser.href = url;\n                var sections = buildfire.imageLib.local._parser.pathname.split(\"/\");\n                if (sections.length == 0)\n                    return null;\n                else\n                    return sections[sections.length - 1];\n            }\n            , toLocalPath: function (url) {\n                if (buildfire.isFileServer(url)) {\n                    var localURL = this.localImageLibPath + this.parseFileFromUrl(url); // length of root host\n                    //localURL = localURL.substring(localURL.indexOf('/'));\n                    return localURL;\n                }\n                else\n                    return null;\n            }\n            , resizeImage: function (url, options, callback) {\n\n                //var ratio = options.disablePixelRation ? 1 : window.devicePixelRatio;\n                if (!options)\n                    options = {width: window.innerWidth};\n                else if (typeof(options) != \"object\")\n                    throw (\"options not an object\");\n\n                if (options.width == 'full') options.width = window.innerWidth;\n                if (options.height == 'full') options.height = window.innerHeight;\n\n                var localURL = buildfire.imageLib.local.toLocalPath(url);\n                if (localURL) {\n                    var img = new Image();\n                    img.src = localURL;\n                    img.onload = function () {\n\n                        if (options.width && !options.height)\n                            options.height = (img.height * options.width) / img.width;\n                        else if (!options.width && options.height)\n                            options.width = (img.width * options.height) / img.width;\n\n                        var canvas = document.createElement('canvas');\n                        var ctx = canvas.getContext('2d');\n                        canvas.width = options.width;\n                        canvas.height = options.height;\n\n\n                        ctx.drawImage(img, 0, 0, options.width, options.height);\n\n                        callback(null, canvas.toDataURL());\n                    };\n                    img.onerror = function () {\n                        callback(null, buildfire.imageLib.resizeImage(url, options));\n                    }\n                }\n                else\n                    callback(null, buildfire.imageLib.resizeImage(url, options));\n\n\n            }\n            , cropImage: function (url, options, callback) {\n\n                //If we are online, use the normal crop image.\n                if (window.navigator.onLine) {\n                    callback(null, buildfire.imageLib.cropImage(url, options));\n                    return;\n                }\n\n                var ratio = options.disablePixelRatio ? 1 : window.devicePixelRatio;\n\n                if (!options)\n                    options = {width: window.innerWidth};\n                else if (typeof(options) != \"object\")\n                    throw (\"options not an object\");\n\n                if (options.width == 'full') options.width = window.innerWidth;\n                if (options.height == 'full') options.height = window.innerHeight;\n                \n                var localURL = buildfire.imageLib.local.toLocalPath(url);\n                if (localURL) {\n                    var img = new Image();\n                    img.src = localURL;\n                    img.onload = function () {\n                        var canvas = document.createElement('canvas');\n                        var ctx = canvas.getContext('2d');\n                        var dim = {\n                            width:0,\n                            height:0\n                        }\n                        var offset = {\n                            x:0,\n                            y:0\n                        }\n                        if (options.width !== options.height) {\n                            if (options.width > options.height) {\n                                dim.width = options.width;\n                                dim.height = (img.height * options.width) / img.width;\n                                offset.y = (options.height-dim.height)/2;\n                            } else {\n                                dim.width = (img.width * options.height) / img.height;\n                                dim.height = options.height;\n                                offset.x = (options.width-dim.width)/2;\n                            }\n                        } else {\n                            if (img.width < img.height) {\n                                dim.width = options.width;\n                                dim.height = (img.height * options.width) / img.width;\n                                offset.y = (options.height-dim.height)/2;\n                            } else {\n                                dim.width = (img.width * options.height) / img.height;\n                                dim.height = options.height;\n                                offset.x = (options.width-dim.width)/2;\n                            }\n                        }\n                        dim.width      *= ratio;\n                        dim.height     *= ratio;\n                        options.width  *= ratio;\n                        options.height *= ratio;\n                        \n                        canvas.width = options.width;\n                        canvas.height = options.height;\n                        ctx.drawImage(img, offset.x, offset.y, dim.width, dim.height);\n                        callback(null, canvas.toDataURL());\n                    };\n                    img.onerror = function () {\n                        callback(null, buildfire.imageLib.cropImage(url, options));\n                    }\n                } else {\n                    callback(null, buildfire.imageLib.cropImage(url, options));\n                }\n            }\n        }\n\n\n    }\n    /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-Notifications\n    , notifications: {\n        alert: function (options, callback) {\n            var p = new Packet(null, 'notificationsAPI.alert', options);\n            buildfire._sendPacket(p, callback);\n        }\n        , confirm: function (options, callback) {\n            var p = new Packet(null, 'notificationsAPI.confirm', options);\n            buildfire._sendPacket(p, callback);\n        }\n        , prompt: function (options, callback) {\n            var p = new Packet(null, 'notificationsAPI.prompt', options);\n            buildfire._sendPacket(p, callback);\n        }\n        , beep: function (options) {\n            var p = new Packet(null, 'notificationsAPI.beep', options);\n            buildfire._sendPacket(p, callback);\n        }\n        , vibrate: function (options) {\n            var p = new Packet(null, 'notificationsAPI.vibrate', options);\n            buildfire._sendPacket(p, callback);\n        }\n    }\n    /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-action-Items\n    /// also https://github.com/BuildFire/sdk/wiki/BuildFire-Action-Items-Component\n    , actionItems: {\n        showDialog: function (actionItem, options, callback) {\n            var p = new Packet(null, 'actionItems.showDialog', {actionItem: actionItem, options: options});\n            buildfire._sendPacket(p, callback);\n        },\n        execute: function (actionItem, options, callback) {\n            var p = new Packet(null, 'actionItems.execute', actionItem);\n            buildfire._sendPacket(p, callback);\n        },\n        list: function (actionItems, options, callback) {\n            var p = new Packet(null, 'actionItems.list', {actionItems: actionItems, options: options});\n            buildfire._sendPacket(p, callback);\n        },\n        create: function (action, iconUrl, title) {\n            var actionItem = {\n                action: action,\n                iconUrl: iconUrl,\n                title: title\n            };\n\n            return actionItem;\n        }\n    }\n    /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-Breadcrumbs\n    , history: {\n        push: function (label, options, callback) {\n            var p = new Packet(null, 'history.push', {label: label, options: options, source: \"plugin\"});\n            buildfire._sendPacket(p, callback);\n        },\n        onPop: function (callback, allowMultipleHandlers) {\n            return buildfire.eventManager.add('historyOnPop', callback, allowMultipleHandlers);\n        },\n        triggerOnPop: function (obj) {\n            buildfire.eventManager.trigger('historyOnPop', obj);\n        },\n        pop: function (callback) {\n            var p = new Packet(null, 'history.pop');\n            buildfire._sendPacket(p, callback);\n        },\n        get: function (options, callback) {\n            var p = new Packet(null, 'history.get', options);\n            buildfire._sendPacket(p, callback);\n        }\n    }\n    /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-Messaging-to-sync-your-Control-to-Widget\n    , messaging: {\n        sendMessageToControl: function (data) {\n            var p = new Packet(null, 'messaging.triggerOnNewControlMessage', data);\n            buildfire._sendPacket(p);\n        }\n        , sendMessageToWidget: function (data) {\n            var p = new Packet(null, 'messaging.triggerOnNewWidgetMessage', data);\n            buildfire._sendPacket(p);\n        }\n        , onReceivedMessage: function (message) {\n            console.info('onReceivedMessage ignored', window.location);\n        }\n    }\n    /// ref: https://github.com/BuildFire/sdk/wiki/Plugin-Instances\n    , pluginInstance: {\n        showDialog: function (options, callback) {\n            var p = new Packet(null, 'pluginInstances.showDialog', {options: options});\n            buildfire._sendPacket(p, callback);\n        }\n        , get: function (ids, callback) {\n            var p = new Packet(null, 'pluginInstances.get', ids);\n            buildfire._sendPacket(p, callback);\n        }\n        /*\n         * options {\n         * title : for searching\n         * , pageIndex : 0\n         * , pageSize: max 20\n         * }\n         * */\n        , search: function (options, callback) {\n            var p = new Packet(null, 'pluginInstances.search', options);\n            buildfire._sendPacket(p, callback);\n        }\n        , showCreatePluginInstancesDialog: function (options, callback) {\n            if(typeof(options) == 'function' && !callback){\n                callback = options;\n                options = {skipPluginInstances : true};\n            }else if(options){\n                options.skipPluginInstances = true;\n            }\n            buildfire.pluginInstance.showDialog(options,callback);\n        }\n    }\n    /// ref: https://github.com/BuildFire/sdk/wiki/Deep-Links\n    , deeplink: {\n        getData: function (callback) {\n            var qs = buildfire.parseQueryString();\n            if(qs.dld)\n                callback(JSON.parse(qs.dld)); /// dld: Deep Link Data\n            else\n                callback(null);\n        },\n        template: {\n            get: function (callback) {\n                var p = new Packet(null, 'deepLink.getTemplate', {});\n                buildfire._sendPacket(p, callback);\n            }\n        },\n        setData: function (obj, options, callback) {\n            var p = new Packet(null, 'deepLink.setData', {data : obj, options: options});\n            buildfire._sendPacket(p, callback);\n        }\n        ,\n        createLink: function (obj) {\n            console.log('this method is obsolete you have to call deeplink.template.get instead and it will return back the full deep link');\n            var root = \"app\" + buildfire._context.appId + \"://plugin\";\n            if (!obj)\n                return root;\n            else\n                return root + \"?dld=\" + JSON.stringify(obj);\n        }\n    }\n    /// ref: https://github.com/BuildFire/sdk/wiki/Spinners\n    , spinner: {\n        show: function () {\n            buildfire._sendPacket(new Packet(null, 'spinner.show'));\n        }\n        , hide: function () {\n            buildfire._sendPacket(new Packet(null, 'spinner.hide'));\n        }\n    }\n    /// ref: https://github.com/BuildFire/sdk/wiki/How-to-use-Auth\n    , auth: {\n        login: function (options, callback) {\n            var p = new Packet(null, 'auth.login', options);\n            buildfire._sendPacket(p, callback);\n        },\n        logout: function () {\n            var p = new Packet(null, 'auth.logout');\n            buildfire._sendPacket(p);\n        },\n        getCurrentUser: function (callback) {\n            var p = new Packet(null, 'auth.getCurrentUser');\n            buildfire._sendPacket(p, callback);\n        },\n        onLogin: function (callback, allowMultipleHandlers) {\n            return buildfire.eventManager.add('authOnLogin', callback, allowMultipleHandlers);\n        },\n        triggerOnLogin: function (user) {\n            buildfire.eventManager.trigger('authOnLogin', user);\n        },\n        onLogout: function (callback, allowMultipleHandlers) {\n            return buildfire.eventManager.add('authOnLogout', callback, allowMultipleHandlers);\n        }\n        , triggerOnLogout: function (data) {\n            return buildfire.eventManager.trigger('authOnLogout', data);\n        },\n        openProfile: function (userId) {\n            var p = new Packet(null, 'auth.openProfile', userId);\n            buildfire._sendPacket(p);\n        },\n        getUserProfile: function (options, callback) {\n            var p = new Packet(null, 'auth.getUserProfile', options);\n            buildfire._sendPacket(p, callback);\n        }\n    }\n    /// ref: https://github.com/BuildFire/sdk/wiki/BuildFire-Device-Features\n    , device: {\n        calendar: {\n            addEvent: function (event, callback) {\n                buildfire._sendPacket(new Packet(null, 'device.calendar.addEvent', event), callback);\n            }\n        },\n        share: function (messageObj, callback) {\n            buildfire._sendPacket(new Packet(null, 'device.share', messageObj), callback);\n        },\n        onAppBackgrounded: function (callback, allowMultipleHandlers) {\n            return buildfire.eventManager.add('deviceAppBackgrounded', callback, allowMultipleHandlers);\n        },\n        onAppResumed: function (callback, allowMultipleHandlers) {\n            return buildfire.eventManager.add('deviceAppResumed', callback, allowMultipleHandlers);\n        },\n        triggerOnAppBackgrounded: function (data) {\n            return buildfire.eventManager.trigger('deviceAppBackgrounded', data);\n        },\n        triggerOnAppResumed: function (data) {\n            return buildfire.eventManager.trigger('deviceAppResumed', data);\n        }\n    }\n    /// ref: https://github.com/BuildFire/sdk/wiki/BuildFire-Geo-Location-Feature\n    , geo : {\n        getCurrentPosition:function(options, callback){\n            buildfire._sendPacket(new Packet(null,\"geo.getCurrentPosition\",options),callback);\n        }\n        ,watchPosition:function(options, callback){\n            buildfire._sendPacket(new Packet(null,\"geo.watchPosition\",options));\n            this.onPositionChange = callback;\n        }\n        /// override this event handler for when you are watching for GPS Position Changes\n        ,onPositionChange: function(err,position){\n\n        }\n        ,clearWatch:function(watchId, callback){\n            buildfire._sendPacket(new Packet(null,\"geo.clearWatch\",watchId),callback);\n        }\n    }\n    , localStorage : {\n        setItem: function(key,value,callback) {\n            if(!callback)callback = function(){};\n\n            if(typeof(value) == \"object\" )\n                value = JSON.stringify(value);\n\n            buildfire._sendPacket(new Packet(null, 'localStorage.setItem', {key:key,value:value}), callback);\n        }\n        ,getItem: function(key,callback) {\n            if(!callback)throw \"missing callback on buildfire.localStorage.getItem\";\n            buildfire._sendPacket(new Packet(null, 'localStorage.getItem', key), callback);\n        }\n        ,removeItem: function(key,callback) {\n            if(!callback)throw \"missing callback on buildfire.localStorage.removeItem\";\n            buildfire._sendPacket(new Packet(null, 'localStorage.removeItem', key), callback);\n        }\n    }\n\n};\nbuildfire.init();\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\n    //buildfire.appearance.autosizeContainer();\n    console.info('DOMContentLoaded');\n\n    buildfire.getContext(function (err, context) {\n        console.log(\"tracer: got getContext\");\n        if (err) {\n            console.error(err);\n        }\n        else {\n            if (context.debugTag)\n                buildfire.logger.attachRemoteLogger(context.debugTag);\n            if (window.location.pathname.indexOf('/widget/') > 0) {\n                var disableTheme = (buildfire.options && buildfire.options.disableTheme) ? buildfire.options.disableTheme : false;\n\n                if(!disableTheme)\n                    buildfire.appearance.attachAppThemeCSSFiles(context.appId, context.liveMode, context.endPoints.appHost);\n            }\n        }\n    });\n\n    /*if(window.location.href.indexOf('/widget/')\n        && !buildfire.appearance.disableFastClickOnLoad\n        && !buildfire.options.disableFastClick\n        && false\n    )\n        buildfire.appearance.attachFastClick();*/\n\n\n    if(!buildfire.options.disableExternalLinkOverride) {\n        document.onclick = function (e) {\n            e = e ||  window.event;\n            var element = e.target || e.srcElement;\n            var href = element.getAttribute('href');\n            var inAppBrowser  = element.getAttribute(\"inAppBrowser\");\n            if(element.tagName == 'A' && href != null && href != '' && inAppBrowser == null){\n                var regexp = new RegExp('^(http:\\/|https:\\/|http:\\/\\/|https:\\/\\/|www.)[a-z0-9]');\n                if (element.tagName == 'A' && regexp.test(href)) {\n                    e.preventDefault();\n                    var target = element.getAttribute('inAppBrowser') || '_blank';\n                    buildfire.navigation.openWindow(href, target, null);\n                }\n            }\n        };\n    }\n\tsetTimeout(function(){\n        if(!buildfire.options.disableTheme)\n\t\t    buildfire.appearance._forceCSSRender();\n\t}, 1750);\n\n});\ndocument.addEventListener(\"resize\", function (event) {\n    buildfire.appearance.autosizeContainer();\n});\n\nwindow.onerror = function (errorMsg, url, lineNumber, column, errorObj) {\n    console.error('Error: ' + errorMsg, ' Script: ' + url, ' Line: ' + lineNumber\n        , ' Column: ' + column, ' StackTrace: ' + errorObj);\n};\n\n\n//IE and old Android Custom Event Fix\nif(typeof(CustomEvent) != \"function\"){\n    function CustomEvent(event, params) {\n        params = params || {bubbles: false, cancelable: false, detail: undefined};\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n        return evt;\n    }\n\n    CustomEvent.prototype = window.Event.prototype;\n    window.CustomEvent = CustomEvent;\n}\n\n\n","!function(a,b,c,d){function e(b,c){this.settings=null,this.options=a.extend({},e.Defaults,c),this.$element=a(b),this.drag=a.extend({},m),this.state=a.extend({},n),this.e=a.extend({},o),this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._invalidated={},this._pipe=[],a.each(e.Plugins,a.proxy(function(a,b){this._plugins[a[0].toLowerCase()+a.slice(1)]=new b(this)},this)),a.each(e.Pipe,a.proxy(function(b,c){this._pipe.push({filter:c.filter,run:a.proxy(c.run,this)})},this)),this.setup(),this.initialize()}function f(a){if(a.touches!==d)return{x:a.touches[0].pageX,y:a.touches[0].pageY};if(a.touches===d){if(a.pageX!==d)return{x:a.pageX,y:a.pageY};if(a.pageX===d)return{x:a.clientX,y:a.clientY}}}function g(a){var b,d,e=c.createElement(\"div\"),f=a;for(b in f)if(d=f[b],\"undefined\"!=typeof e.style[d])return e=null,[d,b];return[!1]}function h(){return g([\"transition\",\"WebkitTransition\",\"MozTransition\",\"OTransition\"])[1]}function i(){return g([\"transform\",\"WebkitTransform\",\"MozTransform\",\"OTransform\",\"msTransform\"])[0]}function j(){return g([\"perspective\",\"webkitPerspective\",\"MozPerspective\",\"OPerspective\",\"MsPerspective\"])[0]}function k(){return\"ontouchstart\"in b||!!navigator.msMaxTouchPoints}function l(){return b.navigator.msPointerEnabled}var m,n,o;m={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,offsetX:0,offsetY:0,distance:null,startTime:0,endTime:0,updatedX:0,targetEl:null},n={isTouch:!1,isScrolling:!1,isSwiping:!1,direction:!1,inMotion:!1},o={_onDragStart:null,_onDragMove:null,_onDragEnd:null,_transitionEnd:null,_resizer:null,_responsiveCall:null,_goToLoop:null,_checkVisibile:null},e.Defaults={items:3,loop:!1,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,responsiveClass:!1,fallbackEasing:\"swing\",info:!1,nestedItemSelector:!1,itemElement:\"div\",stageElement:\"div\",themeClass:\"owl-theme\",baseClass:\"owl-carousel\",itemClass:\"owl-item\",centerClass:\"center\",activeClass:\"active\"},e.Width={Default:\"default\",Inner:\"inner\",Outer:\"outer\"},e.Plugins={},e.Pipe=[{filter:[\"width\",\"items\",\"settings\"],run:function(a){a.current=this._items&&this._items[this.relative(this._current)]}},{filter:[\"items\",\"settings\"],run:function(){var a=this._clones,b=this.$stage.children(\".cloned\");(b.length!==a.length||!this.settings.loop&&a.length>0)&&(this.$stage.children(\".cloned\").remove(),this._clones=[])}},{filter:[\"items\",\"settings\"],run:function(){var a,b,c=this._clones,d=this._items,e=this.settings.loop?c.length-Math.max(2*this.settings.items,4):0;for(a=0,b=Math.abs(e/2);b>a;a++)e>0?(this.$stage.children().eq(d.length+c.length-1).remove(),c.pop(),this.$stage.children().eq(0).remove(),c.pop()):(c.push(c.length/2),this.$stage.append(d[c[c.length-1]].clone().addClass(\"cloned\")),c.push(d.length-1-(c.length-1)/2),this.$stage.prepend(d[c[c.length-1]].clone().addClass(\"cloned\")))}},{filter:[\"width\",\"items\",\"settings\"],run:function(){var a,b,c,d=this.settings.rtl?1:-1,e=(this.width()/this.settings.items).toFixed(3),f=0;for(this._coordinates=[],b=0,c=this._clones.length+this._items.length;c>b;b++)a=this._mergers[this.relative(b)],a=this.settings.mergeFit&&Math.min(a,this.settings.items)||a,f+=(this.settings.autoWidth?this._items[this.relative(b)].width()+this.settings.margin:e*a)*d,this._coordinates.push(f)}},{filter:[\"width\",\"items\",\"settings\"],run:function(){var b,c,d=(this.width()/this.settings.items).toFixed(3),e={width:Math.abs(this._coordinates[this._coordinates.length-1])+2*this.settings.stagePadding,\"padding-left\":this.settings.stagePadding||\"\",\"padding-right\":this.settings.stagePadding||\"\"};if(this.$stage.css(e),e={width:this.settings.autoWidth?\"auto\":d-this.settings.margin},e[this.settings.rtl?\"margin-left\":\"margin-right\"]=this.settings.margin,!this.settings.autoWidth&&a.grep(this._mergers,function(a){return a>1}).length>0)for(b=0,c=this._coordinates.length;c>b;b++)e.width=Math.abs(this._coordinates[b])-Math.abs(this._coordinates[b-1]||0)-this.settings.margin,this.$stage.children().eq(b).css(e);else this.$stage.children().css(e)}},{filter:[\"width\",\"items\",\"settings\"],run:function(a){a.current&&this.reset(this.$stage.children().index(a.current))}},{filter:[\"position\"],run:function(){this.animate(this.coordinates(this._current))}},{filter:[\"width\",\"position\",\"items\",\"settings\"],run:function(){var a,b,c,d,e=this.settings.rtl?1:-1,f=2*this.settings.stagePadding,g=this.coordinates(this.current())+f,h=g+this.width()*e,i=[];for(c=0,d=this._coordinates.length;d>c;c++)a=this._coordinates[c-1]||0,b=Math.abs(this._coordinates[c])+f*e,(this.op(a,\"<=\",g)&&this.op(a,\">\",h)||this.op(b,\"<\",g)&&this.op(b,\">\",h))&&i.push(c);this.$stage.children(\".\"+this.settings.activeClass).removeClass(this.settings.activeClass),this.$stage.children(\":eq(\"+i.join(\"), :eq(\")+\")\").addClass(this.settings.activeClass),this.settings.center&&(this.$stage.children(\".\"+this.settings.centerClass).removeClass(this.settings.centerClass),this.$stage.children().eq(this.current()).addClass(this.settings.centerClass))}}],e.prototype.initialize=function(){if(this.trigger(\"initialize\"),this.$element.addClass(this.settings.baseClass).addClass(this.settings.themeClass).toggleClass(\"owl-rtl\",this.settings.rtl),this.browserSupport(),this.settings.autoWidth&&this.state.imagesLoaded!==!0){var b,c,e;if(b=this.$element.find(\"img\"),c=this.settings.nestedItemSelector?\".\"+this.settings.nestedItemSelector:d,e=this.$element.children(c).width(),b.length&&0>=e)return this.preloadAutoWidthImages(b),!1}this.$element.addClass(\"owl-loading\"),this.$stage=a(\"<\"+this.settings.stageElement+' class=\"owl-stage\"/>').wrap('<div class=\"owl-stage-outer\">'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this._width=this.$element.width(),this.refresh(),this.$element.removeClass(\"owl-loading\").addClass(\"owl-loaded\"),this.eventsCall(),this.internalEvents(),this.addTriggerableEvents(),this.trigger(\"initialized\")},e.prototype.setup=function(){var b=this.viewport(),c=this.options.responsive,d=-1,e=null;c?(a.each(c,function(a){b>=a&&a>d&&(d=Number(a))}),e=a.extend({},this.options,c[d]),delete e.responsive,e.responsiveClass&&this.$element.attr(\"class\",function(a,b){return b.replace(/\\b owl-responsive-\\S+/g,\"\")}).addClass(\"owl-responsive-\"+d)):e=a.extend({},this.options),(null===this.settings||this._breakpoint!==d)&&(this.trigger(\"change\",{property:{name:\"settings\",value:e}}),this._breakpoint=d,this.settings=e,this.invalidate(\"settings\"),this.trigger(\"changed\",{property:{name:\"settings\",value:this.settings}}))},e.prototype.optionsLogic=function(){this.$element.toggleClass(\"owl-center\",this.settings.center),this.settings.loop&&this._items.length<this.settings.items&&(this.settings.loop=!1),this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},e.prototype.prepare=function(b){var c=this.trigger(\"prepare\",{content:b});return c.data||(c.data=a(\"<\"+this.settings.itemElement+\"/>\").addClass(this.settings.itemClass).append(b)),this.trigger(\"prepared\",{content:c.data}),c.data},e.prototype.update=function(){for(var b=0,c=this._pipe.length,d=a.proxy(function(a){return this[a]},this._invalidated),e={};c>b;)(this._invalidated.all||a.grep(this._pipe[b].filter,d).length>0)&&this._pipe[b].run(e),b++;this._invalidated={}},e.prototype.width=function(a){switch(a=a||e.Width.Default){case e.Width.Inner:case e.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},e.prototype.refresh=function(){if(0===this._items.length)return!1;(new Date).getTime();this.trigger(\"refresh\"),this.setup(),this.optionsLogic(),this.$stage.addClass(\"owl-refresh\"),this.update(),this.$stage.removeClass(\"owl-refresh\"),this.state.orientation=b.orientation,this.watchVisibility(),this.trigger(\"refreshed\")},e.prototype.eventsCall=function(){this.e._onDragStart=a.proxy(function(a){this.onDragStart(a)},this),this.e._onDragMove=a.proxy(function(a){this.onDragMove(a)},this),this.e._onDragEnd=a.proxy(function(a){this.onDragEnd(a)},this),this.e._onResize=a.proxy(function(a){this.onResize(a)},this),this.e._transitionEnd=a.proxy(function(a){this.transitionEnd(a)},this),this.e._preventClick=a.proxy(function(a){this.preventClick(a)},this)},e.prototype.onThrottledResize=function(){b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this.e._onResize,this.settings.responsiveRefreshRate)},e.prototype.onResize=function(){return this._items.length?this._width===this.$element.width()?!1:this.trigger(\"resize\").isDefaultPrevented()?!1:(this._width=this.$element.width(),this.invalidate(\"width\"),this.refresh(),void this.trigger(\"resized\")):!1},e.prototype.eventsRouter=function(a){var b=a.type;\"mousedown\"===b||\"touchstart\"===b?this.onDragStart(a):\"mousemove\"===b||\"touchmove\"===b?this.onDragMove(a):\"mouseup\"===b||\"touchend\"===b?this.onDragEnd(a):\"touchcancel\"===b&&this.onDragEnd(a)},e.prototype.internalEvents=function(){var c=(k(),l());this.settings.mouseDrag?(this.$stage.on(\"mousedown\",a.proxy(function(a){this.eventsRouter(a)},this)),this.$stage.on(\"dragstart\",function(){return!1}),this.$stage.get(0).onselectstart=function(){return!1}):this.$element.addClass(\"owl-text-select-on\"),this.settings.touchDrag&&!c&&this.$stage.on(\"touchstart touchcancel\",a.proxy(function(a){this.eventsRouter(a)},this)),this.transitionEndVendor&&this.on(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd,!1),this.settings.responsive!==!1&&this.on(b,\"resize\",a.proxy(this.onThrottledResize,this))},e.prototype.onDragStart=function(d){var e,g,h,i;if(e=d.originalEvent||d||b.event,3===e.which||this.state.isTouch)return!1;if(\"mousedown\"===e.type&&this.$stage.addClass(\"owl-grab\"),this.trigger(\"drag\"),this.drag.startTime=(new Date).getTime(),this.speed(0),this.state.isTouch=!0,this.state.isScrolling=!1,this.state.isSwiping=!1,this.drag.distance=0,g=f(e).x,h=f(e).y,this.drag.offsetX=this.$stage.position().left,this.drag.offsetY=this.$stage.position().top,this.settings.rtl&&(this.drag.offsetX=this.$stage.position().left+this.$stage.width()-this.width()+this.settings.margin),this.state.inMotion&&this.support3d)i=this.getTransformProperty(),this.drag.offsetX=i,this.animate(i),this.state.inMotion=!0;else if(this.state.inMotion&&!this.support3d)return this.state.inMotion=!1,!1;this.drag.startX=g-this.drag.offsetX,this.drag.startY=h-this.drag.offsetY,this.drag.start=g-this.drag.startX,this.drag.targetEl=e.target||e.srcElement,this.drag.updatedX=this.drag.start,(\"IMG\"===this.drag.targetEl.tagName||\"A\"===this.drag.targetEl.tagName)&&(this.drag.targetEl.draggable=!1),a(c).on(\"mousemove.owl.dragEvents mouseup.owl.dragEvents touchmove.owl.dragEvents touchend.owl.dragEvents\",a.proxy(function(a){this.eventsRouter(a)},this))},e.prototype.onDragMove=function(a){var c,e,g,h,i,j;this.state.isTouch&&(this.state.isScrolling||(c=a.originalEvent||a||b.event,e=f(c).x,g=f(c).y,this.drag.currentX=e-this.drag.startX,this.drag.currentY=g-this.drag.startY,this.drag.distance=this.drag.currentX-this.drag.offsetX,this.drag.distance<0?this.state.direction=this.settings.rtl?\"right\":\"left\":this.drag.distance>0&&(this.state.direction=this.settings.rtl?\"left\":\"right\"),this.settings.loop?this.op(this.drag.currentX,\">\",this.coordinates(this.minimum()))&&\"right\"===this.state.direction?this.drag.currentX-=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length):this.op(this.drag.currentX,\"<\",this.coordinates(this.maximum()))&&\"left\"===this.state.direction&&(this.drag.currentX+=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length)):(h=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),i=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),j=this.settings.pullDrag?this.drag.distance/5:0,this.drag.currentX=Math.max(Math.min(this.drag.currentX,h+j),i+j)),(this.drag.distance>8||this.drag.distance<-8)&&(c.preventDefault!==d?c.preventDefault():c.returnValue=!1,this.state.isSwiping=!0),this.drag.updatedX=this.drag.currentX,(this.drag.currentY>16||this.drag.currentY<-16)&&this.state.isSwiping===!1&&(this.state.isScrolling=!0,this.drag.updatedX=this.drag.start),this.animate(this.drag.updatedX)))},e.prototype.onDragEnd=function(b){var d,e,f;if(this.state.isTouch){if(\"mouseup\"===b.type&&this.$stage.removeClass(\"owl-grab\"),this.trigger(\"dragged\"),this.drag.targetEl.removeAttribute(\"draggable\"),this.state.isTouch=!1,this.state.isScrolling=!1,this.state.isSwiping=!1,0===this.drag.distance&&this.state.inMotion!==!0)return this.state.inMotion=!1,!1;this.drag.endTime=(new Date).getTime(),d=this.drag.endTime-this.drag.startTime,e=Math.abs(this.drag.distance),(e>3||d>300)&&this.removeClick(this.drag.targetEl),f=this.closest(this.drag.updatedX),this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(f),this.invalidate(\"position\"),this.update(),this.settings.pullDrag||this.drag.updatedX!==this.coordinates(f)||this.transitionEnd(),this.drag.distance=0,a(c).off(\".owl.dragEvents\")}},e.prototype.removeClick=function(c){this.drag.targetEl=c,a(c).on(\"click.preventClick\",this.e._preventClick),b.setTimeout(function(){a(c).off(\"click.preventClick\")},300)},e.prototype.preventClick=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopPropagation&&b.stopPropagation(),a(b.target).off(\"click.preventClick\")},e.prototype.getTransformProperty=function(){var a,c;return a=b.getComputedStyle(this.$stage.get(0),null).getPropertyValue(this.vendorName+\"transform\"),a=a.replace(/matrix(3d)?\\(|\\)/g,\"\").split(\",\"),c=16===a.length,c!==!0?a[4]:a[12]},e.prototype.closest=function(b){var c=-1,d=30,e=this.width(),f=this.coordinates();return this.settings.freeDrag||a.each(f,a.proxy(function(a,g){return b>g-d&&g+d>b?c=a:this.op(b,\"<\",g)&&this.op(b,\">\",f[a+1]||g-e)&&(c=\"left\"===this.state.direction?a+1:a),-1===c},this)),this.settings.loop||(this.op(b,\">\",f[this.minimum()])?c=b=this.minimum():this.op(b,\"<\",f[this.maximum()])&&(c=b=this.maximum())),c},e.prototype.animate=function(b){this.trigger(\"translate\"),this.state.inMotion=this.speed()>0,this.support3d?this.$stage.css({transform:\"translate3d(\"+b+\"px,0px, 0px)\",transition:this.speed()/1e3+\"s\"}):this.state.isTouch?this.$stage.css({left:b+\"px\"}):this.$stage.animate({left:b},this.speed()/1e3,this.settings.fallbackEasing,a.proxy(function(){this.state.inMotion&&this.transitionEnd()},this))},e.prototype.current=function(a){if(a===d)return this._current;if(0===this._items.length)return d;if(a=this.normalize(a),this._current!==a){var b=this.trigger(\"change\",{property:{name:\"position\",value:a}});b.data!==d&&(a=this.normalize(b.data)),this._current=a,this.invalidate(\"position\"),this.trigger(\"changed\",{property:{name:\"position\",value:this._current}})}return this._current},e.prototype.invalidate=function(a){this._invalidated[a]=!0},e.prototype.reset=function(a){a=this.normalize(a),a!==d&&(this._speed=0,this._current=a,this.suppress([\"translate\",\"translated\"]),this.animate(this.coordinates(a)),this.release([\"translate\",\"translated\"]))},e.prototype.normalize=function(b,c){var e=c?this._items.length:this._items.length+this._clones.length;return!a.isNumeric(b)||1>e?d:b=this._clones.length?(b%e+e)%e:Math.max(this.minimum(c),Math.min(this.maximum(c),b))},e.prototype.relative=function(a){return a=this.normalize(a),a-=this._clones.length/2,this.normalize(a,!0)},e.prototype.maximum=function(a){var b,c,d,e=0,f=this.settings;if(a)return this._items.length-1;if(!f.loop&&f.center)b=this._items.length-1;else if(f.loop||f.center)if(f.loop||f.center)b=this._items.length+f.items;else{if(!f.autoWidth&&!f.merge)throw\"Can not detect maximum absolute position.\";for(revert=f.rtl?1:-1,c=this.$stage.width()-this.$element.width();(d=this.coordinates(e))&&!(d*revert>=c);)b=++e}else b=this._items.length-f.items;return b},e.prototype.minimum=function(a){return a?0:this._clones.length/2},e.prototype.items=function(a){return a===d?this._items.slice():(a=this.normalize(a,!0),this._items[a])},e.prototype.mergers=function(a){return a===d?this._mergers.slice():(a=this.normalize(a,!0),this._mergers[a])},e.prototype.clones=function(b){var c=this._clones.length/2,e=c+this._items.length,f=function(a){return a%2===0?e+a/2:c-(a+1)/2};return b===d?a.map(this._clones,function(a,b){return f(b)}):a.map(this._clones,function(a,c){return a===b?f(c):null})},e.prototype.speed=function(a){return a!==d&&(this._speed=a),this._speed},e.prototype.coordinates=function(b){var c=null;return b===d?a.map(this._coordinates,a.proxy(function(a,b){return this.coordinates(b)},this)):(this.settings.center?(c=this._coordinates[b],c+=(this.width()-c+(this._coordinates[b-1]||0))/2*(this.settings.rtl?-1:1)):c=this._coordinates[b-1]||0,c)},e.prototype.duration=function(a,b,c){return Math.min(Math.max(Math.abs(b-a),1),6)*Math.abs(c||this.settings.smartSpeed)},e.prototype.to=function(c,d){if(this.settings.loop){var e=c-this.relative(this.current()),f=this.current(),g=this.current(),h=this.current()+e,i=0>g-h?!0:!1,j=this._clones.length+this._items.length;h<this.settings.items&&i===!1?(f=g+this._items.length,this.reset(f)):h>=j-this.settings.items&&i===!0&&(f=g-this._items.length,this.reset(f)),b.clearTimeout(this.e._goToLoop),this.e._goToLoop=b.setTimeout(a.proxy(function(){this.speed(this.duration(this.current(),f+e,d)),this.current(f+e),this.update()},this),30)}else this.speed(this.duration(this.current(),c,d)),this.current(c),this.update()},e.prototype.next=function(a){a=a||!1,this.to(this.relative(this.current())+1,a)},e.prototype.prev=function(a){a=a||!1,this.to(this.relative(this.current())-1,a)},e.prototype.transitionEnd=function(a){return a!==d&&(a.stopPropagation(),(a.target||a.srcElement||a.originalTarget)!==this.$stage.get(0))?!1:(this.state.inMotion=!1,void this.trigger(\"translated\"))},e.prototype.viewport=function(){var d;if(this.options.responsiveBaseElement!==b)d=a(this.options.responsiveBaseElement).width();else if(b.innerWidth)d=b.innerWidth;else{if(!c.documentElement||!c.documentElement.clientWidth)throw\"Can not detect viewport width.\";d=c.documentElement.clientWidth}return d},e.prototype.replace=function(b){this.$stage.empty(),this._items=[],b&&(b=b instanceof jQuery?b:a(b)),this.settings.nestedItemSelector&&(b=b.find(\".\"+this.settings.nestedItemSelector)),b.filter(function(){return 1===this.nodeType}).each(a.proxy(function(a,b){b=this.prepare(b),this.$stage.append(b),this._items.push(b),this._mergers.push(1*b.find(\"[data-merge]\").andSelf(\"[data-merge]\").attr(\"data-merge\")||1)},this)),this.reset(a.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate(\"items\")},e.prototype.add=function(a,b){b=b===d?this._items.length:this.normalize(b,!0),this.trigger(\"add\",{content:a,position:b}),0===this._items.length||b===this._items.length?(this.$stage.append(a),this._items.push(a),this._mergers.push(1*a.find(\"[data-merge]\").andSelf(\"[data-merge]\").attr(\"data-merge\")||1)):(this._items[b].before(a),this._items.splice(b,0,a),this._mergers.splice(b,0,1*a.find(\"[data-merge]\").andSelf(\"[data-merge]\").attr(\"data-merge\")||1)),this.invalidate(\"items\"),this.trigger(\"added\",{content:a,position:b})},e.prototype.remove=function(a){a=this.normalize(a,!0),a!==d&&(this.trigger(\"remove\",{content:this._items[a],position:a}),this._items[a].remove(),this._items.splice(a,1),this._mergers.splice(a,1),this.invalidate(\"items\"),this.trigger(\"removed\",{content:null,position:a}))},e.prototype.addTriggerableEvents=function(){var b=a.proxy(function(b,c){return a.proxy(function(a){a.relatedTarget!==this&&(this.suppress([c]),b.apply(this,[].slice.call(arguments,1)),this.release([c]))},this)},this);a.each({next:this.next,prev:this.prev,to:this.to,destroy:this.destroy,refresh:this.refresh,replace:this.replace,add:this.add,remove:this.remove},a.proxy(function(a,c){this.$element.on(a+\".owl.carousel\",b(c,a+\".owl.carousel\"))},this))},e.prototype.watchVisibility=function(){function c(a){return a.offsetWidth>0&&a.offsetHeight>0}function d(){c(this.$element.get(0))&&(this.$element.removeClass(\"owl-hidden\"),this.refresh(),b.clearInterval(this.e._checkVisibile))}c(this.$element.get(0))||(this.$element.addClass(\"owl-hidden\"),b.clearInterval(this.e._checkVisibile),this.e._checkVisibile=b.setInterval(a.proxy(d,this),500))},e.prototype.preloadAutoWidthImages=function(b){var c,d,e,f;c=0,d=this,b.each(function(g,h){e=a(h),f=new Image,f.onload=function(){c++,e.attr(\"src\",f.src),e.css(\"opacity\",1),c>=b.length&&(d.state.imagesLoaded=!0,d.initialize())},f.src=e.attr(\"src\")||e.attr(\"data-src\")||e.attr(\"data-src-retina\")})},e.prototype.destroy=function(){this.$element.hasClass(this.settings.themeClass)&&this.$element.removeClass(this.settings.themeClass),this.settings.responsive!==!1&&a(b).off(\"resize.owl.carousel\"),this.transitionEndVendor&&this.off(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd);for(var d in this._plugins)this._plugins[d].destroy();(this.settings.mouseDrag||this.settings.touchDrag)&&(this.$stage.off(\"mousedown touchstart touchcancel\"),a(c).off(\".owl.dragEvents\"),this.$stage.get(0).onselectstart=function(){},this.$stage.off(\"dragstart\",function(){return!1})),this.$element.off(\".owl\"),this.$stage.children(\".cloned\").remove(),this.e=null,this.$element.removeData(\"owlCarousel\"),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.unwrap()},e.prototype.op=function(a,b,c){var d=this.settings.rtl;switch(b){case\"<\":return d?a>c:c>a;case\">\":return d?c>a:a>c;case\">=\":return d?c>=a:a>=c;case\"<=\":return d?a>=c:c>=a}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent(\"on\"+b,c)},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent(\"on\"+b,c)},e.prototype.trigger=function(b,c,d){var e={item:{count:this._items.length,index:this.current()}},f=a.camelCase(a.grep([\"on\",b,d],function(a){return a}).join(\"-\").toLowerCase()),g=a.Event([b,\"owl\",d||\"carousel\"].join(\".\").toLowerCase(),a.extend({relatedTarget:this},e,c));return this._supress[b]||(a.each(this._plugins,function(a,b){b.onTrigger&&b.onTrigger(g)}),this.$element.trigger(g),this.settings&&\"function\"==typeof this.settings[f]&&this.settings[f].apply(this,g)),g},e.prototype.suppress=function(b){a.each(b,a.proxy(function(a,b){this._supress[b]=!0},this))},e.prototype.release=function(b){a.each(b,a.proxy(function(a,b){delete this._supress[b]},this))},e.prototype.browserSupport=function(){if(this.support3d=j(),this.support3d){this.transformVendor=i();var a=[\"transitionend\",\"webkitTransitionEnd\",\"transitionend\",\"oTransitionEnd\"];this.transitionEndVendor=a[h()],this.vendorName=this.transformVendor.replace(/Transform/i,\"\"),this.vendorName=\"\"!==this.vendorName?\"-\"+this.vendorName.toLowerCase()+\"-\":\"\"}this.state.orientation=b.orientation},a.fn.owlCarousel=function(b){return this.each(function(){a(this).data(\"owlCarousel\")||a(this).data(\"owlCarousel\",new e(this,b))})},a.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),function(a,b){var c=function(b){this._core=b,this._loaded=[],this._handlers={\"initialized.owl.carousel change.owl.carousel\":a.proxy(function(b){if(b.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(b.property&&\"position\"==b.property.name||\"initialized\"==b.type))for(var c=this._core.settings,d=c.center&&Math.ceil(c.items/2)||c.items,e=c.center&&-1*d||0,f=(b.property&&b.property.value||this._core.current())+e,g=this._core.clones().length,h=a.proxy(function(a,b){this.load(b)},this);e++<d;)this.load(g/2+this._core.relative(f)),g&&a.each(this._core.clones(this._core.relative(f++)),h)},this)},this._core.options=a.extend({},c.Defaults,this._core.options),this._core.$element.on(this._handlers)};c.Defaults={lazyLoad:!1},c.prototype.load=function(c){var d=this._core.$stage.children().eq(c),e=d&&d.find(\".owl-lazy\");!e||a.inArray(d.get(0),this._loaded)>-1||(e.each(a.proxy(function(c,d){var e,f=a(d),g=b.devicePixelRatio>1&&f.attr(\"data-src-retina\")||f.attr(\"data-src\");this._core.trigger(\"load\",{element:f,url:g},\"lazy\"),f.is(\"img\")?f.one(\"load.owl.lazy\",a.proxy(function(){f.css(\"opacity\",1),this._core.trigger(\"loaded\",{element:f,url:g},\"lazy\")},this)).attr(\"src\",g):(e=new Image,e.onload=a.proxy(function(){f.css({\"background-image\":\"url(\"+g+\")\",opacity:\"1\"}),this._core.trigger(\"loaded\",{element:f,url:g},\"lazy\")},this),e.src=g)},this)),this._loaded.push(d.get(0)))},c.prototype.destroy=function(){var a,b;for(a in this.handlers)this._core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))\"function\"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=c}(window.Zepto||window.jQuery,window,document),function(a){var b=function(c){this._core=c,this._handlers={\"initialized.owl.carousel\":a.proxy(function(){this._core.settings.autoHeight&&this.update()},this),\"changed.owl.carousel\":a.proxy(function(a){this._core.settings.autoHeight&&\"position\"==a.property.name&&this.update()},this),\"loaded.owl.lazy\":a.proxy(function(a){this._core.settings.autoHeight&&a.element.closest(\".\"+this._core.settings.itemClass)===this._core.$stage.children().eq(this._core.current())&&this.update()},this)},this._core.options=a.extend({},b.Defaults,this._core.options),this._core.$element.on(this._handlers)};b.Defaults={autoHeight:!1,autoHeightClass:\"owl-height\"},b.prototype.update=function(){this._core.$stage.parent().height(this._core.$stage.children().eq(this._core.current()).height()).addClass(this._core.settings.autoHeightClass)},b.prototype.destroy=function(){var a,b;for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))\"function\"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=b}(window.Zepto||window.jQuery,window,document),function(a,b,c){var d=function(b){this._core=b,this._videos={},this._playing=null,this._fullscreen=!1,this._handlers={\"resize.owl.carousel\":a.proxy(function(a){this._core.settings.video&&!this.isInFullScreen()&&a.preventDefault()},this),\"refresh.owl.carousel changed.owl.carousel\":a.proxy(function(){this._playing&&this.stop()},this),\"prepared.owl.carousel\":a.proxy(function(b){var c=a(b.content).find(\".owl-video\");c.length&&(c.css(\"display\",\"none\"),this.fetch(c,a(b.content)))},this)},this._core.options=a.extend({},d.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on(\"click.owl.video\",\".owl-video-play-icon\",a.proxy(function(a){this.play(a)},this))};d.Defaults={video:!1,videoHeight:!1,videoWidth:!1},d.prototype.fetch=function(a,b){var c=a.attr(\"data-vimeo-id\")?\"vimeo\":\"youtube\",d=a.attr(\"data-vimeo-id\")||a.attr(\"data-youtube-id\"),e=a.attr(\"data-width\")||this._core.settings.videoWidth,f=a.attr(\"data-height\")||this._core.settings.videoHeight,g=a.attr(\"href\");if(!g)throw new Error(\"Missing video URL.\");if(d=g.match(/(http:|https:|)\\/\\/(player.|www.)?(vimeo\\.com|youtu(be\\.com|\\.be|be\\.googleapis\\.com))\\/(video\\/|embed\\/|watch\\?v=|v\\/)?([A-Za-z0-9._%-]*)(\\&\\S+)?/),d[3].indexOf(\"youtu\")>-1)c=\"youtube\";else{if(!(d[3].indexOf(\"vimeo\")>-1))throw new Error(\"Video URL not supported.\");c=\"vimeo\"}d=d[6],this._videos[g]={type:c,id:d,width:e,height:f},b.attr(\"data-video\",g),this.thumbnail(a,this._videos[g])},d.prototype.thumbnail=function(b,c){var d,e,f,g=c.width&&c.height?'style=\"width:'+c.width+\"px;height:\"+c.height+'px;\"':\"\",h=b.find(\"img\"),i=\"src\",j=\"\",k=this._core.settings,l=function(a){e='<div class=\"owl-video-play-icon\"></div>',d=k.lazyLoad?'<div class=\"owl-video-tn '+j+'\" '+i+'=\"'+a+'\"></div>':'<div class=\"owl-video-tn\" style=\"opacity:1;background-image:url('+a+')\"></div>',b.after(d),b.after(e)};return b.wrap('<div class=\"owl-video-wrapper\"'+g+\"></div>\"),this._core.settings.lazyLoad&&(i=\"data-src\",j=\"owl-lazy\"),h.length?(l(h.attr(i)),h.remove(),!1):void(\"youtube\"===c.type?(f=\"http://img.youtube.com/vi/\"+c.id+\"/hqdefault.jpg\",l(f)):\"vimeo\"===c.type&&a.ajax({type:\"GET\",url:\"http://vimeo.com/api/v2/video/\"+c.id+\".json\",jsonp:\"callback\",dataType:\"jsonp\",success:function(a){f=a[0].thumbnail_large,l(f)}}))},d.prototype.stop=function(){this._core.trigger(\"stop\",null,\"video\"),this._playing.find(\".owl-video-frame\").remove(),this._playing.removeClass(\"owl-video-playing\"),this._playing=null},d.prototype.play=function(b){this._core.trigger(\"play\",null,\"video\"),this._playing&&this.stop();var c,d,e=a(b.target||b.srcElement),f=e.closest(\".\"+this._core.settings.itemClass),g=this._videos[f.attr(\"data-video\")],h=g.width||\"100%\",i=g.height||this._core.$stage.height();\"youtube\"===g.type?c='<iframe width=\"'+h+'\" height=\"'+i+'\" src=\"http://www.youtube.com/embed/'+g.id+\"?autoplay=1&v=\"+g.id+'\" frameborder=\"0\" allowfullscreen></iframe>':\"vimeo\"===g.type&&(c='<iframe src=\"http://player.vimeo.com/video/'+g.id+'?autoplay=1\" width=\"'+h+'\" height=\"'+i+'\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),f.addClass(\"owl-video-playing\"),this._playing=f,d=a('<div style=\"height:'+i+\"px; width:\"+h+'px\" class=\"owl-video-frame\">'+c+\"</div>\"),e.after(d)},d.prototype.isInFullScreen=function(){var d=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return d&&a(d).parent().hasClass(\"owl-video-frame\")&&(this._core.speed(0),this._fullscreen=!0),d&&this._fullscreen&&this._playing?!1:this._fullscreen?(this._fullscreen=!1,!1):this._playing&&this._core.state.orientation!==b.orientation?(this._core.state.orientation=b.orientation,!1):!0},d.prototype.destroy=function(){var a,b;this._core.$element.off(\"click.owl.video\");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))\"function\"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Video=d}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this.core=b,this.core.options=a.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=d,this.next=d,this.handlers={\"change.owl.carousel\":a.proxy(function(a){\"position\"==a.property.name&&(this.previous=this.core.current(),this.next=a.property.value)},this),\"drag.owl.carousel dragged.owl.carousel translated.owl.carousel\":a.proxy(function(a){this.swapping=\"translated\"==a.type},this),\"translate.owl.carousel\":a.proxy(function(){this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&this.core.support3d){this.core.speed(0);var b,c=a.proxy(this.clear,this),d=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),f=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(b=this.core.coordinates(this.previous)-this.core.coordinates(this.next),d.css({left:b+\"px\"}).addClass(\"animated owl-animated-out\").addClass(g).one(\"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend\",c)),f&&e.addClass(\"animated owl-animated-in\").addClass(f).one(\"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend\",c))}},e.prototype.clear=function(b){a(b.target).css({left:\"\"}).removeClass(\"animated owl-animated-out owl-animated-in\").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.transitionEnd()},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))\"function\"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,window,document),function(a,b,c){var d=function(b){this.core=b,this.core.options=a.extend({},d.Defaults,this.core.options),this.handlers={\"translated.owl.carousel refreshed.owl.carousel\":a.proxy(function(){this.autoplay()\n},this),\"play.owl.autoplay\":a.proxy(function(a,b,c){this.play(b,c)},this),\"stop.owl.autoplay\":a.proxy(function(){this.stop()},this),\"mouseover.owl.autoplay\":a.proxy(function(){this.core.settings.autoplayHoverPause&&this.pause()},this),\"mouseleave.owl.autoplay\":a.proxy(function(){this.core.settings.autoplayHoverPause&&this.autoplay()},this)},this.core.$element.on(this.handlers)};d.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},d.prototype.autoplay=function(){this.core.settings.autoplay&&!this.core.state.videoPlay?(b.clearInterval(this.interval),this.interval=b.setInterval(a.proxy(function(){this.play()},this),this.core.settings.autoplayTimeout)):b.clearInterval(this.interval)},d.prototype.play=function(){return c.hidden===!0||this.core.state.isTouch||this.core.state.isScrolling||this.core.state.isSwiping||this.core.state.inMotion?void 0:this.core.settings.autoplay===!1?void b.clearInterval(this.interval):void this.core.next(this.core.settings.autoplaySpeed)},d.prototype.stop=function(){b.clearInterval(this.interval)},d.prototype.pause=function(){b.clearInterval(this.interval)},d.prototype.destroy=function(){var a,c;b.clearInterval(this.interval);for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(c in Object.getOwnPropertyNames(this))\"function\"!=typeof this[c]&&(this[c]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=d}(window.Zepto||window.jQuery,window,document),function(a){\"use strict\";var b=function(c){this._core=c,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={\"prepared.owl.carousel\":a.proxy(function(b){this._core.settings.dotsData&&this._templates.push(a(b.content).find(\"[data-dot]\").andSelf(\"[data-dot]\").attr(\"data-dot\"))},this),\"add.owl.carousel\":a.proxy(function(b){this._core.settings.dotsData&&this._templates.splice(b.position,0,a(b.content).find(\"[data-dot]\").andSelf(\"[data-dot]\").attr(\"data-dot\"))},this),\"remove.owl.carousel prepared.owl.carousel\":a.proxy(function(a){this._core.settings.dotsData&&this._templates.splice(a.position,1)},this),\"change.owl.carousel\":a.proxy(function(a){if(\"position\"==a.property.name&&!this._core.state.revert&&!this._core.settings.loop&&this._core.settings.navRewind){var b=this._core.current(),c=this._core.maximum(),d=this._core.minimum();a.data=a.property.value>c?b>=c?d:c:a.property.value<d?c:a.property.value}},this),\"changed.owl.carousel\":a.proxy(function(a){\"position\"==a.property.name&&this.draw()},this),\"refreshed.owl.carousel\":a.proxy(function(){this._initialized||(this.initialize(),this._initialized=!0),this._core.trigger(\"refresh\",null,\"navigation\"),this.update(),this.draw(),this._core.trigger(\"refreshed\",null,\"navigation\")},this)},this._core.options=a.extend({},b.Defaults,this._core.options),this.$element.on(this._handlers)};b.Defaults={nav:!1,navRewind:!0,navText:[\"prev\",\"next\"],navSpeed:!1,navElement:\"div\",navContainer:!1,navContainerClass:\"owl-nav\",navClass:[\"owl-prev\",\"owl-next\"],slideBy:1,dotClass:\"owl-dot\",dotsClass:\"owl-dots\",dots:!0,dotsEach:!1,dotData:!1,dotsSpeed:!1,dotsContainer:!1,controlsClass:\"owl-controls\"},b.prototype.initialize=function(){var b,c,d=this._core.settings;d.dotsData||(this._templates=[a(\"<div>\").addClass(d.dotClass).append(a(\"<span>\")).prop(\"outerHTML\")]),d.navContainer&&d.dotsContainer||(this._controls.$container=a(\"<div>\").addClass(d.controlsClass).appendTo(this.$element)),this._controls.$indicators=d.dotsContainer?a(d.dotsContainer):a(\"<div>\").hide().addClass(d.dotsClass).appendTo(this._controls.$container),this._controls.$indicators.on(\"click\",\"div\",a.proxy(function(b){var c=a(b.target).parent().is(this._controls.$indicators)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.to(c,d.dotsSpeed)},this)),b=d.navContainer?a(d.navContainer):a(\"<div>\").addClass(d.navContainerClass).prependTo(this._controls.$container),this._controls.$next=a(\"<\"+d.navElement+\">\"),this._controls.$previous=this._controls.$next.clone(),this._controls.$previous.addClass(d.navClass[0]).html(d.navText[0]).hide().prependTo(b).on(\"click\",a.proxy(function(){this.prev(d.navSpeed)},this)),this._controls.$next.addClass(d.navClass[1]).html(d.navText[1]).hide().appendTo(b).on(\"click\",a.proxy(function(){this.next(d.navSpeed)},this));for(c in this._overrides)this._core[c]=a.proxy(this[c],this)},b.prototype.destroy=function(){var a,b,c,d;for(a in this._handlers)this.$element.off(a,this._handlers[a]);for(b in this._controls)this._controls[b].remove();for(d in this.overides)this._core[d]=this._overrides[d];for(c in Object.getOwnPropertyNames(this))\"function\"!=typeof this[c]&&(this[c]=null)},b.prototype.update=function(){var a,b,c,d=this._core.settings,e=this._core.clones().length/2,f=e+this._core.items().length,g=d.center||d.autoWidth||d.dotData?1:d.dotsEach||d.items;if(\"page\"!==d.slideBy&&(d.slideBy=Math.min(d.slideBy,d.items)),d.dots||\"page\"==d.slideBy)for(this._pages=[],a=e,b=0,c=0;f>a;a++)(b>=g||0===b)&&(this._pages.push({start:a-e,end:a-e+g-1}),b=0,++c),b+=this._core.mergers(this._core.relative(a))},b.prototype.draw=function(){var b,c,d=\"\",e=this._core.settings,f=(this._core.$stage.children(),this._core.relative(this._core.current()));if(!e.nav||e.loop||e.navRewind||(this._controls.$previous.toggleClass(\"disabled\",0>=f),this._controls.$next.toggleClass(\"disabled\",f>=this._core.maximum())),this._controls.$previous.toggle(e.nav),this._controls.$next.toggle(e.nav),e.dots){if(b=this._pages.length-this._controls.$indicators.children().length,e.dotData&&0!==b){for(c=0;c<this._controls.$indicators.children().length;c++)d+=this._templates[this._core.relative(c)];this._controls.$indicators.html(d)}else b>0?(d=new Array(b+1).join(this._templates[0]),this._controls.$indicators.append(d)):0>b&&this._controls.$indicators.children().slice(b).remove();this._controls.$indicators.find(\".active\").removeClass(\"active\"),this._controls.$indicators.children().eq(a.inArray(this.current(),this._pages)).addClass(\"active\")}this._controls.$indicators.toggle(e.dots)},b.prototype.onTrigger=function(b){var c=this._core.settings;b.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:c&&(c.center||c.autoWidth||c.dotData?1:c.dotsEach||c.items)}},b.prototype.current=function(){var b=this._core.relative(this._core.current());return a.grep(this._pages,function(a){return a.start<=b&&a.end>=b}).pop()},b.prototype.getPosition=function(b){var c,d,e=this._core.settings;return\"page\"==e.slideBy?(c=a.inArray(this.current(),this._pages),d=this._pages.length,b?++c:--c,c=this._pages[(c%d+d)%d].start):(c=this._core.relative(this._core.current()),d=this._core.items().length,b?c+=e.slideBy:c-=e.slideBy),c},b.prototype.next=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),b)},b.prototype.prev=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),b)},b.prototype.to=function(b,c,d){var e;d?a.proxy(this._overrides.to,this._core)(b,c):(e=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(b%e+e)%e].start,c))},a.fn.owlCarousel.Constructor.Plugins.Navigation=b}(window.Zepto||window.jQuery,window,document),function(a,b){\"use strict\";var c=function(d){this._core=d,this._hashes={},this.$element=this._core.$element,this._handlers={\"initialized.owl.carousel\":a.proxy(function(){\"URLHash\"==this._core.settings.startPosition&&a(b).trigger(\"hashchange.owl.navigation\")},this),\"prepared.owl.carousel\":a.proxy(function(b){var c=a(b.content).find(\"[data-hash]\").andSelf(\"[data-hash]\").attr(\"data-hash\");this._hashes[c]=b.content},this)},this._core.options=a.extend({},c.Defaults,this._core.options),this.$element.on(this._handlers),a(b).on(\"hashchange.owl.navigation\",a.proxy(function(){var a=b.location.hash.substring(1),c=this._core.$stage.children(),d=this._hashes[a]&&c.index(this._hashes[a])||0;return a?void this._core.to(d,!1,!0):!1},this))};c.Defaults={URLhashListener:!1},c.prototype.destroy=function(){var c,d;a(b).off(\"hashchange.owl.navigation\");for(c in this._handlers)this._core.$element.off(c,this._handlers[c]);for(d in Object.getOwnPropertyNames(this))\"function\"!=typeof this[d]&&(this[d]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=c}(window.Zepto||window.jQuery,window,document);","'use strict';\n\nif (typeof (buildfire) == \"undefined\") throw (\"please add buildfire.js first to use carousel components\");\n\nif (typeof ($) == \"undefined\") throw (\"please add JQuery first to use carousel components\");\n\nif (typeof (buildfire.components) == \"undefined\")\n    buildfire.components = {};\n\nif (typeof (buildfire.components.carousel) == \"undefined\")\n    buildfire.components.carousel = {};\n\nbuildfire.components.carousel._resizeImage = function (url, options) {\n    if (!url) {\n        return \"\";\n    }\n    else {\n        return buildfire.imageLib.resizeImage(url, options);\n    }\n};\n\nbuildfire.components.carousel._cropImage = function (url, options) {\n    if (!url) {\n        return \"\";\n    }\n    else {\n        return buildfire.imageLib.cropImage(url, options);\n    }\n};\n\nbuildfire.components.carousel._getDomSelector = function (selector) {\n    if (selector && selector.nodeType && selector.nodeType === 1) {\n        return selector;\n    } else if (typeof (selector) === \"string\") {\n        selector = document.querySelector(selector);\n        if (selector) {\n            return selector;\n        }\n        throw \"selector is not a valid DOM selector\";\n    }\n    throw \"selector is not a valid DOM element nor string selector\";\n}\n\n// This is the class that will be used in the plugin content, design, or settings sections\nbuildfire.components.carousel.editor = function (selector, items) {\n    // carousel editor requires Sortable.js\n    if (typeof (Sortable) == \"undefined\") throw (\"please add Sortable first to use carousel components\");\n    this.selector = selector;\n    this.items = [];\n    this.init(selector);\n    this.loadItems(items);\n};\n\n// Carousel editor methods\nbuildfire.components.carousel.editor.prototype = {\n    // will be called to initialize the setting in the constructor\n    init: function (selector) {\n        this.selector = buildfire.components.carousel._getDomSelector(selector);\n        this._renderTemplate();\n        this.itemsContainer = this.selector.querySelector(\".carousel-items\");\n        this._initEvents();\n    },\n    // This will be triggered when you edit existing item details\n    onItemChange: function (item, index) {\n        throw (\"please handle onItemChange\");\n    },\n    /* This will be triggered when the order of items changes\n       Example: if you move the first item location to be the second this will return item object, 0, 1 */\n    onOrderChange: function (item, oldIndex, newIndex) {\n        console.warn(\"please handle onOrderChange\", item, oldIndex, newIndex);\n    },\n    // This will be triggered when you add a new item, item index will be items.length\n    onAddItems: function (items) {\n        console.warn(\"please handle onAddItems\", item);\n    },\n    // This will be triggered when you delete an item\n    onDeleteItem: function (item, index) {\n        console.warn(\"please handle onDeleteItem\", item);\n    },\n    // this method allows you to replace the slider image or append to then if appendItems = true\n    loadItems: function (items, appendItems) {\n        if (items && items instanceof Array) {\n            if (!appendItems && this.items.length !== 0) {\n                // here we want to remove any existing items since the user of the component don't want to append items\n                this._removeAll();\n            }\n\n            for (var i = 0; i < items.length; i++) {\n                this.items.push(items[i]);\n                this._appendItem(items[i]);\n            }\n        }\n    },\n    // allows you to append a single item or an array of items\n    append: function(items){\n        if(!items)\n            return;\n        else if(!(items instanceof Array) && typeof(items) == \"object\")\n            items=[items];\n\n        this.loadItems(items,true);\n    },\n    // remove all items in list\n    clear: function(){\n        this._removeAll();\n        this.onDeleteItem();\n    },\n    // remove all the DOM element and empty the items array\n    _removeAll: function () {\n        this.items = [];\n        var fc = this.itemsContainer.firstChild;\n        while (fc) {\n            this.itemsContainer.removeChild(fc);\n            fc = this.itemsContainer.firstChild;\n        }\n    },\n    // append new sortable item to the DOM\n    _appendItem: function (item) {\n        var me = this,\n            // Create the required DOM elements\n            wrapper = document.createElement(\"div\"),\n            moveHandle = document.createElement(\"span\"),\n            mediaHolder = document.createElement(\"div\"),\n            image = document.createElement(\"img\"),\n            details = document.createElement(\"div\"),\n            title = document.createElement(\"span\"),\n            actionsWrapper = document.createElement(\"div\"),\n            editButton = document.createElement(\"a\"),\n            deleteButton = document.createElement(\"span\");\n\n        // Add the required classes to the elements\n        wrapper.className = \"d-item\";\n        moveHandle.className = \"icon icon-menu pull-left\";\n        mediaHolder.className = \"media-holder pull-left\";\n        details.className = \"copy pull-right\";\n        title.className = \"title ellipsis\";\n        actionsWrapper.className = \"pull-right\";\n        editButton.className = \"text-primary text\";\n        deleteButton.className = \"btn-icon btn-delete-icon btn-danger transition-third\";\n\n        image.src = buildfire.components.carousel._resizeImage(item.iconUrl, { width: 80, height: 40 });\n        title.innerHTML = item.title;\n        editButton.innerHTML = (item.action && item.action != \"noAction\") ? \"Edit Action/Link\" : \"Add Action/Link\";\n\n        // Append elements to the DOM\n        wrapper.appendChild(moveHandle);\n        wrapper.appendChild(mediaHolder);\n        mediaHolder.appendChild(image);\n        details.appendChild(title);\n        \n        actionsWrapper.appendChild(editButton);\n        actionsWrapper.appendChild(deleteButton);\n\n        details.appendChild(actionsWrapper);\n\n        wrapper.appendChild(details);\n        me.itemsContainer.appendChild(wrapper);\n\n        // initialize the required events on the current item\n        (function () {\n            editButton.addEventListener(\"click\", function (e) {\n                e.preventDefault();\n                var itemIndex = me._getItemIndex(item);\n                var currentTarget = e.target;\n                var parentElement = currentTarget.parentNode.parentNode.parentNode;\n                me._openActionItem(item, function (actionItem) {\n                    me.items[itemIndex] = actionItem;\n                    item = actionItem;\n                    me.onItemChange(actionItem, itemIndex);\n                    parentElement.querySelector(\"img\").src = buildfire.components.carousel._resizeImage(actionItem.iconUrl, { width: 80, height: 40 });\n                    parentElement.querySelector(\".title\").innerHTML = actionItem.title;\n                    currentTarget.innerHTML = actionItem.action && actionItem.action != \"noAction\" ? \"Edit Action\" : \"Add Action\";\n                });\n            });\n\n            deleteButton.addEventListener(\"click\", function (e) {\n                e.preventDefault();\n                var itemIndex = me._getItemIndex(item),\n                    parent = this.parentNode.parentNode.parentNode;\n                if (itemIndex != -1) {\n                    me.items.splice(itemIndex, 1);\n                    parent.parentNode.removeChild(parent);\n                    me.onDeleteItem(item, itemIndex);\n                }\n            });\n        })(item);\n    },\n    // render the basic template HTML\n    _renderTemplate: function () {\n        var componentContainer = document.createElement(\"div\");\n        var componentName = document.createElement(\"span\");\n        var contentContainer = document.createElement(\"div\");\n        var buttonContainer = document.createElement(\"div\");\n        var button = document.createElement(\"a\");\n        var sliderContainer = document.createElement(\"div\");\n\n        componentContainer.className = \"item clearfix row\";\n        componentName.className = \"labels col-md-3 padding-right-zero pull-left\";\n        componentName.innerHTML = \"Image Carousel\";\n        contentContainer.className = \"main col-md-9 pull-right\";\n        buttonContainer.className = \"clearfix\";\n        button.className = \"btn btn-success pull-left add-new-carousel\";\n        sliderContainer.className = \"carousel-items hide-empty draggable-list-view margin-top-twenty border-radius-four border-grey\";\n\n        button.innerHTML = \"Add Image\";\n\n        componentContainer.appendChild(componentName);\n        buttonContainer.appendChild(button);\n        contentContainer.appendChild(buttonContainer);\n        contentContainer.appendChild(sliderContainer);\n        componentContainer.appendChild(contentContainer);\n\n        this.selector.appendChild(componentContainer);\n    },\n    // initialize the generic events\n    _initEvents: function () {\n        var me = this;\n        var oldIndex = 0;\n        // initialize add new item button\n        me.selector.querySelector(\".add-new-carousel\").addEventListener(\"click\", function () {\n            me._openImageLib( function (imageUrls) {\n                var newItems = [], currentItem = null;\n                for (var i = 0; i < imageUrls.length ; i++) {\n                    currentItem = buildfire.actionItems.create(null, imageUrls[i], 'image');\n                    if (!currentItem.action) {\n                        currentItem.action = \"noAction\";\n                    }\n\n                    newItems.push(currentItem);\n                    currentItem = null;\n                }\n\n                if(newItems.length) {\n                    me.loadItems(newItems, true);\n                    me.onAddItems(newItems);\n                }\n            });\n        });\n\n        // initialize the sort on the container of the items\n        me.sortableList = Sortable.create(me.itemsContainer, {\n            animation: 150,\n            onUpdate: function (evt) {\n                var newIndex = me._getSortableItemIndex(evt.item);\n                var tmp = me.items[oldIndex];\n\n                if (oldIndex < newIndex) {\n                    for (var i = oldIndex + 1; i <= newIndex; i++) {\n                        me.items[i - 1] = me.items[i];\n                    }\n                } else {\n                    for (var i = oldIndex - 1; i >= newIndex; i--) {\n                        me.items[i + 1] = me.items[i];\n                    }\n                }\n\n                me.items[newIndex] = tmp;\n                me.onOrderChange(tmp, oldIndex, newIndex);\n            },\n            onStart: function (evt) {\n                oldIndex = me._getSortableItemIndex(evt.item);\n            }\n        });\n    },\n    // a wrapper method over buildfire showDialog\n    _openActionItem: function (item, callback) {\n        buildfire.actionItems.showDialog(item, { showIcon: true, allowNoAction: true }, function (err, actionItem) {\n            if (err)\n                console.error(\"Error getting item details: \", err);\n            else {\n                if (actionItem) {\n                    callback(actionItem);\n                }\n            }\n        });\n    },\n    // a wrapper method over buildfire imageLib showDialog\n    _openImageLib: function (callback) {\n        buildfire.imageLib.showDialog({ multiSelect : true ,showIcons :false }, function (err, result) {\n            if (err)\n                console.error(\"Error getting images: \", err);\n            else\n                callback(result.selectedFiles);\n        });\n    },\n    // get item index in the items array\n    _getItemIndex: function (item) {\n        return this.items.indexOf(item);\n    },\n    // get item index from the DOM sortable elements\n    _getSortableItemIndex: function (item) {\n        var index = 0;\n        while ((item = item.previousSibling) != null) {\n            index++;\n        }\n        return index;\n    }\n};\n\n// This is the class that will be used in the mobile\nbuildfire.components.carousel.view = function (selector, items, layout,speed) {\n\tif (typeof($.fn) != \"object\" || !($.fn && $.fn.owlCarousel)) {\n        throw (\"please add owlCarousel.js first to use carousel component\");\n    }\n    this.selector = selector;\n    this.items = [];\n    this._initDimensions(layout);\n    this._loadItems(items, false);\n    this.init(selector,speed);\n\twindow.dispatchEvent(new CustomEvent('resize'));\n};\n\n// Carousel view methods\nbuildfire.components.carousel.view.prototype = {\n    // will be called to initialize the setting in the constructor\n    init: function (selector,speed) {\n        this.selector = buildfire.components.carousel._getDomSelector(selector);\n        this._renderSlider();\n\n        var that = this;\n\n        this._loadImages(speed, function(){\n            if (that.items.length) {\n                if(typeof speed === 'undefined')\n                    that._applySlider();\n                else\n                    that._applySlider(speed);\n            } else {\n                that._hideSlider();\n            }\n        });\n    },\n    // this method allows you to append or replace slider images\n    loadItems: function (items, appendItems, layout,speed) {\n        if (this.$slider) {\n            this._destroySlider();\n            this._removeAll();\n        }\n\n        this._initDimensions(layout);\n        this._renderSlider();\n\n        this._loadItems(items, appendItems);\n\n        var that = this;\n\n        this._loadImages(speed, function(){\n            if (!that.items.length) {\n                that._hideSlider();\n            } else {\n                that._showSlider();\n            }\n\n            // if items.length == 0 and appendItems == undefined no need to init the slider it will break if we do so\n            if (items instanceof Array && !items.length && !appendItems) {\n                return;\n            }\n            that._applySlider(speed);\n        });\n    },\n    // allows you to append a single item or an array of items\n    append: function(items){\n        if(!items)\n            return;\n        else if (!(items instanceof Array) && typeof(items) == \"object\")\n            items=[items];\n\n        this.loadItems(items,true);\n    },\n\n    _initDimensions: function (layout) {\n        this.width = window.innerWidth;\n        layout = layout || \"WideScreen\";\n        if (layout == \"WideScreen\") {\n          this.height = Math.ceil(9 * this.width / 16);\n        } else if (layout == \"Square\") {\n            this.height = this.width;\n        } else if (layout == \"Cinema\") {\n            this.height = Math.ceil(1 * this.width / 2.39);\n        }else if(layout == \"MobileScreen\"){\n            this.height=(window.innerHeight/this.width)*this.width;\n            this.width=this.width;\n        }\n\n        this.cssWidth = this.width + \"px\";\n\t\tif(this.height > 380){\n\t\t\tthis.cssHeight = '380px';\n\t\t}else{\n\t\t\tthis.cssHeight = this.height + \"px\";\t\t\t\n\t\t}\n\n\t\t// Set Min height on carousel so doesn't push content down on load.\n\t\tthis._minHeight = '180px';\n\t\tthis._minHeight = this.cssHeight;\n    },\n    // remove all nodes from the slider\n    _removeAll: function () {\n        if(!this.$slider)return;\n        var slider = this.$slider.get(0);\n        var fc = slider.firstChild;\n        while (fc) {\n            slider.removeChild(fc);\n            fc = slider.firstChild;\n        }\n    },\n    // internal method to load the provided item in this class items property\n    _loadItems: function (items, appendItems) {\n        if (!appendItems && this.items.length) {\n            this.items = [];\n        }\n\n        if (items && items instanceof Array && items.length) {\n            for (var i = 0; i < items.length; i++) {\n                this.items.push(items[i]);\n            }\n        }\n    },\n    // this method will be called when the slide has no items\n    _hideSlider: function () {\n        this.selector.style.display = \"none\";\n    },\n    // this method will be called to show the slider if it's already hidden\n    _showSlider: function () {\n        this.selector.style.display = \"block\";\n    },\n    // initialize the slider\n    _applySlider: function (speed) {\n        var me = this;\n        me.$slider = $(me.selector);\n        if (me.items.length > 1) {\n\n            var sliderOptions = {\n                navigation: false,\n                dots: false,\n                slideSpeed: 800,\n                paginationSpeed: 800,\n                singleItem: true,\n                pagination: false,\n                items: 1,\n                itemsMobile: true,\n\t\t\t\tlazyLoad:true,\n                autoHeight: false,\n                autoplay: true,\n                autoplaySpeed:800\n            };\n\n            sliderOptions.autoplay =(speed==0)? 0:3000;\n            sliderOptions.autoplayTimeout =speed? speed:5000;\n            sliderOptions.loop = true;\n            me.$slider.owlCarousel(sliderOptions);\n        }\n\n\n        if(typeof speed === 'undefined')\n            $('.plugin-slide').show();\n        else\n            $('.my-slide').show();\n    },\n    // destroy the slider if it's already in the DOM\n    _destroySlider: function () {\n        if(!this.$slider || !this.$slider.data) return;\n        var sliderData = this.$slider.data('owlCarousel');\n        if (sliderData) {\n            this.$slider.trigger('autoplay.stop.owl');\n            this.$slider.trigger('autoplay.loop.owl', false);\n            sliderData.destroy();\n        }\n    },\n    // render the slider wrapper HTML\n    _renderSlider: function () {\n        var me = this;\n\n\t\t// Add min-height to carousel to prevent it from pushing content down.\n\t\tme.selector.style['min-height'] = me._minHeight;\n        me.selector.style.position = \"relative\";\n        me.selector.style.top = \"0px\";\n        me.selector.style.left = \"0px\";\n\t\t\n        //me.selector.style.width = this.cssWidth;\n        //me.selector.style.height = this.cssHeight;\n        me.selector.className = \"plugin-slider text-center\";\n    },\n    // loop and append the images to the DOM\n    _loadImages: function (speed, callback) {\n        var items = this.items;\n        var itemsLength = items.length;\n\n        var pending =  itemsLength;\n\n        if(itemsLength == 0){\n            callback();\n        }\n\n        for (var i = 0; i < itemsLength; i++) {\n            this._appendItem(items[i], i,speed, function(){\n                pending--;\n\n                if(pending == 0){\n                    callback();\n                }\n            });\n        }\n    },\n    // add new slider to the DOM\n    _appendItem: function (item, index, speed, callback) {\n        var slider = document.createElement(\"div\");\n\n        if(typeof speed === 'undefined')\n            slider.className = \"plugin-slide\";\n        else\n            slider.className = \"my-slide\";\n\t\t\n\t\tif(0 != index) {\n\t\t\tslider.style.display = \"none\";\n\t\t}\n\t\t\n        slider.addEventListener(\"click\", function () {\n            buildfire.actionItems.execute(item, function (err, result) {\n                if (err) {\n                    console.warn('Error openning slider action: ', err);\n                }\n            });\n        });\n\n        // Images\n        var me = this;\n        var image = document.createElement(\"img\");\n        me.$slider = $(me.selector);\n\n        buildfire.imageLib.local.cropImage(item.iconUrl, {\n            width: this.width,\n            height: this.height\n        }, function (err, result) {\n            if (!err) {\n                image.src = result;\n                image.style.transform = \"translateZ(0)\";\n                slider.appendChild(image);\n                me.selector.appendChild(slider);\n            }\n            else\n                console.log('Error occurred while cropping image: ', err);\n\n            callback();\n        });\n    }\n};","'use strict';\n\nif (typeof (buildfire) == \"undefined\") throw (\"please add buildfire.js first to use pluginInstances sortableList components\");\n\nif (typeof (buildfire.notifications) == \"undefined\") throw (\"please add notifications.js first to use pluginInstances sortableList components\");\n\nif (typeof (buildfire.components) == \"undefined\")\n    buildfire.components = {};\n\nif (typeof (buildfire.components.pluginInstance) == \"undefined\")\n    buildfire.components.pluginInstance = {};\n\n/*\n options: { //optional will also ecep a number for page index\n    pageIndex: 0 ,\n    pageSize: 20\n }\n*/\nbuildfire.components.pluginInstance.getAllPlugins = function (options, callback) {\n  //  var me = this;\n    if (typeof (options) == \"function\") {\n        callback = options;\n        options = {\n            pageIndex: 0 ,\n            pageSize: 50\n        };\n    }\n    else if(typeof(options) == \"number\"){\n        options = {\n            pageIndex: options ,\n            pageSize: 50\n        };\n    }\n\n    if (!callback) {\n        throw \"Please provide a callback forget AllPlugins\";\n    }\n    buildfire.pluginInstance.search(options, function (err, result) {\n        if (err) {\n            console.error(\"Error searching plugins: \", err);\n        }\n        var data = buildfire.components.pluginInstance._mapFromSearch(result);\n        console.log(result)\n        callback(err, { total: result.totalRecord, data: data });\n    });\n},\n\nbuildfire.components.pluginInstance._mapFromSearch = function (data) {\n    var result = [], dataResult = [], dataResultLength = 0, currentPlugin = null, tempObj = null;\n    if (data.result && data.result instanceof Array) {\n        dataResult = data.result;\n        dataResultLength = dataResult.length;\n        for (var i = 0; i < dataResultLength; i++) {\n\n            currentPlugin = dataResult[i];\n            if (currentPlugin.data && currentPlugin.data._buildfire) {\n                tempObj = {};\n\n                tempObj.folderName = currentPlugin.data._buildfire.pluginType.result[0].folderName;\n                tempObj.instanceId = currentPlugin.data.instanceId;\n                tempObj.iconUrl = currentPlugin.data.iconUrl;\n                tempObj.pluginTypeId = currentPlugin.data._buildfire.pluginType.data;\n                tempObj.pluginTypeName = currentPlugin.data._buildfire.pluginType.result[0].name;\n                tempObj.title = currentPlugin.data.title;\n                tempObj.iconClassName = currentPlugin.data.iconClassName;\n                result.push(tempObj);\n                tempObj = null;\n                currentPlugin = null;\n            }\n        }\n    }\n    return result;\n};\n\n// This is the class that will be used in the plugin content, design, or settings sections\nbuildfire.components.pluginInstance.sortableList = function (selector, items, dialogOptions, loadAllItems, hideLoadButton) {\n    // sortableList requires Sortable.js\n    if (typeof (Sortable) == \"undefined\") throw (\"please add Sortable first to use sortableList components\");\n    this.selector = selector;\n    this.items = [];\n    this.loadedInstances = [];\n    this.checkId = \"loadAllPlugins\" + Math.floor((Math.random() * 1000) + 1);\n    this.loadAllSelector = \"#\" + this.checkId;\n    this.hideLoadButton = hideLoadButton;\n    this._loadAllItems = loadAllItems ? true : false;\n    this.dialogOptions = typeof (dialogOptions) == \"object\" && dialogOptions != null ? dialogOptions : { showIcon: true, confirmDeleteItem: true };\n    this.init(selector);\n    this.loadItems(items);\n};\n\n// sortableList editor methods\nbuildfire.components.pluginInstance.sortableList.prototype = {\n    // will be called to initialize the setting in the constructor\n    init: function (selector) {\n        this.selector = this._getDomSelector(selector);\n        this._renderTemplate();\n        this.itemsContainer = this.selector.querySelector(\".draggable-list-view\");\n        this._initEvents();\n    },\n    /* This will be triggered when the order of items changes\n       Example: if you move the first item location to be the second this will return item object, 0, 1 */\n    onOrderChange: function (item, oldIndex, newIndex) {\n        console.warn(\"please handle onOrderChange\", item, oldIndex, newIndex);\n    },\n    // This will be triggered when you add a new item, item index will be items.length\n    onAddItems: function (items) {\n        console.warn(\"please handle onAddItems\", items);\n    },\n    // This will be triggered when you delete an item\n    onDeleteItem: function (item, index) {\n        console.warn(\"please handle onDeleteItem\", item);\n    },\n    // This will be triggered when the user checks to load all plugins option\n    onLoadAll: function (items) {\n        console.warn(\"please handle onLoadAll\", items);\n    },\n    // This will be triggered when you delete an item\n    onUnloadAll: function () {\n        console.warn(\"please handle onUnloadAll\");\n    },\n    loadAllItems: function () {\n        this._loadAllItems = true;\n        this.selector.querySelector(this.loadAllSelector).setAttribute(\"checked\", true);\n        this._toggleAddButton(\"disable\");\n    },\n    // this method allows you to replace the slider image or append to then if appendItems = true\n    loadItems: function (items, appendItems, showPlugin) {\n        if (items && items instanceof Array) {\n            if (!appendItems && this.items.length !== 0) {\n                // here we want to remove any existing items since the user of the component don't want to append items\n                this._removeAll();\n            }\n            if(appendItems=='loadAll' || showPlugin=='loadAll'){\n                this._loadAllItems = true;\n                this.selector.querySelector(this.loadAllSelector).setAttribute(\"checked\", true);\n                this._toggleAddButton(\"disable\");\n            }\n\n            for (var i = 0; i < items.length; i++) {\n                this.items.push(items[i]);\n                this.loadedInstances.push(items[i].instanceId);\n                this._appendItem(items[i]);\n            }\n        }\n    },\n    // allows you to append a single item or an array of items\n    append: function (items) {\n        if (!items)\n            return;\n        else if (!(items instanceof Array) && typeof (items) == \"object\")\n            items = [items];\n\n        this.loadItems(items, true);\n    },\n    // remove all items in list\n    clear: function () {\n        this._removeAll();\n        this.onDeleteItem();\n    },\n    // remove all the DOM element and empty the items array\n    _removeAll: function () {\n        this.items = [];\n        this.loadedInstances = [];\n        var fc = this.itemsContainer.firstChild;\n\n        while (fc) {\n            this.itemsContainer.removeChild(fc);\n            fc = this.itemsContainer.firstChild;\n        }\n    },\n    // append new sortable item to the DOM\n    _appendItem: function (item) {\n        var me = this,\n            // Create the required DOM elements\n            wrapper = document.createElement(\"div\"),\n            moveHandle = document.createElement(\"span\"),\n            mediaHolder = null,\n            media = null,\n            details = document.createElement(\"div\"),\n            title = document.createElement(\"span\"),\n            buttonsWrapper = document.createElement(\"div\"),\n            navigateButton = document.createElement(\"span\"),\n            deleteButton = document.createElement(\"span\");\n\n        // Add the required classes to the elements\n        wrapper.className = \"d-item clearfix\";\n        moveHandle.className = \"icon icon-menu cursor-grab pull-left\";\n        details.className = \"copy pull-right\";\n        title.className = \"title ellipsis item-title\";\n        buttonsWrapper.className = \"pull-right\";\n        navigateButton.className = \"btn-icon btn-link-icon btn-primary\";\n        deleteButton.className = \"btn-icon btn-delete-icon btn-danger transition-third\";\n\n        title.innerHTML = item.title;\n\n        // Append elements to the DOM\n        wrapper.appendChild(moveHandle);\n\n        if (this.dialogOptions.showIcon == true) {\n            mediaHolder = document.createElement(\"div\");\n            mediaHolder.className = \"media-holder pull-left\";\n            if (item.iconUrl) {\n                media = document.createElement(\"img\");\n                media.src = this._resizeImage(item.iconUrl, { width: 80, height: 40 });\n                mediaHolder.appendChild(media);\n            } else if (item.iconClassName) {\n                media = document.createElement(\"i\");\n                media.className = \"main-icon \" + item.iconClassName;\n                mediaHolder.appendChild(media);\n            }\n\n            wrapper.appendChild(mediaHolder);\n        }\n\n        details.appendChild(title);\n        buttonsWrapper.appendChild(navigateButton);\n        buttonsWrapper.appendChild(deleteButton);\n\n        details.appendChild(buttonsWrapper);\n        wrapper.appendChild(details);\n        me.itemsContainer.appendChild(wrapper);\n\n        // initialize the required events on the current item\n        (function () {\n            navigateButton.addEventListener(\"click\", function (e) {\n                e.preventDefault();\n                buildfire.navigation.navigateTo({pluginId : item.pluginTypeId ,  instanceId :  item.instanceId  , folderName : item.folderName , title : item.title });\n            });\n\n            deleteButton.addEventListener(\"click\", function (e) {\n                e.preventDefault();\n\t\tvar deleteItem = function() {\n\t\t\tvar itemIndex = me._getItemIndex(item);\n\t\t\tvar itemId = me.items[itemIndex].instanceId;\n\t\t\tvar\tparent = deleteButton.parentNode.parentNode.parentNode;\n\t\t\tif (itemIndex != -1) {\n\t\t\t\tme.items.splice(itemIndex, 1);\n\t\t\t\tme.loadedInstances.splice(me.loadedInstances.indexOf(itemId), 1);\n\t\t\t\tparent.parentNode.removeChild(parent);\n\t\t\t\tme.onDeleteItem(item, itemIndex);\n\t\t\t}\n\t\t};\n\t\tif(me.dialogOptions.confirmDeleteItem) {\n\t\t\tbuildfire.notifications.confirm({\n\t\t\t\ttitle: \"Remove Plugin Instance\",\n\t\t\t\tmessage: '<p>Are you sure you want to do this?</p>\\\n\t\t\t<p class=\"margin-zero\">Note: If you would like to add it again, you can do so by clicking the button above.</p>',\n\t\t\t\tbuttonLabels: [\"Delete\", \"Cancel\"],\n\t\t\t\ttarget: e.currentTarget\n\t\t\t}, function (e) {\n\t\t\t\tdeleteItem();\n\t\t\t}.bind(this));\n\t\t} else {\n\t\t\tdeleteItem();\n\t\t}\n            });\n        })(item);\n    },\n\n    _getOffset: function (el) {\n        el = el.getBoundingClientRect();\n        return {\n            left: el.left + window.scrollX,\n            top: el.top + window.scrollY\n        }\n    },\n    // render the basic template HTML\n    _renderTemplate: function () {\n        var componentContainer = document.createElement(\"div\");\n        var componentName = document.createElement(\"div\");\n        var contentContainer = document.createElement(\"div\");\n        var buttonContainer = document.createElement(\"div\");\n        var getAllContainer = document.createElement(\"div\");\n        var getAllCheckbox = document.createElement(\"input\");\n        var getAlllabel = document.createElement(\"label\");\n        var button = document.createElement(\"button\");\n        var sliderContainer = document.createElement(\"div\");\n\n        getAllCheckbox.setAttribute(\"type\", \"checkbox\");\n        if (this._loadAllItems) {\n            getAllCheckbox.setAttribute(\"checked\", \"checked\");\n        } else {\n            getAllCheckbox.removeAttribute(\"checked\");\n        }\n\n        componentContainer.className = \"item clearfix row margin-bottom-fifteen\";\n        componentName.className = \"labels col-md-3 padding-right-zero pull-left\";\n        componentName.innerHTML = \"Plugin Instances\";\n        contentContainer.className = \"main col-md-9 pull-right\";\n        buttonContainer.className = \"clearfix\";\n        getAllContainer.className = \"checkbox checkbox-primary\";\n        button.className = \"btn btn-success pull-left add-new-item\";\n        sliderContainer.className = \"carousel-items hide-empty draggable-list-view margin-top-twenty border-radius-four border-grey\";\n\n        button.innerHTML = \"Add Plugin Instance\";\n        getAlllabel.innerHTML = \"Load all plugin instances\";\n        getAlllabel.setAttribute(\"for\", this.checkId);\n        getAllCheckbox.id = this.checkId;\n\n        getAllContainer.appendChild(getAllCheckbox);\n        getAllContainer.appendChild(getAlllabel);\n        componentContainer.appendChild(componentName);\n        buttonContainer.appendChild(button);\n        contentContainer.appendChild(buttonContainer);\n        contentContainer.appendChild(getAllContainer);\n        contentContainer.appendChild(sliderContainer);\n        componentContainer.appendChild(contentContainer);\n        if (this.hideLoadButton) {\n            getAllContainer.style.display = \"none\";\n        }\n        this.selector.appendChild(componentContainer);\n    },\n    // initialize the generic events\n    _initEvents: function () {\n        var me = this;\n        var oldIndex = 0;\n        // initialize add new item button\n        me.selector.querySelector(\".add-new-item\").addEventListener(\"click\", function () {\n            me._openPluginInstance({}, function (plugins) {\n                var newInstances = 0, pluginsLength, addedItems = [];\n                if (plugins instanceof Array) {\n                    pluginsLength = plugins.length;\n                    for (var i = 0; i < pluginsLength; i++) {\n                        if (me.loadedInstances.indexOf(plugins[i].instanceId) == -1) {\n                            me.items.push(plugins[i]);\n                            addedItems.push(plugins[i]);\n                            me._appendItem(plugins[i]);\n                            me.loadedInstances.push(plugins[i].instanceId);\n                            newInstances++;\n                        }\n                    }\n\n                    if (newInstances > 0) {\n                        me.onAddItems(addedItems);\n                    }\n                }\n            });\n        });\n\n        me.selector.querySelector(this.loadAllSelector).addEventListener(\"change\", function () {\n            if (this.checked) {\n                me._toggleAddButton(\"disable\");\n\n                // remove all selected plugins from this.items and from the DOM\n                // me._removeAll(); //Commented this method to Implement the feature of pivital ticket #113777595\n\n                me.onLoadAll();\n\n            } else {\n                me.onUnloadAll();\n                me._toggleAddButton(\"enable\");\n            }\n        });\n\n        // initialize the sort on the container of the items\n        me.sortableList = Sortable.create(me.itemsContainer, {\n            animation: 150,\n            onUpdate: function (evt) {\n                var newIndex = me._getSortableItemIndex(evt.item);\n                var tmp = me.items[oldIndex];\n\n                if (oldIndex < newIndex) {\n                    for (var i = oldIndex + 1; i <= newIndex; i++) {\n                        me.items[i - 1] = me.items[i];\n                    }\n                } else {\n                    for (var i = oldIndex - 1; i >= newIndex; i--) {\n                        me.items[i + 1] = me.items[i];\n                    }\n                }\n\n                me.items[newIndex] = tmp;\n                me.onOrderChange(tmp, oldIndex, newIndex);\n            },\n            onStart: function (evt) {\n                oldIndex = me._getSortableItemIndex(evt.item);\n            }\n        });\n    },\n    // a wrapper method over buildfire showDialog\n    _openPluginInstance: function (options, callback) {\n        buildfire.pluginInstance.showDialog(options, function (err, plugin) {\n            if (err)\n                console.error(\"Error getting item details: \", err);\n            else {\n                if (plugin) {\n                    callback(plugin);\n                }\n            }\n        });\n    },\n    // get item index in the items array\n    _getItemIndex: function (item) {\n        return this.items.indexOf(item);\n    },\n    // get item index from the DOM sortable elements\n    _getSortableItemIndex: function (item) {\n        var index = 0;\n        while ((item = item.previousSibling) != null) {\n            index++;\n        }\n        return index;\n    },\n    _getDomSelector: function (selector) {\n        if (selector && selector.nodeType && selector.nodeType === 1) {\n            return selector;\n        } else if (typeof (selector) === \"string\") {\n            selector = document.querySelector(selector);\n            if (selector) {\n                return selector;\n            }\n            throw \"selector is not a valid DOM selector\";\n        }\n        throw \"selector is not a valid DOM element nor string selector\";\n    },\n    _resizeImage: function (url, options) {\n        if (!url) {\n            return \"\";\n        }\n        else {\n            return buildfire.imageLib.resizeImage(url, options);\n        }\n    },\n    _toggleAddButton: function (status) {\n        var buttonSelector = this.selector.querySelector(\".add-new-item\");\n        if (status == \"enable\") {\n            buttonSelector.removeAttribute(\"disabled\");\n        } else {\n            buttonSelector.setAttribute(\"disabled\", \"disabled\");\n        }\n    }\n};","/* ng-infinite-scroll - v1.0.0 - 2013-02-23 */\n/*This is custom versiom on infinite-scroll, we have added infiniteContainer attribute which accept container name on which we are applying the scroll*/\nvar mod;\n\nmod = angular.module('infinite-scroll', []);\n\nmod.directive('infiniteScroll', [\n  '$rootScope', '$window', '$timeout', function($rootScope, $window, $timeout) {\n    return {\n      link: function(scope, elem, attrs) {\n        var checkWhenEnabled, handler, scrollDistance, scrollEnabled, $parent;\n        $parent = angular.element(attrs.infiniteContainer || $window);\n        console.log(\"PAR\",$parent);\n        scrollDistance = 0;\n        if (attrs.infiniteScrollDistance != null) {\n          scope.$watch(attrs.infiniteScrollDistance, function(value) {\n            return scrollDistance = parseInt(value, 10);\n          });\n        }\n        scrollEnabled = true;\n        checkWhenEnabled = false;\n        if (attrs.infiniteScrollDisabled != null) {\n          scope.$watch(attrs.infiniteScrollDisabled, function(value) {\n            scrollEnabled = !value;\n            if (scrollEnabled && checkWhenEnabled) {\n              checkWhenEnabled = false;\n              return handler();\n            }\n          });\n        }\n        handler = function() {\n          var elementBottom, remaining, shouldScroll, windowBottom;\n          windowBottom = $parent.height() + $parent.scrollTop();\n          elementBottom = elem.offset().top + elem.height();\n          remaining = elementBottom - windowBottom;\n          shouldScroll = remaining <= $parent.height() * scrollDistance;\n          if (shouldScroll && scrollEnabled) {\n            if ($rootScope.$$phase) {\n              return scope.$eval(attrs.infiniteScroll);\n            } else {\n              return scope.$apply(attrs.infiniteScroll);\n            }\n          } else if (shouldScroll) {\n            return checkWhenEnabled = true;\n          }\n        };\n        $parent.on('scroll', handler);\n        scope.$on('$destroy', function() {\n          return $parent.off('scroll', handler);\n        });\n        return $timeout((function() {\n          if (attrs.infiniteScrollImmediateCheck) {\n            if (scope.$eval(attrs.infiniteScrollImmediateCheck)) {\n              return handler();\n            }\n          } else {\n            return handler();\n          }\n        }), 0);\n      }\n    };\n  }\n]);","/**\n * Created by zain on 13/01/16.\n */\n\n/* Shared functionality */\nvar folderPluginShared = folderPluginShared || {};\n\nfolderPluginShared.getPluginDetails = function (pluginsInfo, pluginIds) {\n    var returnPlugins = [];\n    var tempPlugin = null;\n    for (var id = 0; id < pluginIds.length; id++) {\n        for (var i = 0; i < pluginsInfo.length; i++) {\n            tempPlugin = {};\n            var obj = pluginsInfo[i].data ? pluginsInfo[i].data : pluginsInfo[i];\n            if (pluginIds[id] == obj.instanceId) {\n                tempPlugin.instanceId = obj.instanceId;\n                if (obj) {\n                    tempPlugin.iconUrl = obj.iconUrl;\n                    tempPlugin.iconClassName = obj.iconClassName;\n                    tempPlugin.title = obj.title;\n                    if(obj.pluginType) {\n                        tempPlugin.pluginTypeId = obj.pluginType.token ;\n                        tempPlugin.folderName = obj.pluginType.folderName;\n                    }\n                    else{\n                        tempPlugin.pluginTypeId = obj.pluginTypeId;\n                        tempPlugin.folderName = obj.folderName ;\n                    }\n                } else {\n                    tempPlugin.iconUrl = \"\";\n                    tempPlugin.title = \"[No title]\";\n                }\n                returnPlugins.push(tempPlugin);\n            }\n            tempPlugin = null;\n        }\n    }\n     return returnPlugins;\n};\n\nfolderPluginShared.getDefaultScopeData = function () {\n    return {\n        \"_buildfire\": {\n            \"plugins\": {\n                \"dataType\": \"pluginInstance\",\n                \"data\": []\n            }\n        },\n        \"content\": {\n            \"carouselImages\": [{\n                \"action\": \"noAction\",\n                \"iconUrl\": \"http://buildfire.imgix.net/b55ee984-a8e8-11e5-88d3-124798dea82d/7ef5f050-134f-11e6-bd0b-2511d1715baa.jpeg\",\n                \"title\": \"image\"\n            }, {\n                \"action\": \"noAction\",\n                \"iconUrl\": \"http://buildfire.imgix.net/b55ee984-a8e8-11e5-88d3-124798dea82d/7e028fa0-134f-11e6-b7ce-51a0b9ba84fd.jpg\",\n                \"title\": \"image\"\n            }],\n            \"text\": \"<p>With the Folder plugin you can categorize existing plugins so that you can easily direct your users to the proper content. Check out our tutorial in our knowledge base for more information. HINT: You'll also want to check out our article on the WYSIWYG</p>\",\n            \"loadAllPlugins\": false\n        },\n        \"design\": {\n            \"backgroundImage\": null,\n            \"selectedLayout\": 1,\n            \"backgroundblur\": 0,\n            \"hideText\":false\n        },\n        \"default\" : true\n    };\n};\n/*\n folderPluginShared.getEditorOptions = function () {\n return {\n plugins: 'advlist autolink link image lists charmap print preview',\n skin: 'lightgray',\n trusted: true,\n theme: 'modern'\n };\n };\n */\nfolderPluginShared.getLayouts = function () {\n    return [\n        \"./layouts/layout1.png\",\n        \"./layouts/layout2.png\",\n        \"./layouts/layout3.png\",\n        \"./layouts/layout4.png\",\n        \"./layouts/layout5.png\",\n        \"./layouts/layout6.png\",\n        \"./layouts/layout7.png\",\n        \"./layouts/layout8.png\",\n        \"./layouts/layout9.png\",\n        \"./layouts/layout10.png\",\n        \"./layouts/layout11.png\",\n        \"./layouts/layout12.png\"\n    ];\n};\n\n\nfolderPluginShared.digest = function ($scope) {\n    if (!$scope.$$phase && !$scope.$root.$$phase) {\n        $scope.$apply();\n    }\n};\n/* End shared functionality */\n\nvar folderPluginApp = angular.module('folderPlugin',['infinite-scroll']).directive(\"loadImage\", function () {\n    return {\n        restrict: 'A',\n        link: function (scope, element, attrs) {\n            element.attr(\"src\", \"../../../styles/media/holder-\" + attrs.loadImage + \".gif\");\n\n            attrs.$observe('finalSrc', function() {\n                var _img = attrs.finalSrc;\n\n                if (attrs.cropType == 'resize') {\n                    buildfire.imageLib.local.resizeImage(_img, {\n                        width: attrs.cropWidth,\n                        height: attrs.cropHeight\n                    }, function (err, imgUrl) {\n                        _img = imgUrl;\n                        replaceImg(_img);\n                    });\n                } else {\n                    buildfire.imageLib.local.cropImage(_img, {\n                        width: attrs.cropWidth,\n                        height: attrs.cropHeight\n                    }, function (err, imgUrl) {\n                        _img = imgUrl;\n                        replaceImg(_img);\n                    });\n                }\n            });\n\n            function replaceImg(finalSrc) {\n                var elem = $(\"<img>\");\n                elem[0].onload = function () {\n                    element.attr(\"src\", finalSrc);\n                    elem.remove();\n                };\n                elem.attr(\"src\", finalSrc);\n            }\n        }\n    };\n});\n\nfolderPluginApp.directive('backImg', [\"$rootScope\", function ($rootScope) {\n    return function (scope, element, attrs) {\n        attrs.$observe('backImg', function (value) {\n            var img = '';\n            if (value) {\n                buildfire.imageLib.local.cropImage(value, {\n                    width: window.innerWidth,\n                    height: window.innerHeight\n                }, function (err, imgUrl) {\n                    if (imgUrl) {\n                        img = imgUrl;\n                        element.attr(\"style\", 'background:url(' + img + ') !important ; background-size: cover !important;');\n                    } else {\n                        img = '';\n                        element.attr(\"style\", 'background-color:white');\n                    }\n                    element.css({\n                        'background-size': 'cover'\n                    });\n                });\n                // img = $filter(\"cropImage\")(value, $rootScope.deviceWidth, $rootScope.deviceHeight, true);\n            }\n            else {\n                img = \"\";\n                element.attr(\"style\", 'background-color:white');\n                element.css({\n                    'background-size': 'cover'\n                });\n            }\n        });\n    };\n}]);\n\nfolderPluginApp.directive('imgPreload', ['$rootScope', function($rootScope) {\n    return {\n        restrict: 'A',\n        scope: {\n            ngSrc: '@'\n        },\n        link: function(scope, element, attrs) {\n            element.on('load', function() {\n                element.addClass('in');\n            }).on('error', function() {\n                //\n            });\n\n            scope.$watch('ngSrc', function(newVal) {\n                element.removeClass('in');\n            });\n        }\n    };\n}]);\n\nfolderPluginApp.directive('emitLastRepeaterElement', function() {\n    return function(scope) {\n        if (scope.$last){\n            scope.$emit('LastRepeaterElement');\n        }\n    };\n});\n\nfolderPluginApp.directive('imageCarousel', function ($timeout) {\n    return {\n        restrict: 'A',\n        scope: {},\n        link: function (scope, elem, attrs) {\n            scope.carousel = null;\n            scope.timeout = null;\n            function initCarousel() {\n                if (scope.timeout) {\n                    $timeout.cancel(scope.timeout);\n                }\n                if (scope.carousel) {\n                    scope.carousel.trigger(\"destroy.owl.carousel\");\n                    $(elem).find(\".owl-stage-outer\").remove();\n                }\n                scope.carousel = null;\n                scope.timeout = $timeout(function () {\n                    var obj = {\n                        loop:false,\n                        nav:false,\n                        items:1\n                    };\n                    scope.carousel = $(elem).owlCarousel(obj);\n                }, 100);\n            }\n\n            initCarousel();\n            attrs.$observe(\"imageCarousel\", function (newVal, oldVal) {\n                if (newVal) {\n                    if (scope.carousel) {\n                        initCarousel();\n                    }\n                }\n            });\n        }\n    }\n})\n\nfolderPluginApp.controller('folderPluginCtrl', ['$scope', '$sce','$timeout','$rootScope', function ($scope, $sce,$timeout,$rootScope) {\n    var view = null;\n    var pagesCount = 0;\n    var currentPage = 0;\n    var loadingData = true;\n    $scope.layout12Height='300px';\n    $scope.layout12TotalItem=0;\n    $scope.setWidth = function () {\n        $rootScope.deviceWidth = window.innerWidth || 320;\n    };\n//    $scope.data = folderPluginShared.getDefaultScopeData();\n\n    function initDeviceSize(callback) {\n        $scope.deviceHeight = window.innerHeight;\n        $scope.deviceWidth = window.innerWidth || 320;\n        $scope.sliderHeight = Math.ceil(9 * $scope.deviceWidth / 16);\n        if (callback) {\n            if ($scope.deviceWidth == 0 || $scope.deviceHeight == 0) {\n                setTimeout(function () {\n                    initDeviceSize(callback);\n                }, 500);\n            } else {\n                callback();\n                if (!$scope.$$phase && !$scope.$root.$$phase) {\n                    $scope.$apply();\n                }\n            }\n        }\n    }\n\n    function preparePluginsData(plugins) {\n        if ($scope.data.design.selectedLayout == 5 || $scope.data.design.selectedLayout == 6) {\n            var temp = [];\n            var currentItem = 0;\n            var pluginsLength = plugins.length;\n\n            for (var i = 0; i < pluginsLength; i++) {\n                if (i % 2 == 0) {\n                    temp[currentItem] = [];\n                    temp[currentItem].push(plugins[i]);\n                } else {\n                    temp[currentItem].push(plugins[i]);\n\n                    currentItem++;\n                }\n            }\n\n            $scope.data.plugins = temp;\n        }else if  ($scope.data.design.selectedLayout == 12) {\n            var matrix = [], i, k;\n            var matrix = []\n            for (i = 0, k = -1; i < plugins.length; i++) {\n                if (i % 8 === 0) {\n                    k++;\n                    matrix[k] = [];\n                }\n                matrix[k].push(plugins[i]);\n            }\n            $scope.data.plugins = matrix;\n        }else{\n            $scope.data.plugins = plugins;\n        }\n    }\n\n    /*\n     * bind data to the scope\n     * */\n    function bind(data) {\n        $scope.data.design = data.design;\n\n        if (!$scope.data.design) {\n            $scope.data.design = {\n                backgroundImage: null,\n                selectedLayout: 1,\n                backgroundblur: 0\n            };\n        }\n        if(data.plugins){\n            var currentCount =Number(data.plugins.length);\n        }\n\n\n        preparePluginsData(data.plugins);\n\n\n        if(currentCount){\n            $scope.layout12TotalItem=currentCount;\n        }\n\n        $scope.data.content = data.content;\n       /* if (data && data.content && data.content.text) {\n            var $html = $('<div />', {html: data.content.text});\n            $html.find('iframe').each(function (index, element) {\n                var src = element.src;\n                console.log('element is: ', src, src.indexOf('http'));\n                src = src && src.indexOf('file://') != -1 ? src.replace('file://', 'http://') : src;\n                element.src = src && src.indexOf('http') != -1 ? src : 'http:' + src;\n            });\n            $scope.data.content.text = $sce.trustAsHtml($html.html());\n        }*/\n\n        if ($scope.data.content && $scope.data.content.carouselImages) {\n            initDeviceSize(function () {\n                $timeout(function () {\n                    if (!view) {\n                        view = new buildfire.components.carousel.view(\"#carousel\", $scope.data.content.carouselImages);\n                    } else {\n                        view.loadItems($scope.data.content.carouselImages);\n                    }\n                }, 1000);\n            });\n        }\n\n        if (!$scope.$$phase && !$scope.$root.$$phase) {\n            $scope.$apply();\n        }\n    }\n\n    $scope.safeHtml = function (html) {\n        if (html) {\n            var $html = $('<div />', {html: html});\n            $html.find('iframe').each(function (index, element) {\n                var src = element.src;\n                console.log('element is: ', src, src.indexOf('http'));\n                src = src && src.indexOf('file://') != -1 ? src.replace('file://', 'http://') : src;\n                element.src = src && src.indexOf('http') != -1 ? src : 'http:' + src;\n            });\n            return $sce.trustAsHtml($html.html());\n        }\n    };\n\n    var searchOptions = {pageIndex:0,pageSize:10};\n\n    function dataLoadedHandler(result) {\n        $scope.data = result.data;\n        $scope.$digest();\n        searchOptions.pageIndex=0;\n        var pluginsList = null;\n        if (result && result.data && !angular.equals({}, result.data) && result.data.content && result.data.design) {\n            if (result.data.content && result.data.content.loadAllPlugins) {\n                buildfire.components.pluginInstance.getAllPlugins(searchOptions,function (err, res) {\n                    $scope.imagesUpdated = false;\n                    pagesCount = Math.ceil(res.total / searchOptions.pageSize);\n                    result.data.plugins = res.data;\n\n                    bind(result.data);\n                    loadingData = false;\n                    if(pagesCount > 1)\n                        $scope.paging();\n                    $scope.imagesUpdated = !!result.data.plugins;\n                });\n            } else {\n                $scope.imagesUpdated = false;\n                pluginsList = result.data._buildfire.plugins;\n\n                if (result.data._buildfire && pluginsList && pluginsList.result && pluginsList.data) {\n                    result.data.plugins = folderPluginShared.getPluginDetails(result.data._buildfire.plugins.result, result.data._buildfire.plugins.data);\n                }\n                bind(result.data);\n                $scope.imagesUpdated = !!result.data.plugins;\n            }\n        }\n    };\n\n    /*\n     * Go pull saved data\n     * */\n    function loadData() {\n\n        buildfire.datastore.getWithDynamicData(function (err, result) {\n            if (err) {\n                console.error(\"Error: \", err);\n                return;\n            }\n            if(result.id){\n                dataLoadedHandler(result);\n            }else{\n                var obj={\n                    data:folderPluginShared.getDefaultScopeData()\n                }\n                dataLoadedHandler(obj);\n            }\n\n        });\n    }\n\n    loadData();\n\n    /**\n     * when a refresh is triggered get reload data\n     */\n\n    function resetPaging() {\n        pagesCount = 0;\n        searchOptions.pageIndex=currentPage=0;\n        loadingData = true;\n        $scope.data.plugins = [];\n    }\n\n    function onDatastoreChange(hardRefresh) {\n        resetPaging();\n        loadData();\n    }\n\n    buildfire.datastore.onRefresh(onDatastoreChange);\n\n    buildfire.datastore.onUpdate(function (result) {\n        resetPaging();\n        dataLoadedHandler(result);\n    });\n\n    $scope.cropImage = function (url, settings) {\n        var options = {};\n        if (!url) {\n            return \"\";\n        }\n        else {\n            if (settings.height) {\n                options.height = settings.height;\n            }\n            if (settings.width) {\n                options.width = settings.width;\n            }\n            return buildfire.imageLib.cropImage(url, options);\n        }\n    };\n\n    $scope.resizeImage = function (url, settings) {\n        var options = {};\n        if (!url) {\n            return \"\";\n        }\n        else {\n            if (settings.height) {\n                options.height = settings.height;\n            }\n            if (settings.width) {\n                options.width = settings.width;\n            }\n            return buildfire.imageLib.resizeImage(url, options);\n        }\n    };\n\n    $scope.navigateToPlugin = function (plugin) {\n\n        buildfire.navigation.navigateTo({\n            pluginId: plugin.pluginTypeId,\n            instanceId: plugin.instanceId,\n            title: plugin.title,\n            folderName: plugin.folderName\n        });\n    };\n\n    $scope.paging = function () {\n        if ($scope.data.content && $scope.data.content.loadAllPlugins && !loadingData && pagesCount > 1) {\n            loadingData = true;\n            $scope.loadMore = true;\n            if (currentPage + 1 < pagesCount) {\n\n                buildfire.spinner.show();\n                currentPage++;\n                searchOptions.pageIndex= currentPage;\n\n                buildfire.components.pluginInstance.getAllPlugins(searchOptions, function (err, res) {\n                    buildfire.spinner.hide();\n                    loadingData = false;\n                    var pluginsLength = res.data.length;\n\n                    if ($scope.data.design.selectedLayout == 5 || $scope.data.design.selectedLayout == 6) {\n                        var currentItem = $scope.data.plugins.length;\n\n\n                        for (var i = 0; i < pluginsLength; i++) {\n                            if (i % 2 == 0) {\n                                $scope.data.plugins[currentItem] = [];\n                                $scope.data.plugins[currentItem].push(res.data[i]);\n                            } else {\n                                $scope.data.plugins[currentItem].push(res.data[i]);\n                                currentItem++;\n                            }\n                        }\n                    } else {\n                        for (var i = 0; i < pluginsLength; i++) {\n                            $scope.data.plugins.push(res.data[i]);\n                        }\n                    }\n\n                    folderPluginShared.digest($scope);\n                  //  setTimeout($scope.paging,500);\n                });\n            }\n        }\n    };\n\n    $scope.$on('LastRepeaterElement', function(){\n       // $('.plugin-slider.text-center.owl-carousel').trigger(\"destroy.owl.carousel\");\n        $scope.layout12Height= $('.plugin-slider .plugin-slide').first().height()+380+'px';\n            var slides = $('.plugin-slider .plugin-slide').length;\n        $scope.layout12TotalItem=$scope.layout12TotalItem+1;\n            // Slider needs at least 2 slides or you'll get an error.\n            if(slides > 1){\n                $('.plugin-slider').owlCarousel({\n                    loop:false,\n                    nav:false,\n                    items:1\n                });\n            }\n    });\n}]);"],"sourceRoot":"/source/"}